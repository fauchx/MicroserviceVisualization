{"ast":null,"code":"import * as go from 'gojs';\n/*\r\n*  Copyright (C) 1998-2022 by Northwoods Software Corporation. All Rights Reserved.\r\n*/\n// This file holds definitions of all standard shape figures -- string values for Shape.figure.\n// You do not need to load this file in order to use named Shape figure.\n// The following figures are built-in to the go.js library and thus do not need to be redefined:\n//   Rectangle, Square, RoundedRectangle, Border, Ellipse, Circle,\n//   TriangleRight, TriangleDown, TriangleLeft, TriangleUp, Triangle,\n//   LineH, LineV, None, BarH, BarV, MinusLine, PlusLine, XLine\n// If you need any of the other figures that are defined in this file, we suggest that you copy\n// just those definitions into your own code.  Do not load this file unless you really want to\n// define a lot of code that your app does not use and will not get garbage-collected.\n// The following functions and variables are used throughout this file:\n\n/**\r\n* @constructor\r\n* @param {string} name\r\n* @param {number} def\r\n* @param {number=} min defaults to zero\r\n* @param {number=} max defaults to Infinity\r\n* @class\r\n* This FigureParameter class describes various properties each parameter uses in figures.\r\n*/\n\nvar m1;\n\nfunction FigureParameter(name, def, min, max) {\n  if (min === undefined\n  /*notpresent*/\n  ) min = 0.0;\n  if (max === undefined\n  /*notpresent*/\n  ) max = Infinity;\n  /** @type {string} */\n\n  this._name = name;\n  /** @type {number} */\n\n  this._defaultValue = def;\n  /** @type {number} */\n\n  this._minimum = min;\n  /** @type {number} */\n\n  this._maximum = max;\n}\n\n; // Public properties\n\n/**\r\n* Gets or sets the name of the figure.\r\n* @name FigureParamater#name\r\n\r\n* @return {string}\r\n*/\n\nObject.defineProperty(FigureParameter.prototype, \"name\", {\n  get: function get() {\n    return this._name;\n  },\n  set: function set(val) {\n    if (typeof val !== \"string\" || val === \"\") throw new Error(\"Shape name must be a valid string.\");\n    this._name = val;\n  }\n});\n/**\r\n* Gets or sets the default value for the parameter.\r\n* @name FigureParameter#defaultValue\r\n* @function\r\n* @return {number}\r\n*/\n\nObject.defineProperty(FigureParameter.prototype, \"defaultValue\", {\n  get: function get() {\n    return this._defaultValue;\n  },\n  set: function set(val) {\n    if (typeof val !== \"number\" || isNaN(val)) throw new Error(\"The default value must be a real number, not: \" + val);\n    this._defaultValue = val;\n  }\n});\n/**\r\n* Gets or sets the minimum value allowed for the figure parameter.\r\n* @name FigureParameter#minimum\r\n\r\n* @return {number}\r\n*/\n\nObject.defineProperty(FigureParameter.prototype, \"minimum\", {\n  get: function get() {\n    return this._minimum;\n  },\n  set: function set(val) {\n    if (typeof val !== \"number\" || isNaN(val)) throw new Error(\"Minimum must be a real number, not: \" + val);\n    this._minimum = val;\n  }\n});\n/**\r\n* Gets or sets the maximum value allowed for the figure parameter.\r\n* @name FigureParameter#maximum\r\n\r\n* @return {number}\r\n*/\n\nObject.defineProperty(FigureParameter.prototype, \"maximum\", {\n  get: function get() {\n    return this._maximum;\n  },\n  set: function set(val) {\n    if (typeof val !== \"number\" || isNaN(val)) throw new Error(\"Maximum must be a real number, not: \" + val);\n    this._maximum = val;\n  }\n});\ngo.Shape._FigureParameters = {};\n/*\r\n* This static function gets a FigureParameter for a particular figure name.\r\n* @param {String} figurename\r\n* @param {number} index, currently must be either 0 or 1\r\n* @return {FigureParameter}\r\n*/\n\ngo.Shape.getFigureParameter = function (figurename, index) {\n  var arr = go.Shape._FigureParameters[figurename];\n  if (!arr) return null;\n  return (\n    /** @type {FigureParmeter} */\n    arr[index]\n  );\n};\n/*\r\n* This static function sets a FigureParameter for a particular figure name.\r\n* @param {String} figurename\r\n* @param {number} index, currently must be either 0 or 1\r\n* @param {FigureParameter} figparam\r\n*/\n\n\ngo.Shape.setFigureParameter = function (figurename, index, figparam) {\n  if (!(figparam instanceof FigureParameter)) throw new Error(\"Third argument to Shape.setFigureParameter is not FigureParameter: \" + figparam);\n  if (figparam.defaultValue < figparam.minimum || figparam.defaultValue > figparam.maximum) throw new Error(\"defaultValue must be between minimum and maximum, not: \" + figparam.defaultValue);\n  var arr = go.Shape._FigureParameters[figurename];\n\n  if (!arr) {\n    arr = [];\n    go.Shape._FigureParameters[figurename] = arr;\n  }\n\n  arr[index] = figparam;\n};\n/** @ignore */\n\n\nvar _CachedPoints = [];\n/**\r\n* @ignore\r\n* @param {number} x\r\n* @param {number} y\r\n* @return {Point}\r\n*/\n\nfunction tempPointAt(x, y) {\n  var temp = _CachedPoints.pop();\n\n  if (temp === undefined) return new go.Point(x, y);\n  temp.x = x;\n  temp.y = y;\n  return temp;\n}\n\n;\n/**\r\n* @ignore\r\n* @return {Point}\r\n*/\n\nfunction tempPoint() {\n  var temp = _CachedPoints.pop();\n\n  if (temp === undefined) return new go.Point();\n  return temp;\n}\n\n;\n/**\r\n  * @ignore\r\n  * @param {Point} temp\r\n  */\n\nfunction freePoint(temp) {\n  _CachedPoints.push(temp);\n}\n\n;\n/**\r\n* @ignore\r\n* @param {number} p1x\r\n* @param {number} p1y\r\n* @param {number} p2x\r\n* @param {number} p2y\r\n* @param {number} q1x\r\n* @param {number} q1y\r\n* @param {number} q2x\r\n* @param {number} q2y\r\n* @param {Point} result\r\n* @return {Point}\r\n*/\n\nfunction getIntersection(p1x, p1y, p2x, p2y, q1x, q1y, q2x, q2y, result) {\n  var dx1 = p1x - p2x;\n  var dx2 = q1x - q2x;\n  var x;\n  var y;\n\n  if (dx1 === 0 || dx2 === 0) {\n    if (dx1 === 0) {\n      var m2 = (q1y - q2y) / dx2;\n      var b2 = q1y - m2 * q1x;\n      x = p1x;\n      y = m2 * x + b2;\n    } else {\n      m1 = (p1y - p2y) / dx1;\n      var b1 = p1y - m1 * p1x;\n      x = q1x;\n      y = m1 * x + b1;\n    }\n  } else {\n    m1 = (p1y - p2y) / dx1;\n    var m2 = (q1y - q2y) / dx2;\n    var b1 = p1y - m1 * p1x;\n    var b2 = q1y - m2 * q1x;\n    x = (b2 - b1) / (m1 - m2);\n    y = m1 * x + b1;\n  }\n\n  result.x = x;\n  result.y = y;\n  return result;\n}\n\n;\n/**\r\n* @ignore\r\n* @param {number} startx\r\n* @param {number} starty\r\n* @param {number} c1x\r\n* @param {number} c1y\r\n* @param {number} c2x\r\n* @param {number} c2y\r\n* @param {number} endx\r\n* @param {number} endy\r\n* @pararm {number} fraction\r\n* @param {Point} curve1cp1  // modified result control point\r\n* @param {Point} curve1cp2  // modified result control point\r\n* @param {Point} midpoint  // modified result\r\n* @param {Point} curve2cp1  // modified result control point\r\n* @param {Point} curve2cp2  // modified result control point\r\n*/\n\nfunction breakUpBezier(startx, starty, c1x, c1y, c2x, c2y, endx, endy, fraction, curve1cp1, curve1cp2, midpoint, curve2cp1, curve2cp2) {\n  var fo = 1 - fraction;\n  var so = fraction;\n  m1x = startx * fo + c1x * so;\n  m1y = starty * fo + c1y * so;\n  var m2x = c1x * fo + c2x * so;\n  var m2y = c1y * fo + c2y * so;\n  var m3x = c2x * fo + endx * so;\n  var m3y = c2y * fo + endy * so;\n  m12x = m1x * fo + m2x * so;\n  m12y = m1y * fo + m2y * so;\n  var m23x = m2x * fo + m3x * so;\n  var m23y = m2y * fo + m3y * so;\n  m123x = m12x * fo + m23x * so;\n  m123y = m12y * fo + m23y * so;\n  curve1cp1.x = m1x;\n  curve1cp1.y = m1y;\n  curve1cp2.x = m12x;\n  curve1cp2.y = m12y;\n  midpoint.x = m123x;\n  midpoint.y = m123y;\n  curve2cp1.x = m23x;\n  curve2cp1.y = m23y;\n  curve2cp2.x = m3x;\n  curve2cp2.y = m3y;\n}\n\n;\nvar GeneratorEllipseSpot1 = new go.Spot(0.156, 0.156);\nvar GeneratorEllipseSpot2 = new go.Spot(0.844, 0.844);\nvar KAPPA = 4 * ((Math.sqrt(2) - 1) / 3); // PREDEFINED figures, built into the v2.0 library:\n// These first few are commented out due to optimizations in the built-in definitions.\n//go.Shape.defineFigureGenerator(\"Rectangle\", function(shape, w, h) {  // predefined in 2.0\n//  var geo = new go.Geometry(go.Geometry.Rectangle);\n//  geo.startX = 0;\n//  geo.startY = 0;\n//  geo.endX = w;\n//  geo.endY = h;\n//  return geo;\n//});\n//go.Shape.defineFigureGenerator(\"Square\", function(shape, w, h) {  // predefined in 2.0\n//  var geo = new go.Geometry(go.Geometry.Rectangle);\n//  geo.startX = 0;\n//  geo.startY = 0;\n//  geo.endX = w;\n//  geo.endY = h;\n//  geo.defaultStretch = go.GraphObject.Uniform;\n//  return geo;\n//});\n\ngo.Shape.setFigureParameter(\"RoundedRectangle\", 0, new FigureParameter(\"CornerRounding\", 5));\ngo.Shape.defineFigureGenerator(\"RoundedRectangle\", function (shape, w, h) {\n  // predefined in 2.0\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1) || param1 < 0) param1 = 5; // default corner\n\n  param1 = Math.min(param1, w / 3);\n  param1 = Math.min(param1, h / 3);\n  var cpOffset = param1 * KAPPA;\n  var geo = new go.Geometry().add(new go.PathFigure(param1, 0, true).add(new go.PathSegment(go.PathSegment.Line, w - param1, 0)).add(new go.PathSegment(go.PathSegment.Bezier, w, param1, w - cpOffset, 0, w, cpOffset)).add(new go.PathSegment(go.PathSegment.Line, w, h - param1)).add(new go.PathSegment(go.PathSegment.Bezier, w - param1, h, w, h - cpOffset, w - cpOffset, h)).add(new go.PathSegment(go.PathSegment.Line, param1, h)).add(new go.PathSegment(go.PathSegment.Bezier, 0, h - param1, cpOffset, h, 0, h - cpOffset)).add(new go.PathSegment(go.PathSegment.Line, 0, param1)).add(new go.PathSegment(go.PathSegment.Bezier, param1, 0, 0, cpOffset, cpOffset, 0).close()));\n\n  if (cpOffset > 1) {\n    geo.spot1 = new go.Spot(0, 0, cpOffset, cpOffset);\n    geo.spot2 = new go.Spot(1, 1, -cpOffset, -cpOffset);\n  }\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Border\", \"RoundedRectangle\"); // predefined in 2.0\n//go.Shape.defineFigureGenerator(\"Ellipse\", function(shape, w, h) {  // predefined in 2.0\n//  var geo = new go.Geometry(go.Geometry.Ellipse);\n//  geo.startX = 0;\n//  geo.startY = 0;\n//  geo.endX = w;\n//  geo.endY = h;\n//  geo.spot1 = GeneratorEllipseSpot1;\n//  geo.spot2 = GeneratorEllipseSpot2;\n//  return geo;\n//});\n//go.Shape.defineFigureGenerator(\"Circle\", function(shape, w, h) {  // predefined in 2.0\n//  var geo = new go.Geometry(go.Geometry.Ellipse);\n//  geo.startX = 0;\n//  geo.startY = 0;\n//  geo.endX = w;\n//  geo.endY = h;\n//  geo.spot1 = GeneratorEllipseSpot1;\n//  geo.spot2 = GeneratorEllipseSpot2;\n//  geo.defaultStretch = go.GraphObject.Uniform;\n//  return geo;\n//});\n\ngo.Shape.defineFigureGenerator(\"TriangleRight\", function (shape, w, h) {\n  // predefined in 2.0\n  return new go.Geometry().add(new go.PathFigure(0, 0).add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h)).add(new go.PathSegment(go.PathSegment.Line, 0, h).close())).setSpots(0, 0.25, 0.5, 0.75);\n});\ngo.Shape.defineFigureGenerator(\"TriangleDown\", function (shape, w, h) {\n  // predefined in 2.0\n  return new go.Geometry().add(new go.PathFigure(0, 0).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h).close())).setSpots(0.25, 0, 0.75, 0.5);\n});\ngo.Shape.defineFigureGenerator(\"TriangleLeft\", function (shape, w, h) {\n  // predefined in 2.0\n  return new go.Geometry().add(new go.PathFigure(w, h).add(new go.PathSegment(go.PathSegment.Line, 0, 0.5 * h)).add(new go.PathSegment(go.PathSegment.Line, w, 0).close())).setSpots(0.5, 0.25, 1, 0.75);\n});\ngo.Shape.defineFigureGenerator(\"TriangleUp\", function (shape, w, h) {\n  // predefined in 2.0\n  return new go.Geometry().add(new go.PathFigure(w, h).add(new go.PathSegment(go.PathSegment.Line, 0, h)).add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0).close())).setSpots(0.25, 0.5, 0.75, 1);\n});\ngo.Shape.defineFigureGenerator(\"Triangle\", \"TriangleUp\"); // predefined in 2.0\n\ngo.Shape.defineFigureGenerator(\"Diamond\", function (shape, w, h) {\n  // predefined in 2.0\n  return new go.Geometry().add(new go.PathFigure(0.5 * w, 0).add(new go.PathSegment(go.PathSegment.Line, 0, 0.5 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h)).add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h).close())).setSpots(0.25, 0.25, 0.75, 0.75);\n});\ngo.Shape.defineFigureGenerator(\"LineH\", function (shape, w, h) {\n  // predefined in 2.0\n  var geo = new go.Geometry(go.Geometry.Line);\n  geo.startX = 0;\n  geo.startY = h / 2;\n  geo.endX = w;\n  geo.endY = h / 2;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"LineV\", function (shape, w, h) {\n  // predefined in 2.0\n  var geo = new go.Geometry(go.Geometry.Line);\n  geo.startX = w / 2;\n  geo.startY = 0;\n  geo.endX = w / 2;\n  geo.endY = h;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"BarH\", \"Rectangle\"); // predefined in 2.0\n\ngo.Shape.defineFigureGenerator(\"BarV\", \"Rectangle\"); // predefined in 2.0\n\ngo.Shape.defineFigureGenerator(\"MinusLine\", \"LineH\"); // predefined in 2.0\n\ngo.Shape.defineFigureGenerator(\"PlusLine\", function (shape, w, h) {\n  // predefined in 2.0\n  return new go.Geometry().add(new go.PathFigure(0, h / 2, false).add(new go.PathSegment(go.PathSegment.Line, w, h / 2)).add(new go.PathSegment(go.PathSegment.Move, w / 2, 0)).add(new go.PathSegment(go.PathSegment.Line, w / 2, h)));\n});\ngo.Shape.defineFigureGenerator(\"XLine\", function (shape, w, h) {\n  // predefined in 2.0\n  return new go.Geometry().add(new go.PathFigure(0, h, false).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Move, 0, 0)).add(new go.PathSegment(go.PathSegment.Line, w, h)));\n});\ngo.Shape.defineFigureGenerator('LineRight', function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0.25 * w, 0, false).add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, 0.5 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.25 * w, h)));\n});\ngo.Shape.defineFigureGenerator('LineDown', function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0.25 * h, false).add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.75 * h)).add(new go.PathSegment(go.PathSegment.Line, w, 0.25 * h)));\n});\ngo.Shape.defineFigureGenerator('LineLeft', function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0.75 * w, 0, false).add(new go.PathSegment(go.PathSegment.Line, 0.25 * w, 0.5 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, h)));\n});\ngo.Shape.defineFigureGenerator('LineUp', function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0.75 * h, false).add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.25 * h)).add(new go.PathSegment(go.PathSegment.Line, w, 0.75 * h)));\n}); // OPTIONAL figures, not predefined in the v2.0 library:\n\ngo.Shape.defineFigureGenerator(\"AsteriskLine\", function (shape, w, h) {\n  var offset = .2 / Math.SQRT2;\n  return new go.Geometry().add(new go.PathFigure(offset * w, (1 - offset) * h, false).add(new go.PathSegment(go.PathSegment.Line, (1 - offset) * w, offset * h)).add(new go.PathSegment(go.PathSegment.Move, offset * w, offset * h)).add(new go.PathSegment(go.PathSegment.Line, (1 - offset) * w, (1 - offset) * h)).add(new go.PathSegment(go.PathSegment.Move, 0, h / 2)).add(new go.PathSegment(go.PathSegment.Line, w, h / 2)).add(new go.PathSegment(go.PathSegment.Move, w / 2, 0)).add(new go.PathSegment(go.PathSegment.Line, w / 2, h)));\n});\ngo.Shape.defineFigureGenerator(\"CircleLine\", function (shape, w, h) {\n  var rad = w / 2;\n  var geo = new go.Geometry().add(new go.PathFigure(w, w / 2, false) // clockwise\n  .add(new go.PathSegment(go.PathSegment.Arc, 0, 360, rad, rad, rad, rad).close()));\n  geo.spot1 = GeneratorEllipseSpot1;\n  geo.spot2 = GeneratorEllipseSpot2;\n  geo.defaultStretch = go.GraphObject.Uniform;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Line1\", function (shape, w, h) {\n  var geo = new go.Geometry(go.Geometry.Line);\n  geo.startX = 0;\n  geo.startY = 0;\n  geo.endX = w;\n  geo.endY = h;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Line2\", function (shape, w, h) {\n  var geo = new go.Geometry(go.Geometry.Line);\n  geo.startX = w;\n  geo.startY = 0;\n  geo.endX = 0;\n  geo.endY = h;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Curve1\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, false).add(new go.PathSegment(go.PathSegment.Bezier, w, h, KAPPA * w, 0, w, (1 - KAPPA) * h)));\n});\ngo.Shape.defineFigureGenerator(\"Curve2\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, false).add(new go.PathSegment(go.PathSegment.Bezier, w, h, 0, KAPPA * h, (1 - KAPPA) * w, h)));\n});\ngo.Shape.defineFigureGenerator(\"Curve3\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(w, 0, false).add(new go.PathSegment(go.PathSegment.Bezier, 0, h, w, KAPPA * h, KAPPA * w, h)));\n});\ngo.Shape.defineFigureGenerator(\"Curve4\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(w, 0, false).add(new go.PathSegment(go.PathSegment.Bezier, 0, h, (1 - KAPPA) * w, 0, 0, (1 - KAPPA) * h)));\n});\ngo.Shape.defineFigureGenerator(\"TriangleDownLeft\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, true).add(new go.PathSegment(go.PathSegment.Line, w, h)).add(new go.PathSegment(go.PathSegment.Line, 0, h).close())).setSpots(0, 0.5, 0.5, 1);\n});\ngo.Shape.defineFigureGenerator(\"TriangleDownRight\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(w, 0, true).add(new go.PathSegment(go.PathSegment.Line, w, h)).add(new go.PathSegment(go.PathSegment.Line, 0, h).close())).setSpots(0.5, 0.5, 1, 1);\n});\ngo.Shape.defineFigureGenerator(\"TriangleUpLeft\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, true).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Line, 0, h).close())).setSpots(0, 0, 0.5, 0.5);\n});\ngo.Shape.defineFigureGenerator(\"TriangleUpRight\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, true).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Line, w, h).close())).setSpots(0.5, 0, 1, 0.5);\n});\ngo.Shape.defineFigureGenerator(\"RightTriangle\", \"TriangleDownLeft\");\ngo.Shape.setFigureParameter(\"Parallelogram1\", 0, new FigureParameter(\"Indent\", .1, -.99, .99));\ngo.Shape.defineFigureGenerator(\"Parallelogram1\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // indent's percent distance\n\n  if (isNaN(param1)) param1 = 0.1;else if (param1 < -1) param1 = -1;else if (param1 > 1) param1 = 1;\n  var indent = Math.abs(param1) * w;\n\n  if (param1 === 0) {\n    var geo = new go.Geometry(go.Geometry.Rectangle);\n    geo.startX = 0;\n    geo.startY = 0;\n    geo.endX = w;\n    geo.endY = h;\n    return geo;\n  } else {\n    var geo = new go.Geometry();\n\n    if (param1 > 0) {\n      geo.add(new go.PathFigure(indent, 0).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Line, w - indent, h)).add(new go.PathSegment(go.PathSegment.Line, 0, h).close()));\n    } else {\n      // param1 < 0\n      geo.add(new go.PathFigure(0, 0).add(new go.PathSegment(go.PathSegment.Line, w - indent, 0)).add(new go.PathSegment(go.PathSegment.Line, w, h)).add(new go.PathSegment(go.PathSegment.Line, indent, h).close()));\n    }\n\n    if (indent < w / 2) {\n      geo.setSpots(indent / w, 0, (w - indent) / w, 1);\n    }\n\n    return geo;\n  }\n});\ngo.Shape.defineFigureGenerator(\"Parallelogram\", \"Parallelogram1\"); // alias\n// Parallelogram with absolutes instead of scaling\n\ngo.Shape.setFigureParameter(\"Parallelogram2\", 0, new FigureParameter(\"Indent\", 10, -Infinity, Infinity));\ngo.Shape.defineFigureGenerator(\"Parallelogram2\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // indent's x distance\n\n  if (isNaN(param1)) param1 = 10;else if (param1 < -w) param1 = -w;else if (param1 > w) param1 = w;\n  var indent = Math.abs(param1);\n\n  if (param1 === 0) {\n    var geo = new go.Geometry(go.Geometry.Rectangle);\n    geo.startX = 0;\n    geo.startY = 0;\n    geo.endX = w;\n    geo.endY = h;\n    return geo;\n  } else {\n    var geo = new go.Geometry();\n\n    if (param1 > 0) {\n      geo.add(new go.PathFigure(indent, 0).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Line, w - indent, h)).add(new go.PathSegment(go.PathSegment.Line, 0, h).close()));\n    } else {\n      // param1 < 0\n      geo.add(new go.PathFigure(0, 0).add(new go.PathSegment(go.PathSegment.Line, w - indent, 0)).add(new go.PathSegment(go.PathSegment.Line, w, h)).add(new go.PathSegment(go.PathSegment.Line, indent, h).close()));\n    }\n\n    if (indent < w / 2) {\n      geo.setSpots(indent / w, 0, (w - indent) / w, 1);\n    }\n\n    return geo;\n  }\n});\ngo.Shape.setFigureParameter(\"Trapezoid1\", 0, new FigureParameter(\"Indent\", .2, -.99, .99));\ngo.Shape.defineFigureGenerator(\"Trapezoid1\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // indent's percent distance\n\n  if (isNaN(param1)) param1 = 0.2;else if (param1 < 0.5) param1 = -0.5;else if (param1 > 0.5) param1 = 0.5;\n  var indent = Math.abs(param1) * w;\n\n  if (param1 === 0) {\n    var geo = new go.Geometry(go.Geometry.Rectangle);\n    geo.startX = 0;\n    geo.startY = 0;\n    geo.endX = w;\n    geo.endY = h;\n    return geo;\n  } else {\n    var geo = new go.Geometry();\n\n    if (param1 > 0) {\n      geo.add(new go.PathFigure(indent, 0).add(new go.PathSegment(go.PathSegment.Line, w - indent, 0)).add(new go.PathSegment(go.PathSegment.Line, w, h)).add(new go.PathSegment(go.PathSegment.Line, 0, h).close()));\n    } else {\n      // param1 < 0\n      geo.add(new go.PathFigure(0, 0).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Line, w - indent, h)).add(new go.PathSegment(go.PathSegment.Line, indent, h).close()));\n    }\n\n    if (indent < w / 2) {\n      geo.setSpots(indent / w, 0, (w - indent) / w, 1);\n    }\n\n    return geo;\n  }\n});\ngo.Shape.defineFigureGenerator(\"Trapezoid\", \"Trapezoid1\"); // alias\n// Trapezoid with absolutes instead of scaling\n\ngo.Shape.setFigureParameter(\"Trapezoid2\", 0, new FigureParameter(\"Indent\", 20, -Infinity, Infinity));\ngo.Shape.defineFigureGenerator(\"Trapezoid2\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // indent's x distance\n\n  if (isNaN(param1)) param1 = 20; // default value\n  else if (param1 < -w) param1 = -w / 2;else if (param1 > w) param1 = w / 2;\n  var indent = Math.abs(param1);\n\n  if (param1 === 0) {\n    var geo = new go.Geometry(go.Geometry.Rectangle);\n    geo.startX = 0;\n    geo.startY = 0;\n    geo.endX = w;\n    geo.endY = h;\n    return geo;\n  } else {\n    var geo = new go.Geometry();\n\n    if (param1 > 0) {\n      geo.add(new go.PathFigure(indent, 0).add(new go.PathSegment(go.PathSegment.Line, w - indent, 0)).add(new go.PathSegment(go.PathSegment.Line, w, h)).add(new go.PathSegment(go.PathSegment.Line, 0, h).close()));\n    } else {\n      // param1 < 0\n      geo.add(new go.PathFigure(0, 0).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Line, w - indent, h)).add(new go.PathSegment(go.PathSegment.Line, indent, h).close()));\n    }\n\n    if (indent < w / 2) {\n      geo.setSpots(indent / w, 0, (w - indent) / w, 1);\n    }\n\n    return geo;\n  }\n});\ngo.Shape.setFigureParameter(\"ManualOperation\", 0, new FigureParameter(\"Indent\", 10, -Infinity, Infinity));\ngo.Shape.defineFigureGenerator(\"ManualOperation\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // Distance from topleft of bounding rectangle,\n  // in % of the total width, of the topleft corner\n\n  if (isNaN(param1)) param1 = 10; // default value\n  else if (param1 < -w) param1 = -w / 2;else if (param1 > w) param1 = w / 2;\n  var indent = Math.abs(param1);\n\n  if (param1 === 0) {\n    var geo = new go.Geometry(go.Geometry.Rectangle);\n    geo.startX = 0;\n    geo.startY = 0;\n    geo.endX = w;\n    geo.endY = h;\n    return geo;\n  } else {\n    var geo = new go.Geometry();\n\n    if (param1 > 0) {\n      geo.add(new go.PathFigure(0, 0).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Line, w - indent, h)).add(new go.PathSegment(go.PathSegment.Line, indent, h).close()));\n    } else {\n      // param1 < 0\n      geo.add(new go.PathFigure(indent, 0).add(new go.PathSegment(go.PathSegment.Line, w - indent, 0)).add(new go.PathSegment(go.PathSegment.Line, w, h)).add(new go.PathSegment(go.PathSegment.Line, 0, h).close()));\n    }\n\n    if (indent < w / 2) {\n      geo.setSpots(indent / w, 0, (w - indent) / w, 1);\n    }\n\n    return geo;\n  }\n}); // The following functions are used by a group of regular figures that are defined below:\n\n/** @ignore */\n\nvar _CachedArrays = [];\n/**\r\n  * @ignore\r\n  * @return {Array}\r\n  */\n\nfunction tempArray() {\n  var temp = _CachedArrays.pop();\n\n  if (temp === undefined) return [];\n  return temp;\n}\n\n;\n/**\r\n  * @ignore\r\n  * @param {Array} a\r\n  */\n\nfunction freeArray(a) {\n  a.length = 0; // clear any references to objects\n\n  _CachedArrays.push(a);\n}\n\n;\n/**\r\n* @ignore\r\n* This allocates a temporary Array that should be freeArray()'ed by the caller.\r\n* @param {number} sides\r\n* @return {Array}\r\n*/\n\nfunction createPolygon(sides) {\n  // Point[] points = new Point[sides + 1];\n  var points = tempArray();\n  var radius = .5;\n  var center = .5;\n  var offsetAngle = Math.PI * 1.5;\n  var angle = 0; // Loop through each side of the polygon\n\n  for (var i = 0; i < sides; i++) {\n    angle = 2 * Math.PI / sides * i + offsetAngle;\n    points[i] = new go.Point(center + radius * Math.cos(angle), center + radius * Math.sin(angle));\n  } // Add the last line\n  // points[points.length - 1] = points[0];\n\n\n  points.push(points[0]);\n  return points;\n}\n\n;\n/**\r\n* @ignore\r\n* This allocates a temporary Array that should be freeArray()'ed by the caller.\r\n* @param {number} points\r\n* @return {Array}\r\n*/\n\nfunction createBurst(points) {\n  var star = createStar(points);\n  var pts = tempArray(); // new Point[points * 3 + 1];\n\n  pts[0] = star[0];\n\n  for (var i = 1, count = 1; i < star.length; i += 2, count += 3) {\n    pts[count] = star[i];\n    pts[count + 1] = star[i];\n    pts[count + 2] = star[i + 1];\n  }\n\n  freeArray(star);\n  return pts;\n}\n\n;\n/**\r\n* @ignore\r\n* This allocates a temporary Array that should be freeArray()'ed by the caller.\r\n* @param {number} points\r\n* @return {Array}\r\n*/\n\nfunction createStar(points) {\n  // First, create a regular polygon\n  var polygon = createPolygon(points); // Calculate the points inbetween\n\n  var pts = tempArray(); // new Point[points * 2 + 1];\n\n  var half = Math.floor(polygon.length / 2);\n  var count = polygon.length - 1;\n  var offset = points % 2 === 0 ? 2 : 1;\n\n  for (var i = 0; i < count; i++) {\n    // Get the intersection of two lines\n    var p0 = polygon[i];\n    var p1 = polygon[i + 1];\n    var q21 = polygon[(half + i - 1) % count];\n    var q2off = polygon[(half + i + offset) % count];\n    pts[i * 2] = p0;\n    pts[i * 2 + 1] = getIntersection(p0.x, p0.y, q21.x, q21.y, p1.x, p1.y, q2off.x, q2off.y, new go.Point()); // ?? not currently managed\n  }\n\n  pts[pts.length] = pts[0];\n  freeArray(polygon);\n  return pts;\n}\n\n;\ngo.Shape.defineFigureGenerator(\"Pentagon\", function (shape, w, h) {\n  var points = createPolygon(5);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < 5; i++) {\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\n  }\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\n  freeArray(points);\n  geo.spot1 = new go.Spot(.2, .22);\n  geo.spot2 = new go.Spot(.8, .9);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Hexagon\", function (shape, w, h) {\n  var points = createPolygon(6);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < 6; i++) {\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\n  }\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\n  freeArray(points);\n  geo.spot1 = new go.Spot(.07, .25);\n  geo.spot2 = new go.Spot(.93, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Heptagon\", function (shape, w, h) {\n  var points = createPolygon(7);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < 7; i++) {\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\n  }\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\n  freeArray(points);\n  geo.spot1 = new go.Spot(.2, .15);\n  geo.spot2 = new go.Spot(.8, .85);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Octagon\", function (shape, w, h) {\n  var points = createPolygon(8);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < 8; i++) {\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\n  }\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\n  freeArray(points);\n  geo.spot1 = new go.Spot(.15, .15);\n  geo.spot2 = new go.Spot(.85, .85);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Nonagon\", function (shape, w, h) {\n  var points = createPolygon(9);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < 9; i++) {\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\n  }\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\n  freeArray(points);\n  geo.spot1 = new go.Spot(.17, .13);\n  geo.spot2 = new go.Spot(.82, .82);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Decagon\", function (shape, w, h) {\n  var points = createPolygon(10);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < 10; i++) {\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\n  }\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\n  freeArray(points);\n  geo.spot1 = new go.Spot(.16, .16);\n  geo.spot2 = new go.Spot(.84, .84);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Dodecagon\", function (shape, w, h) {\n  var points = createPolygon(12);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < 12; i++) {\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\n  }\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\n  freeArray(points);\n  geo.spot1 = new go.Spot(.16, .16);\n  geo.spot2 = new go.Spot(.84, .84);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"FivePointedStar\", function (shape, w, h) {\n  var starPoints = createStar(5);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(starPoints[0].x * w, starPoints[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < 10; i++) {\n    fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[i].x * w, starPoints[i].y * h));\n  }\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[0].x * w, starPoints[0].y * h).close());\n  freeArray(starPoints);\n  geo.spot1 = new go.Spot(.266, .333);\n  geo.spot2 = new go.Spot(.733, .733);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"SixPointedStar\", function (shape, w, h) {\n  var starPoints = createStar(6);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(starPoints[0].x * w, starPoints[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < 12; i++) {\n    fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[i].x * w, starPoints[i].y * h));\n  }\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[0].x * w, starPoints[0].y * h).close());\n  freeArray(starPoints);\n  geo.spot1 = new go.Spot(.17, .25);\n  geo.spot2 = new go.Spot(.83, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"SevenPointedStar\", function (shape, w, h) {\n  var starPoints = createStar(7);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(starPoints[0].x * w, starPoints[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < 14; i++) {\n    fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[i].x * w, starPoints[i].y * h));\n  }\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[0].x * w, starPoints[0].y * h).close());\n  freeArray(starPoints);\n  geo.spot1 = new go.Spot(.222, .277);\n  geo.spot2 = new go.Spot(.777, .666);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"EightPointedStar\", function (shape, w, h) {\n  var starPoints = createStar(8);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(starPoints[0].x * w, starPoints[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < 16; i++) {\n    fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[i].x * w, starPoints[i].y * h));\n  }\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[0].x * w, starPoints[0].y * h).close());\n  freeArray(starPoints);\n  geo.spot1 = new go.Spot(.25, .25);\n  geo.spot2 = new go.Spot(.75, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"NinePointedStar\", function (shape, w, h) {\n  var starPoints = createStar(9);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(starPoints[0].x * w, starPoints[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < 18; i++) {\n    fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[i].x * w, starPoints[i].y * h));\n  }\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[0].x * w, starPoints[0].y * h).close());\n  freeArray(starPoints);\n  geo.spot1 = new go.Spot(.222, .277);\n  geo.spot2 = new go.Spot(.777, .666);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"TenPointedStar\", function (shape, w, h) {\n  var starPoints = createStar(10);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(starPoints[0].x * w, starPoints[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < 20; i++) {\n    fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[i].x * w, starPoints[i].y * h));\n  }\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[0].x * w, starPoints[0].y * h).close());\n  freeArray(starPoints);\n  geo.spot1 = new go.Spot(.281, .261);\n  geo.spot2 = new go.Spot(.723, .748);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"FivePointedBurst\", function (shape, w, h) {\n  var burstPoints = createBurst(5);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(burstPoints[0].x * w, burstPoints[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < burstPoints.length; i += 3) {\n    fig.add(new go.PathSegment(go.PathSegment.Bezier, burstPoints[i + 2].x * w, burstPoints[i + 2].y * h, burstPoints[i].x * w, burstPoints[i].y * h, burstPoints[i + 1].x * w, burstPoints[i + 1].y * h));\n  }\n\n  fig.segments.last().close();\n  freeArray(burstPoints);\n  geo.spot1 = new go.Spot(.222, .277);\n  geo.spot2 = new go.Spot(.777, .777);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"SixPointedBurst\", function (shape, w, h) {\n  var burstPoints = createBurst(6);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(burstPoints[0].x * w, burstPoints[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < burstPoints.length; i += 3) {\n    fig.add(new go.PathSegment(go.PathSegment.Bezier, burstPoints[i + 2].x * w, burstPoints[i + 2].y * h, burstPoints[i].x * w, burstPoints[i].y * h, burstPoints[i + 1].x * w, burstPoints[i + 1].y * h));\n  }\n\n  fig.segments.last().close();\n  freeArray(burstPoints);\n  geo.spot1 = new go.Spot(.170, .222);\n  geo.spot2 = new go.Spot(.833, .777);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"SevenPointedBurst\", function (shape, w, h) {\n  var burstPoints = createBurst(7);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(burstPoints[0].x * w, burstPoints[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < burstPoints.length; i += 3) {\n    fig.add(new go.PathSegment(go.PathSegment.Bezier, burstPoints[i + 2].x * w, burstPoints[i + 2].y * h, burstPoints[i].x * w, burstPoints[i].y * h, burstPoints[i + 1].x * w, burstPoints[i + 1].y * h));\n  }\n\n  fig.segments.last().close();\n  freeArray(burstPoints);\n  geo.spot1 = new go.Spot(.222, .222);\n  geo.spot2 = new go.Spot(.777, .777);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"EightPointedBurst\", function (shape, w, h) {\n  var burstPoints = createBurst(8);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(burstPoints[0].x * w, burstPoints[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < burstPoints.length; i += 3) {\n    fig.add(new go.PathSegment(go.PathSegment.Bezier, burstPoints[i + 2].x * w, burstPoints[i + 2].y * h, burstPoints[i].x * w, burstPoints[i].y * h, burstPoints[i + 1].x * w, burstPoints[i + 1].y * h));\n  }\n\n  fig.segments.last().close();\n  freeArray(burstPoints);\n  geo.spot1 = new go.Spot(.222, .222);\n  geo.spot2 = new go.Spot(.777, .777);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"NinePointedBurst\", function (shape, w, h) {\n  var burstPoints = createBurst(9);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(burstPoints[0].x * w, burstPoints[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < burstPoints.length; i += 3) {\n    fig.add(new go.PathSegment(go.PathSegment.Bezier, burstPoints[i + 2].x * w, burstPoints[i + 2].y * h, burstPoints[i].x * w, burstPoints[i].y * h, burstPoints[i + 1].x * w, burstPoints[i + 1].y * h));\n  }\n\n  fig.segments.last().close();\n  freeArray(burstPoints);\n  geo.spot1 = new go.Spot(.222, .222);\n  geo.spot2 = new go.Spot(.777, .777);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"TenPointedBurst\", function (shape, w, h) {\n  var burstPoints = createBurst(10);\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(burstPoints[0].x * w, burstPoints[0].y * h, true);\n  geo.add(fig);\n\n  for (var i = 1; i < burstPoints.length; i += 3) {\n    fig.add(new go.PathSegment(go.PathSegment.Bezier, burstPoints[i + 2].x * w, burstPoints[i + 2].y * h, burstPoints[i].x * w, burstPoints[i].y * h, burstPoints[i + 1].x * w, burstPoints[i + 1].y * h));\n  }\n\n  fig.segments.last().close();\n  freeArray(burstPoints);\n  geo.spot1 = new go.Spot(.222, .222);\n  geo.spot2 = new go.Spot(.777, .777);\n  return geo;\n});\ngo.Shape.setFigureParameter(\"FramedRectangle\", 0, new FigureParameter(\"ThicknessX\", 8));\ngo.Shape.setFigureParameter(\"FramedRectangle\", 1, new FigureParameter(\"ThicknessY\", 8));\ngo.Shape.defineFigureGenerator(\"FramedRectangle\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN;\n  var param2 = shape ? shape.parameter2 : NaN;\n  if (isNaN(param1)) param1 = 8; // default values PARAMETER 1 is for WIDTH\n\n  if (isNaN(param2)) param2 = 8; // default values PARAMETER 2 is for HEIGHT\n\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig); // outer rectangle, clockwise\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n\n  if (param1 < w / 2 && param2 < h / 2) {\n    // inner rectangle, counter-clockwise\n    fig.add(new go.PathSegment(go.PathSegment.Move, param1, param2)); // subpath\n\n    fig.add(new go.PathSegment(go.PathSegment.Line, param1, h - param2));\n    fig.add(new go.PathSegment(go.PathSegment.Line, w - param1, h - param2));\n    fig.add(new go.PathSegment(go.PathSegment.Line, w - param1, param2).close());\n  }\n\n  geo.setSpots(0, 0, 1, 1, param1, param2, -param1, -param2);\n  return geo;\n});\ngo.Shape.setFigureParameter(\"Ring\", 0, new FigureParameter(\"Thickness\", 8));\ngo.Shape.defineFigureGenerator(\"Ring\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1) || param1 < 0) param1 = 8;\n  var rad = w / 2;\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, w / 2, true); // clockwise\n\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 0, 360, rad, rad, rad, rad).close());\n  var rad2 = Math.max(rad - param1, 0);\n\n  if (rad2 > 0) {\n    // counter-clockwise\n    fig.add(new go.PathSegment(go.PathSegment.Move, w / 2 + rad2, w / 2));\n    fig.add(new go.PathSegment(go.PathSegment.Arc, 0, -360, rad, rad, rad2, rad2).close());\n  }\n\n  geo.spot1 = GeneratorEllipseSpot1;\n  geo.spot2 = GeneratorEllipseSpot2;\n  geo.defaultStretch = go.GraphObject.Uniform;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Cloud\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(.08034461 * w, .1944299 * h, true).add(new go.PathSegment(go.PathSegment.Bezier, .2008615 * w, .05349299 * h, -.09239631 * w, .07836421 * h, .1406031 * w, -.0542823 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .4338609 * w, .074219 * h, .2450511 * w, -.00697547 * h, .3776197 * w, -.01112067 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .6558228 * w, .07004196 * h, .4539471 * w, 0, .6066018 * w, -.02526587 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .8921095 * w, .08370865 * h, .6914277 * w, -.01904177 * h, .8921095 * w, -.01220843 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .9147671 * w, .3194596 * h, 1.036446 * w, .04105738 * h, 1.020377 * w, .3022052 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .9082935 * w, .562044 * h, 1.04448 * w, .360238 * h, .992256 * w, .5219009 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .9212406 * w, .8217117 * h, 1.032337 * w, .5771781 * h, 1.018411 * w, .8120651 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .7592566 * w, .9156953 * h, 1.028411 * w, .9571472 * h, .8556702 * w, 1.052487 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .5101666 * w, .9310455 * h, .7431877 * w, 1.009325 * h, .5624123 * w, 1.021761 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .2609328 * w, .9344623 * h, .4820677 * w, 1.031761 * h, .3030112 * w, 1.002796 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .08034461 * w, .870098 * h, .2329994 * w, 1.01518 * h, .03213784 * w, 1.01518 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .06829292 * w, .6545475 * h, -.02812061 * w, .9032597 * h, -.01205169 * w, .6835638 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .06427569 * w, .4265613 * h, -.01812061 * w, .6089503 * h, -.00606892 * w, .4555777 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .08034461 * w, .1944299 * h, -.01606892 * w, .3892545 * h, -.01205169 * w, .1944299 * h))).setSpots(.1, .1, .9, .9);\n});\ngo.Shape.defineFigureGenerator(\"StopSign\", function (shape, w, h) {\n  var part = 1 / (Math.SQRT2 + 2);\n  return new go.Geometry().add(new go.PathFigure(part * w, 0, true).add(new go.PathSegment(go.PathSegment.Line, (1 - part) * w, 0)).add(new go.PathSegment(go.PathSegment.Line, w, part * h)).add(new go.PathSegment(go.PathSegment.Line, w, (1 - part) * h)).add(new go.PathSegment(go.PathSegment.Line, (1 - part) * w, h)).add(new go.PathSegment(go.PathSegment.Line, part * w, h)).add(new go.PathSegment(go.PathSegment.Line, 0, (1 - part) * h)).add(new go.PathSegment(go.PathSegment.Line, 0, part * h).close())).setSpots(part / 2, part / 2, 1 - part / 2, 1 - part / 2);\n});\ngo.Shape.setFigureParameter(\"Pie\", 0, new FigureParameter(\"Start\", 0, -360, 360));\ngo.Shape.setFigureParameter(\"Pie\", 1, new FigureParameter(\"Sweep\", 315, -360, 360));\ngo.Shape.defineFigureGenerator(\"Pie\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN;\n  var param2 = shape ? shape.parameter2 : NaN;\n  if (isNaN(param1)) param1 = 0; // default values PARAMETER 1 is for Start Angle\n\n  if (isNaN(param2)) param2 = 315; // default values PARAMETER 2 is for Sweep Angle\n\n  var start = param1 % 360;\n  if (start < 0) start += 360;\n  var sweep = param2 % 360;\n  var rad = Math.min(w, h) / 2;\n  return new go.Geometry().add(new go.PathFigure(rad, rad) // start point\n  .add(new go.PathSegment(go.PathSegment.Arc, start, sweep, // angles\n  rad, rad, // center\n  rad, rad) // radius\n  .close()));\n});\ngo.Shape.defineFigureGenerator(\"PiePiece\", function (shape, w, h) {\n  var factor = KAPPA / Math.SQRT2 * .5;\n  var x1 = Math.SQRT2 / 2;\n  var y1 = 1 - Math.SQRT2 / 2;\n  return new go.Geometry().add(new go.PathFigure(w, h, true).add(new go.PathSegment(go.PathSegment.Bezier, x1 * w, y1 * h, w, (1 - factor) * h, (x1 + factor) * w, (y1 + factor) * h)).add(new go.PathSegment(go.PathSegment.Line, 0, h).close()));\n});\ngo.Shape.setFigureParameter(\"ThickCross\", 0, new FigureParameter(\"Thickness\", 30));\ngo.Shape.defineFigureGenerator(\"ThickCross\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1) || param1 < 0) param1 = 30;\n  var t = Math.min(param1, w) / 2;\n  var mx = w / 2;\n  var my = h / 2;\n  return new go.Geometry().add(new go.PathFigure(mx - t, 0, true).add(new go.PathSegment(go.PathSegment.Line, mx + t, 0)).add(new go.PathSegment(go.PathSegment.Line, mx + t, my - t)).add(new go.PathSegment(go.PathSegment.Line, w, my - t)).add(new go.PathSegment(go.PathSegment.Line, w, my + t)).add(new go.PathSegment(go.PathSegment.Line, mx + t, my + t)).add(new go.PathSegment(go.PathSegment.Line, mx + t, h)).add(new go.PathSegment(go.PathSegment.Line, mx - t, h)).add(new go.PathSegment(go.PathSegment.Line, mx - t, my + t)).add(new go.PathSegment(go.PathSegment.Line, 0, my + t)).add(new go.PathSegment(go.PathSegment.Line, 0, my - t)).add(new go.PathSegment(go.PathSegment.Line, mx - t, my - t).close()));\n});\ngo.Shape.setFigureParameter(\"ThinCross\", 0, new FigureParameter(\"Thickness\", 10));\ngo.Shape.defineFigureGenerator(\"ThinCross\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1) || param1 < 0) param1 = 10;\n  var t = Math.min(param1, w) / 2;\n  var mx = w / 2;\n  var my = h / 2;\n  return new go.Geometry().add(new go.PathFigure(mx - t, 0, true).add(new go.PathSegment(go.PathSegment.Line, mx + t, 0)).add(new go.PathSegment(go.PathSegment.Line, mx + t, my - t)).add(new go.PathSegment(go.PathSegment.Line, w, my - t)).add(new go.PathSegment(go.PathSegment.Line, w, my + t)).add(new go.PathSegment(go.PathSegment.Line, mx + t, my + t)).add(new go.PathSegment(go.PathSegment.Line, mx + t, h)).add(new go.PathSegment(go.PathSegment.Line, mx - t, h)).add(new go.PathSegment(go.PathSegment.Line, mx - t, my + t)).add(new go.PathSegment(go.PathSegment.Line, 0, my + t)).add(new go.PathSegment(go.PathSegment.Line, 0, my - t)).add(new go.PathSegment(go.PathSegment.Line, mx - t, my - t).close()));\n});\ngo.Shape.setFigureParameter(\"ThickX\", 0, new FigureParameter(\"Thickness\", 30));\ngo.Shape.defineFigureGenerator(\"ThickX\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1) || param1 < 0) param1 = 30;\n\n  if (w === 0 || h === 0) {\n    var geo = new go.Geometry(go.Geometry.Rectangle);\n    geo.startX = 0;\n    geo.startY = 0;\n    geo.endX = w;\n    geo.endY = h;\n    return geo;\n  } else {\n    var w2 = w / 2;\n    var h2 = h / 2;\n    var a2 = Math.atan2(h, w);\n    var dx = param1 - Math.min(Math.cos(a2) * param1 / 2, w2);\n    var dy = param1 - Math.min(Math.sin(a2) * param1 / 2, h2);\n    var geo = new go.Geometry();\n    var fig = new go.PathFigure(dx, 0, true);\n    geo.add(fig);\n    fig.add(new go.PathSegment(go.PathSegment.Line, w2, .2 * h));\n    fig.add(new go.PathSegment(go.PathSegment.Line, w - dx, 0));\n    fig.add(new go.PathSegment(go.PathSegment.Line, w, dy));\n    fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, h2));\n    fig.add(new go.PathSegment(go.PathSegment.Line, w, h - dy));\n    fig.add(new go.PathSegment(go.PathSegment.Line, w - dx, h));\n    fig.add(new go.PathSegment(go.PathSegment.Line, w2, .8 * h));\n    fig.add(new go.PathSegment(go.PathSegment.Line, dx, h));\n    fig.add(new go.PathSegment(go.PathSegment.Line, 0, h - dy));\n    fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, h2));\n    fig.add(new go.PathSegment(go.PathSegment.Line, 0, dy).close());\n    return geo;\n  }\n});\ngo.Shape.setFigureParameter(\"ThinX\", 0, new FigureParameter(\"Thickness\", 10));\ngo.Shape.defineFigureGenerator(\"ThinX\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1) || param1 < 0) param1 = 10;\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.1 * w, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .4 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .6 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .4 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .1 * h).close());\n  return geo;\n});\ngo.Shape.setFigureParameter(\"SquareIBeam\", 0, new FigureParameter(\"BeamWidth\", 0.2, 0.1, 0.9));\ngo.Shape.defineFigureGenerator(\"SquareIBeam\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // width of the ibeam in % of the total width\n\n  if (isNaN(param1)) param1 = .2;\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, param1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, (.5 + param1 / 2) * w, param1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, (.5 + param1 / 2) * w, (1 - param1) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, (1 - param1) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, (1 - param1) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, (.5 - param1 / 2) * w, (1 - param1) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, (.5 - param1 / 2) * w, param1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, param1 * h).close());\n  return geo;\n});\ngo.Shape.setFigureParameter(\"RoundedIBeam\", 0, new FigureParameter(\"Curviness\", .5, .05, .65));\ngo.Shape.defineFigureGenerator(\"RoundedIBeam\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // curviness of the ibeam relative to total width\n\n  if (isNaN(param1)) param1 = .5;\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, h, Math.abs(1 - param1) * w, .25 * h, Math.abs(1 - param1) * w, .75 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0, param1 * w, .75 * h, param1 * w, .25 * h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"HalfEllipse\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, true).add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, KAPPA * w, 0, w, (.5 - KAPPA / 2) * h)).add(new go.PathSegment(go.PathSegment.Bezier, 0, h, w, (.5 + KAPPA / 2) * h, KAPPA * w, h).close())).setSpots(0, 0.156, 0.844, 0.844);\n});\ngo.Shape.defineFigureGenerator(\"Crescent\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, true).add(new go.PathSegment(go.PathSegment.Bezier, 0, h, w, 0, w, h)).add(new go.PathSegment(go.PathSegment.Bezier, 0, 0, 0.5 * w, 0.75 * h, 0.5 * w, 0.25 * h).close())).setSpots(.311, 0.266, 0.744, 0.744);\n});\ngo.Shape.defineFigureGenerator(\"Heart\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(.5 * w, h, true).add(new go.PathSegment(go.PathSegment.Bezier, 0, .3 * h, .1 * w, .8 * h, 0, .5 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .3 * h, 0, 0, .45 * w, 0)).add(new go.PathSegment(go.PathSegment.Bezier, w, .3 * h, .55 * w, 0, w, 0)).add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h, w, .5 * h, .9 * w, .8 * h).close())).setSpots(.14, .29, .86, .78);\n});\ngo.Shape.defineFigureGenerator(\"Spade\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(.5 * w, 0, true).add(new go.PathSegment(go.PathSegment.Line, .51 * w, .01 * h)).add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, .6 * w, .2 * h, w, .25 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .55 * w, .7 * h, w, .8 * h, .6 * w, .8 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .75 * w, h, .5 * w, .75 * h, .55 * w, .95 * h)).add(new go.PathSegment(go.PathSegment.Line, .25 * w, h)).add(new go.PathSegment(go.PathSegment.Bezier, .45 * w, .7 * h, .45 * w, .95 * h, .5 * w, .75 * h)).add(new go.PathSegment(go.PathSegment.Bezier, 0, .5 * h, .4 * w, .8 * h, 0, .8 * h)).add(new go.PathSegment(go.PathSegment.Bezier, .49 * w, .01 * h, 0, .25 * h, .4 * w, .2 * h).close())).setSpots(.14, .26, .86, .78);\n});\ngo.Shape.defineFigureGenerator(\"Club\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.4 * w, .6 * h, true);\n  geo.add(fig); // Start the base\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .15 * w, h, .5 * w, .75 * h, .45 * w, .95 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .85 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .6 * w, .6 * h, .55 * w, .95 * h, .5 * w, .75 * h)); // First circle:\n\n  var r = .2; // radius\n\n  var cx = .3; // offset from Center x\n\n  var cy = 0; // offset from Center y\n\n  var d = r * KAPPA;\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 + r + cy) * h, (.5 - r + cx) * w, (.5 + d + cy) * h, (.5 - d + cx) * w, (.5 + r + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (1 - .5 + r + cx) * w, (.5 + cy) * h, (.5 + d + cx) * w, (.5 + r + cy) * h, (.5 + r + cx) * w, (.5 + d + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 - r + cy) * h, (1 - .5 + r + cx) * w, (.5 - d + cy) * h, (.5 + d + cx) * w, (.5 - r + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .65 * w, 0.36771243 * h, (.5 - d + cx) * w, (.5 - r + cy) * h, (.5 - r + cx + .05) * w, (.5 - d + cy - .02) * h));\n  r = .2; // radius\n\n  cx = 0; // offset from Center x\n\n  cy = -.3; // offset from Center y\n\n  d = r * KAPPA;\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (1 - .5 + r + cx) * w, (.5 + cy) * h, (.5 + d + cx) * w, (.5 + r + cy) * h, (.5 + r + cx) * w, (.5 + d + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 - r + cy) * h, (1 - .5 + r + cx) * w, (.5 - d + cy) * h, (.5 + d + cx) * w, (.5 - r + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 - r + cx) * w, (.5 + cy) * h, (.5 - d + cx) * w, (.5 - r + cy) * h, (.5 - r + cx) * w, (.5 - d + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 - d + cx) * w, (.5 + r + cy) * h, (.5 - r + cx) * w, (.5 + d + cy) * h, (.5 - d + cx) * w, (.5 + r + cy) * h));\n  r = .2; // radius\n\n  cx = -.3; // offset from Center x\n\n  cy = 0; // offset from Center y\n\n  d = r * KAPPA;\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 - r + cy) * h, (1 - .5 + r + cx - .05) * w, (.5 - d + cy - .02) * h, (.5 + d + cx) * w, (.5 - r + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 - r + cx) * w, (.5 + cy) * h, (.5 - d + cx) * w, (.5 - r + cy) * h, (.5 - r + cx) * w, (.5 - d + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 + r + cy) * h, (.5 - r + cx) * w, (.5 + d + cy) * h, (.5 - d + cx) * w, (.5 + r + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .4 * w, .6 * h, (.5 + d + cx) * w, (.5 + r + cy) * h, (.5 + r + cx) * w, (.5 + d + cy) * h).close());\n  geo.setSpots(.06, .33, .93, .68);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"YinYang\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w * 0.5, 0, true);\n  geo.add(fig); // Right semi-circle\n\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 270, 180, w * 0.5, w * 0.5, w * 0.5, w * 0.5)); // bottom semi-circle\n\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 90, -180, w * 0.5, w * 0.75, w * 0.25, w * 0.25)); // top semi-circle\n\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 90, 180, w * 0.5, w * 0.25, w * 0.25, w * 0.25));\n  var radius = .1; // of the small circles\n\n  var centerx = .5;\n  var centery = .25; // Top small circle, goes counter-clockwise\n\n  fig.add(new go.PathSegment(go.PathSegment.Move, (centerx + radius) * w, centery * h));\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 0, -360, w * centerx, h * centery, radius * w, radius * w).close()); // Right semi-circle\n  // Left semi-circle\n\n  fig = new go.PathFigure(w * 0.5, 0, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 270, -180, w * 0.5, w * 0.5, w * 0.5, w * 0.5));\n  centery = .75; // Bottom small circle\n\n  fig = new go.PathFigure((centerx + radius) * w, centery * h, true); // Not a subpath\n\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 0, 360, w * centerx, h * centery, radius * w, radius * w).close()); // Right semi-circle\n\n  geo.defaultStretch = go.GraphObject.Uniform;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Peace\", function (shape, w, h) {\n  var a = 1.0 - 0.1464466094067262; // at 45 degrees\n\n  var w2 = 0.5 * w;\n  var h2 = 0.5 * h;\n  return new go.Geometry().add(new go.PathFigure(w2, 0, false).add(new go.PathSegment(go.PathSegment.Arc, 270, 360, w2, h2, w2, h2)).add(new go.PathSegment(go.PathSegment.Line, w2, h)).add(new go.PathSegment(go.PathSegment.Move, w2, h2)).add(new go.PathSegment(go.PathSegment.Line, (1.0 - a) * w, a * h)).add(new go.PathSegment(go.PathSegment.Move, w2, h2)).add(new go.PathSegment(go.PathSegment.Line, a * w, a * h)));\n});\ngo.Shape.defineFigureGenerator(\"NotAllowed\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpOffset = KAPPA * .5;\n  var radius = .5;\n  var centerx = .5;\n  var centery = .5;\n  var fig = new go.PathFigure(centerx * w, (centery - radius) * h);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h, (centerx - cpOffset) * w, (centery + radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h, (centerx + cpOffset) * w, (centery - radius) * h)); // Inner circle, composed of two parts, separated by\n  // a beam across going from top-right to bottom-left.\n\n  radius = .40;\n  cpOffset = KAPPA * .40; // First we cut up the top right 90 degree curve into two smaller\n  // curves.\n  // Since its clockwise, StartOfArrow is the first of the two points\n  // on the circle. EndOfArrow is the other one.\n\n  var startOfArrowc1 = tempPoint();\n  var startOfArrowc2 = tempPoint();\n  var startOfArrow = tempPoint();\n  var unused = tempPoint();\n  breakUpBezier(centerx, centery - radius, centerx + cpOffset, centery - radius, centerx + radius, centery - cpOffset, centerx + radius, centery, .42, startOfArrowc1, startOfArrowc2, startOfArrow, unused, unused);\n  var endOfArrowc1 = tempPoint();\n  var endOfArrowc2 = tempPoint();\n  var endOfArrow = tempPoint();\n  breakUpBezier(centerx, centery - radius, centerx + cpOffset, centery - radius, centerx + radius, centery - cpOffset, centerx + radius, centery, .58, unused, unused, endOfArrow, endOfArrowc1, endOfArrowc2); // Cut up the bottom left 90 degree curve into two smaller curves.\n\n  var startOfArrow2c1 = tempPoint();\n  var startOfArrow2c2 = tempPoint();\n  var startOfArrow2 = tempPoint();\n  breakUpBezier(centerx, centery + radius, centerx - cpOffset, centery + radius, centerx - radius, centery + cpOffset, centerx - radius, centery, .42, startOfArrow2c1, startOfArrow2c2, startOfArrow2, unused, unused);\n  var endOfArrow2c1 = tempPoint();\n  var endOfArrow2c2 = tempPoint();\n  var endOfArrow2 = tempPoint();\n  breakUpBezier(centerx, centery + radius, centerx - cpOffset, centery + radius, centerx - radius, centery + cpOffset, centerx - radius, centery, .58, unused, unused, endOfArrow2, endOfArrow2c1, endOfArrow2c2);\n  fig.add(new go.PathSegment(go.PathSegment.Move, endOfArrow2.x * w, endOfArrow2.y * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, endOfArrow2c1.x * w, endOfArrow2c1.y * h, endOfArrow2c2.x * w, endOfArrow2c2.y * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, startOfArrow.x * w, startOfArrow.y * h, startOfArrowc1.x * w, startOfArrowc1.y * h, startOfArrowc2.x * w, startOfArrowc2.y * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, endOfArrow2.x * w, endOfArrow2.y * h).close());\n  fig.add(new go.PathSegment(go.PathSegment.Move, startOfArrow2.x * w, startOfArrow2.y * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, endOfArrow.x * w, endOfArrow.y * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, endOfArrowc1.x * w, endOfArrowc1.y * h, endOfArrowc2.x * w, endOfArrowc2.y * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, startOfArrow2.x * w, startOfArrow2.y * h, startOfArrow2c1.x * w, startOfArrow2c1.y * h, startOfArrow2c2.x * w, startOfArrow2c2.y * h).close());\n  freePoint(startOfArrowc1);\n  freePoint(startOfArrowc2);\n  freePoint(startOfArrow);\n  freePoint(unused);\n  freePoint(endOfArrowc1);\n  freePoint(endOfArrowc2);\n  freePoint(endOfArrow);\n  freePoint(startOfArrow2c1);\n  freePoint(startOfArrow2c2);\n  freePoint(startOfArrow2);\n  freePoint(endOfArrow2c1);\n  freePoint(endOfArrow2c2);\n  freePoint(endOfArrow2);\n  geo.defaultStretch = go.GraphObject.Uniform;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Fragile\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, true).add(new go.PathSegment(go.PathSegment.Line, .25 * w, 0)).add(new go.PathSegment(go.PathSegment.Line, .2 * w, .15 * h)).add(new go.PathSegment(go.PathSegment.Line, .3 * w, .25 * h)).add(new go.PathSegment(go.PathSegment.Line, .29 * w, .33 * h)).add(new go.PathSegment(go.PathSegment.Line, .35 * w, .25 * h)).add(new go.PathSegment(go.PathSegment.Line, .3 * w, .15 * h)).add(new go.PathSegment(go.PathSegment.Line, .4 * w, 0)).add(new go.PathSegment(go.PathSegment.Line, w, 0)) // Left Side\n  .add(new go.PathSegment(go.PathSegment.Bezier, .55 * w, .5 * h, w, .25 * h, .75 * w, .5 * h)).add(new go.PathSegment(go.PathSegment.Line, .55 * w, .9 * h)) // The base\n  .add(new go.PathSegment(go.PathSegment.Line, .7 * w, .9 * h)).add(new go.PathSegment(go.PathSegment.Line, .7 * w, h)).add(new go.PathSegment(go.PathSegment.Line, .3 * w, h)).add(new go.PathSegment(go.PathSegment.Line, .3 * w, .9 * h)) // Right side\n  .add(new go.PathSegment(go.PathSegment.Line, .45 * w, .9 * h)).add(new go.PathSegment(go.PathSegment.Line, .45 * w, .5 * h)).add(new go.PathSegment(go.PathSegment.Bezier, 0, 0, .25 * w, .5 * h, 0, .25 * h).close()));\n});\ngo.Shape.setFigureParameter(\"HourGlass\", 0, new FigureParameter(\"Thickness\", 30));\ngo.Shape.defineFigureGenerator(\"HourGlass\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // width at middle of hourglass\n\n  if (isNaN(param1) || param1 < 0) param1 = 30;\n  if (param1 > w) param1 = w;\n  var x1 = (w - param1) / 2;\n  var x2 = x1 + param1;\n  return new go.Geometry().add(new go.PathFigure(x2, 0.5 * h).add(new go.PathSegment(go.PathSegment.Line, w, h)).add(new go.PathSegment(go.PathSegment.Line, 0, h)).add(new go.PathSegment(go.PathSegment.Line, x1, 0.5 * h)).add(new go.PathSegment(go.PathSegment.Line, 0, 0)).add(new go.PathSegment(go.PathSegment.Line, w, 0).close()));\n});\ngo.Shape.defineFigureGenerator(\"Lightning\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0.55 * h).add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0)).add(new go.PathSegment(go.PathSegment.Line, 0.3 * w, 0.45 * h)).add(new go.PathSegment(go.PathSegment.Line, w, 0.45 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, h)).add(new go.PathSegment(go.PathSegment.Line, 0.7 * w, 0.55 * h).close()));\n});\ngo.Shape.defineFigureGenerator(\"GenderMale\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpOffset = KAPPA * .4;\n  var radius = .4;\n  var centerx = .5;\n  var centery = .5;\n  var unused = tempPoint();\n  var mid = tempPoint();\n  var c1 = tempPoint();\n  var c2 = tempPoint();\n  var fig = new go.PathFigure((centerx - radius) * w, centery * h, false);\n  geo.add(fig); // Outer circle\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  breakUpBezier(centerx, centery - radius, centerx + cpOffset, centery - radius, centerx + radius, centery - cpOffset, centerx + radius, centery, .44, c1, c2, mid, unused, unused);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, mid.x * w, mid.y * h, c1.x * w, c1.y * h, c2.x * w, c2.y * h));\n  var startOfArrow = tempPointAt(mid.x, mid.y);\n  breakUpBezier(centerx, centery - radius, centerx + cpOffset, centery - radius, centerx + radius, centery - cpOffset, centerx + radius, centery, .56, unused, unused, mid, c1, c2);\n  var endOfArrow = tempPointAt(mid.x, mid.y);\n  fig.add(new go.PathSegment(go.PathSegment.Line, (startOfArrow.x * .1 + .95 * .9) * w, startOfArrow.y * .1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .85 * w, startOfArrow.y * .1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .85 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .15 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, (endOfArrow.x * .1 + .9) * w, .15 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, (endOfArrow.x * .1 + .9) * w, (endOfArrow.y * .1 + .05 * .9) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, endOfArrow.x * w, endOfArrow.y * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, c1.x * w, c1.y * h, c2.x * w, c2.y * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h)); // Inner circle\n\n  radius = .35;\n  cpOffset = KAPPA * .35;\n  var fig2 = new go.PathFigure(centerx * w, (centery - radius) * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h, (centerx - cpOffset) * w, (centery + radius) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h, (centerx + cpOffset) * w, (centery - radius) * h));\n  var fig3 = new go.PathFigure((centerx - radius) * w, centery * h, false);\n  geo.add(fig3);\n  freePoint(unused);\n  freePoint(mid);\n  freePoint(c1);\n  freePoint(c2);\n  freePoint(startOfArrow);\n  freePoint(endOfArrow);\n  geo.spot1 = new go.Spot(.202, .257);\n  geo.spot2 = new go.Spot(.792, .739);\n  geo.defaultStretch = go.GraphObject.Uniform;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"GenderFemale\", function (shape, w, h) {\n  var geo = new go.Geometry(); // Outer Circle\n\n  var r = .375; // radius\n\n  var cx = 0; // offset from Center x\n\n  var cy = -.125; // offset from Center y\n\n  var d = r * KAPPA;\n  var fig = new go.PathFigure((.525 + cx) * w, (.5 + r + cy) * h, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (1 - .5 + r + cx) * w, (.5 + cy) * h, (.5 + d + cx) * w, (.5 + r + cy) * h, (.5 + r + cx) * w, (.5 + d + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 - r + cy) * h, (1 - .5 + r + cx) * w, (.5 - d + cy) * h, (.5 + d + cx) * w, (.5 - r + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 - r + cx) * w, (.5 + cy) * h, (.5 - d + cx) * w, (.5 - r + cy) * h, (.5 - r + cx) * w, (.5 - d + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.475 + cx) * w, (.5 + r + cy) * h, (.5 - r + cx) * w, (.5 + d + cy) * h, (.5 - d + cx) * w, (.5 + r + cy) * h)); // Legs\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, .475 * w, .85 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .425 * w, .85 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .425 * w, .9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .475 * w, .9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .475 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .525 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .525 * w, .9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .575 * w, .9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .575 * w, .85 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .525 * w, .85 * h).close()); // Inner circle\n\n  r = .325; // radius\n\n  cx = 0; // offset from Center x\n\n  cy = -.125; // offset from Center y\n\n  d = r * KAPPA;\n  var fig = new go.PathFigure((1 - .5 + r + cx) * w, (.5 + cy) * h, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 + r + cy) * h, (.5 + r + cx) * w, (.5 + d + cy) * h, (.5 + d + cx) * w, (.5 + r + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 - r + cx) * w, (.5 + cy) * h, (.5 - d + cx) * w, (.5 + r + cy) * h, (.5 - r + cx) * w, (.5 + d + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 - r + cy) * h, (.5 - r + cx) * w, (.5 - d + cy) * h, (.5 - d + cx) * w, (.5 - r + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (1 - .5 + r + cx) * w, (.5 + cy) * h, (.5 + d + cx) * w, (.5 - r + cy) * h, (1 - .5 + r + cx) * w, (.5 - d + cy) * h));\n  var fig = new go.PathFigure((.525 + cx) * w, (.5 + r + cy) * h, false);\n  geo.add(fig);\n  geo.spot1 = new go.Spot(.232, .136);\n  geo.spot2 = new go.Spot(.682, .611);\n  geo.defaultStretch = go.GraphObject.Uniform;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"LogicImplies\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1)) param1 = .2; // Distance the arrow folds from the right\n\n  return new go.Geometry().add(new go.PathFigure((1 - param1) * w, 0, false).add(new go.PathSegment(go.PathSegment.Line, w, .5 * h)).add(new go.PathSegment(go.PathSegment.Line, (1 - param1) * w, h)).add(new go.PathSegment(go.PathSegment.Move, 0, .5 * h)).add(new go.PathSegment(go.PathSegment.Line, w, .5 * h))).setSpots(0, 0, 0.8, 0.5);\n});\ngo.Shape.defineFigureGenerator(\"LogicIff\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1)) param1 = .2; // Distance the arrow folds from the right\n\n  return new go.Geometry().add(new go.PathFigure((1 - param1) * w, 0, false).add(new go.PathSegment(go.PathSegment.Line, w, .5 * h)).add(new go.PathSegment(go.PathSegment.Line, (1 - param1) * w, h)).add(new go.PathSegment(go.PathSegment.Move, 0, .5 * h)).add(new go.PathSegment(go.PathSegment.Line, w, .5 * h)).add(new go.PathSegment(go.PathSegment.Move, param1 * w, 0)).add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h)).add(new go.PathSegment(go.PathSegment.Line, param1 * w, h))).setSpots(0.2, 0, 0.8, 0.5);\n});\ngo.Shape.defineFigureGenerator(\"LogicNot\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, false).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Line, w, h)));\n});\ngo.Shape.defineFigureGenerator(\"LogicAnd\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, h, false).add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0)).add(new go.PathSegment(go.PathSegment.Line, w, h))).setSpots(0.25, 0.5, 0.75, 1);\n});\ngo.Shape.defineFigureGenerator(\"LogicOr\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, false).add(new go.PathSegment(go.PathSegment.Line, .5 * w, h)).add(new go.PathSegment(go.PathSegment.Line, w, 0))).setSpots(0.219, 0, 0.78, 0.409);\n});\ngo.Shape.defineFigureGenerator(\"LogicXor\", function (shape, w, h) {\n  var geo = new go.Geometry().add(new go.PathFigure(.5 * w, 0, false).add(new go.PathSegment(go.PathSegment.Line, .5 * w, h)).add(new go.PathSegment(go.PathSegment.Move, 0, .5 * h)).add(new go.PathSegment(go.PathSegment.Line, w, .5 * h)).add(new go.PathSegment(go.PathSegment.Arc, 0, 360, .5 * w, .5 * h, .5 * w, .5 * h)));\n  geo.defaultStretch = go.GraphObject.Uniform;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"LogicTruth\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, false).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Move, .5 * w, 0)).add(new go.PathSegment(go.PathSegment.Line, .5 * w, h)));\n});\ngo.Shape.defineFigureGenerator(\"LogicFalsity\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, h, false).add(new go.PathSegment(go.PathSegment.Line, w, h)).add(new go.PathSegment(go.PathSegment.Move, .5 * w, h)).add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0)));\n});\ngo.Shape.defineFigureGenerator(\"LogicThereExists\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, false).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Line, w, .5 * h)).add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h)).add(new go.PathSegment(go.PathSegment.Move, w, .5 * h)).add(new go.PathSegment(go.PathSegment.Line, w, h)).add(new go.PathSegment(go.PathSegment.Line, 0, h)));\n});\ngo.Shape.defineFigureGenerator(\"LogicForAll\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, false).add(new go.PathSegment(go.PathSegment.Line, .5 * w, h)).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Move, .25 * w, .5 * h)).add(new go.PathSegment(go.PathSegment.Line, .75 * w, .5 * h))).setSpots(0.25, 0, 0.75, 0.5);\n});\ngo.Shape.defineFigureGenerator(\"LogicIsDefinedAs\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, false).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Move, 0, .5 * h)).add(new go.PathSegment(go.PathSegment.Line, w, .5 * h)).add(new go.PathSegment(go.PathSegment.Move, 0, h)).add(new go.PathSegment(go.PathSegment.Line, w, h))).setSpots(0.01, 0.01, 0.99, 0.49);\n});\ngo.Shape.defineFigureGenerator(\"LogicIntersect\", function (shape, w, h) {\n  var radius = 0.5;\n  return new go.Geometry().add(new go.PathFigure(0, h, false).add(new go.PathSegment(go.PathSegment.Line, 0, radius * h)).add(new go.PathSegment(go.PathSegment.Arc, 180, 180, radius * w, radius * h, radius * w, radius * h)).add(new go.PathSegment(go.PathSegment.Line, w, h))).setSpots(0, 0.5, 1, 1);\n});\ngo.Shape.defineFigureGenerator(\"LogicUnion\", function (shape, w, h) {\n  var radius = 0.5;\n  return new go.Geometry().add(new go.PathFigure(w, 0, false).add(new go.PathSegment(go.PathSegment.Line, w, radius * h)).add(new go.PathSegment(go.PathSegment.Arc, 0, 180, radius * w, radius * h, radius * w, radius * h)).add(new go.PathSegment(go.PathSegment.Line, 0, 0))).setSpots(0, 0, 1, 0.5);\n});\ngo.Shape.setFigureParameter(\"Arrow\", 0, new FigureParameter(\"ArrowheadWidth\", .3, .01, .99));\ngo.Shape.setFigureParameter(\"Arrow\", 1, new FigureParameter(\"TailHeight\", .3, .01, .99));\ngo.Shape.defineFigureGenerator(\"Arrow\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // % width of arrowhead\n\n  if (isNaN(param1)) param1 = .3;\n  var param2 = shape ? shape.parameter2 : NaN; // % height of tail\n\n  if (isNaN(param2)) param2 = .3;\n  var x = (1 - param1) * w;\n  var y1 = (.5 - param2 / 2) * h;\n  var y2 = (.5 + param2 / 2) * h;\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, y1, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y2).close());\n  geo.spot1 = new go.Spot(0, y1 / h);\n  var temp = getIntersection(0, y2 / h, 1, y2 / h, x / w, 1, 1, .5, tempPoint());\n  geo.spot2 = new go.Spot(temp.x, temp.y);\n  freePoint(temp);\n  return geo;\n}); // Arrow with absolutes instead of scaling\n\ngo.Shape.setFigureParameter(\"Arrow2\", 0, new FigureParameter(\"ArrowheadWidth\", 30));\ngo.Shape.setFigureParameter(\"Arrow2\", 0, new FigureParameter(\"TailHeight\", 30));\ngo.Shape.defineFigureGenerator(\"Arrow2\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // width of arrowhead\n\n  if (isNaN(param1)) param1 = 30;\n  if (param1 > w) param1 = w;\n  var param2 = shape ? shape.parameter2 : NaN; // height of tail\n\n  if (isNaN(param2)) param2 = 30;\n  param2 = Math.min(param2, h / 2);\n  var x = w - param1;\n  var y1 = (h - param2) / 2;\n  var y2 = y1 + param2;\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, y1, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y2).close());\n  geo.spot1 = new go.Spot(0, y1 / h);\n  var temp = getIntersection(0, y2 / h, 1, y2 / h, x / w, 1, 1, .5, tempPoint());\n  geo.spot2 = new go.Spot(temp.x, temp.y);\n  freePoint(temp);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Chevron\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"DoubleArrow\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 0.214 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 1.0 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 1.0 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 0.786 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 1.0 * h).close());\n  return geo;\n});\ngo.Shape.setFigureParameter(\"DoubleEndArrow\", 0, new FigureParameter(\"ConnecterHeight\", .3, .01, .99));\ngo.Shape.defineFigureGenerator(\"DoubleEndArrow\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // height of midsection\n\n  if (isNaN(param1)) param1 = .3;\n  var y1 = (.5 - param1 / 2) * h;\n  var y2 = (.5 + param1 / 2) * h;\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, .5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, 0).close());\n  var temp = getIntersection(0, .5, .3, 0, 0, y1 / h, .1, y1 / h, tempPoint());\n  geo.spot1 = new go.Spot(temp.x, temp.y);\n  temp = getIntersection(.7, 1, 1, .5, 0, y2 / h, 1, y2 / h, temp);\n  geo.spot2 = new go.Spot(temp.x, temp.y);\n  freePoint(temp);\n  return geo;\n}); // DoubleEndArrow with absolutes instead of scaling\n\ngo.Shape.setFigureParameter(\"DoubleEndArrow2\", 0, new FigureParameter(\"ConnecterHeight\", 40));\ngo.Shape.setFigureParameter(\"DoubleEndArrow2\", 1, new FigureParameter(\"ArrowHeight\", 100));\ngo.Shape.defineFigureGenerator(\"DoubleEndArrow2\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // height of midsection\n\n  if (isNaN(param1)) param1 = 40;\n  var param2 = shape ? shape.parameter2 : NaN; // height of arrows\n\n  if (isNaN(param2)) param2 = 100;\n  /*\r\n    y1outer\r\n      /|     |\\\r\n     / |     | \\\r\n    /  y1----   \\\r\n   /             \\\r\n   \\             /\r\n    \\  y2----   /\r\n     \\ |     | /\r\n      \\|     |/\r\n    y2outer\r\n  */\n\n  var y1 = (h - param1) / 2;\n  var y2 = y1 + param1;\n  var y1outer = (h - param2) / 2;\n  var y2outer = y1outer + param2;\n\n  if (param1 > h || param2 > h) {\n    if (param2 > param1) {\n      param1 = param1 * h / param2; // use similar ratio\n\n      y1 = (h - param1) / 2;\n      y2 = y1 + param1;\n      y1outer = 0;\n      y2outer = h;\n    } else {\n      y1 = 0;\n      y2 = h;\n      y1outer = 0;\n      y2outer = h;\n    }\n  }\n\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, .5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2outer));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, y2outer));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, y1outer));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1outer).close());\n  var temp = getIntersection(0, .5, .3, y1outer / h, 0, y1 / h, 1, y1 / h, tempPoint());\n  geo.spot1 = new go.Spot(temp.x, temp.y);\n  temp = getIntersection(.7, y2outer / h, 1, .5, 0, y2 / h, 1, y2 / h, temp);\n  geo.spot2 = new go.Spot(temp.x, temp.y);\n  freePoint(temp);\n  return geo;\n});\ngo.Shape.setFigureParameter(\"IBeamArrow\", 0, new FigureParameter(\"ConnectorHeight\", .7, .51, .97));\ngo.Shape.defineFigureGenerator(\"IBeamArrow\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // height of midsection\n\n  if (isNaN(param1)) param1 = .3;\n  var y1 = (.5 - param1 / 2) * h;\n  var y2 = (.5 + param1 / 2) * h;\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, .5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, 0).close());\n  geo.spot1 = new go.Spot(0, y1 / h);\n  var temp = getIntersection(.7, 1, 1, .5, 0, y2 / h, 1, y2 / h, tempPoint());\n  geo.spot2 = new go.Spot(temp.x, temp.y);\n  freePoint(temp);\n  return geo;\n}); // IBeamArrow with absolutes instead of scaling\n\ngo.Shape.setFigureParameter(\"IBeamArrow2\", 0, new FigureParameter(\"ConnectorHeight\", 40));\ngo.Shape.setFigureParameter(\"IBeamArrow2\", 1, new FigureParameter(\"BeamArrowHeight\", 100));\ngo.Shape.defineFigureGenerator(\"IBeamArrow2\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // height of midsection\n\n  if (isNaN(param1)) param1 = 40;\n  var param2 = shape ? shape.parameter2 : NaN; // height of beam and arrow\n\n  if (isNaN(param2)) param2 = 100;\n  var y1 = (h - param1) / 2;\n  var y2 = y1 + param1;\n  var y1outer = (h - param2) / 2;\n  var y2outer = y1outer + param2;\n\n  if (param1 > h || param2 > h) {\n    if (param2 > param1) {\n      param1 = param1 * h / param2; // use similar ratio\n\n      y1 = (h - param1) / 2;\n      y2 = y1 + param1;\n      y1outer = 0;\n      y2outer = h;\n    } else {\n      y1 = 0;\n      y2 = h;\n      y1outer = 0;\n      y2outer = h;\n    }\n  }\n\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, .5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2outer));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, y2outer));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y2outer));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y1outer));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, y1outer));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1outer).close());\n  geo.spot1 = new go.Spot(0, y1 / h);\n  var temp = getIntersection(.7, y2outer / h, 1, .5, 0, y2 / h, 1, y2 / h, tempPoint());\n  geo.spot2 = new go.Spot(temp.x, temp.y);\n  freePoint(temp);\n  return geo;\n});\ngo.Shape.setFigureParameter(\"Pointer\", 0, new FigureParameter(\"BackPoint\", .1, 0, .2));\ngo.Shape.defineFigureGenerator(\"Pointer\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // how much the back of the pointer comes in\n\n  if (isNaN(param1)) param1 = .1;\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, .5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0).close());\n  geo.spot1 = new go.Spot(param1, .35);\n  var temp = getIntersection(.2, .65, 1, .65, 0, 1, 1, .5, tempPoint()); // ?? constant\n\n  geo.spot2 = new go.Spot(temp.x, temp.y);\n  freePoint(temp);\n  return geo;\n});\ngo.Shape.setFigureParameter(\"RoundedPointer\", 0, new FigureParameter(\"RoundedEdge\", .3, 0, .5));\ngo.Shape.defineFigureGenerator(\"RoundedPointer\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // how much the curved back of the pointer comes in\n\n  if (isNaN(param1)) param1 = .3;\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, .5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0, param1 * w, .75 * h, param1 * w, .25 * h).close());\n  geo.spot1 = new go.Spot(param1, .35);\n  var temp = getIntersection(0, .65, 1, .65, 0, 1, 1, .5, tempPoint()); // ?? constant\n\n  geo.spot2 = new go.Spot(temp.x, temp.y);\n  freePoint(temp);\n  return geo;\n});\ngo.Shape.setFigureParameter(\"SplitEndArrow\", 0, new FigureParameter(\"TailHeight\", 0.4, 0.01, .99));\ngo.Shape.defineFigureGenerator(\"SplitEndArrow\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // % height of arrow tail\n\n  if (isNaN(param1)) param1 = .4;\n  var y1 = (.5 - param1 / 2) * h;\n  var y2 = (.5 + param1 / 2) * h;\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, .5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, 0).close());\n  geo.spot1 = new go.Spot(.2, .3);\n  var temp = getIntersection(.7, 1, 1, .5, 0, y2 / h, 1, y2 / h, tempPoint());\n  geo.spot2 = new go.Spot(temp.x, temp.y);\n  freePoint(temp);\n  return geo;\n}); // SplitEndArrow with absolutes instead of scaling\n\ngo.Shape.setFigureParameter(\"SplitEndArrow2\", 0, new FigureParameter(\"TailThickness\", 50));\ngo.Shape.defineFigureGenerator(\"SplitEndArrow2\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // height of arrow tail\n\n  if (isNaN(param1)) param1 = 50;\n  var y1 = (h - param1) / 2;\n  var y2 = y1 + param1;\n\n  if (param1 > h) {\n    y1 = 0;\n    y2 = h;\n  }\n\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, .5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y2));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, 0).close());\n  geo.spot1 = new go.Spot(.2, y1 / h);\n  var temp = getIntersection(.7, 1, 1, .5, 0, y2 / h, 1, y2 / h, tempPoint());\n  geo.spot2 = new go.Spot(temp.x, temp.y);\n  freePoint(temp);\n  return geo;\n});\ngo.Shape.setFigureParameter(\"SquareArrow\", 0, new FigureParameter(\"ArrowPoint\", .7, .2, .9));\ngo.Shape.defineFigureGenerator(\"SquareArrow\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // pointiness of arrow, lower is more pointy\n\n  if (isNaN(param1)) param1 = .7;\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, .5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1 * w, 0).close());\n  geo.spot1 = go.Spot.TopLeft;\n  geo.spot2 = new go.Spot(param1, 1);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Cone1\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpxOffset = KAPPA * .5;\n  var cpyOffset = KAPPA * .1;\n  var fig = new go.PathFigure(0, .9 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h, w, (.9 + cpyOffset) * h, (.5 + cpxOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .9 * h, (.5 - cpxOffset) * w, h, 0, (.9 + cpyOffset) * h).close());\n  geo.spot1 = new go.Spot(.25, .5);\n  geo.spot2 = new go.Spot(.75, .97);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Cone2\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, .9 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .9 * h, (1 - .85 / .9) * w, h, .85 / .9 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .9 * h).close());\n  var fig2 = new go.PathFigure(0, .9 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w, .9 * h, (1 - .85 / .9) * w, .8 * h, .85 / .9 * w, .8 * h));\n  geo.spot1 = new go.Spot(.25, .5);\n  geo.spot2 = new go.Spot(.75, .82);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Cube1\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.5 * w, h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .85 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .15 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .15 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .85 * h).close());\n  var fig2 = new go.PathFigure(.5 * w, h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .3 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, .15 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .5 * w, .3 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, .15 * h));\n  geo.spot1 = new go.Spot(0, .3);\n  geo.spot2 = new go.Spot(.5, .85);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Cube2\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, .3 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .7 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 0).close());\n  var fig2 = new go.PathFigure(0, .3 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .7 * w, .3 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .7 * w, .3 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .7 * w, h));\n  geo.spot1 = new go.Spot(0, .3);\n  geo.spot2 = new go.Spot(.7, 1);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Cylinder1\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // half the height of the ellipse\n\n  if (isNaN(param1)) param1 = 5; // default value\n\n  param1 = Math.min(param1, h / 3);\n  var geo = new go.Geometry();\n  var cpxOffset = KAPPA * .5;\n  var fig = new go.PathFigure(0, param1, true);\n  geo.add(fig); // The base (top)\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, 0, 0, KAPPA * param1, (.5 - cpxOffset) * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 1.0 * w, param1, (.5 + cpxOffset) * w, 0, 1.0 * w, KAPPA * param1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h - param1)); // Bottom curve\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, 1.0 * h, 1.0 * w, h - KAPPA * param1, (.5 + cpxOffset) * w, 1.0 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h - param1, (.5 - cpxOffset) * w, 1.0 * h, 0, h - KAPPA * param1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, param1));\n  var fig2 = new go.PathFigure(w, param1, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, 2 * param1, 1.0 * w, 2 * param1 - KAPPA * param1, (.5 + cpxOffset) * w, 2 * param1));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0, param1, (.5 - cpxOffset) * w, 2 * param1, 0, 2 * param1 - KAPPA * param1));\n  geo.spot1 = new go.Spot(0, 0, 0, 2 * param1);\n  geo.spot2 = new go.Spot(1, 1);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Cylinder2\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // half the height of the ellipse\n\n  if (isNaN(param1)) param1 = 5; // default value\n\n  param1 = Math.min(param1, h / 3);\n  var geo = new go.Geometry();\n  var cpxOffset = KAPPA * .5;\n  var fig = new go.PathFigure(0, h - param1, true);\n  geo.add(fig); // The body, starting and ending bottom left\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, param1));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, 0, 0, KAPPA * param1, (.5 - cpxOffset) * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, param1, (.5 + cpxOffset) * w, 0, w, KAPPA * param1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h - param1));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h, w, h - KAPPA * param1, (.5 + cpxOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h - param1, (.5 - cpxOffset) * w, h, 0, h - KAPPA * param1));\n  var fig2 = new go.PathFigure(0, h - param1, false);\n  geo.add(fig2); // The base (bottom)\n\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h - 2 * param1, 0, h - param1 - KAPPA * param1, (.5 - cpxOffset) * w, h - 2 * param1));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w, h - param1, (.5 + cpxOffset) * w, h - 2 * param1, w, h - param1 - KAPPA * param1));\n  geo.spot1 = new go.Spot(0, 0);\n  geo.spot2 = new go.Spot(1, 1, 0, -2 * param1);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Cylinder3\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // half the width of the ellipse\n\n  if (isNaN(param1)) param1 = 5; // default value\n\n  param1 = Math.min(param1, w / 3);\n  var geo = new go.Geometry();\n  var cpyOffset = KAPPA * .5;\n  var fig = new go.PathFigure(param1, 0, true);\n  geo.add(fig); // The body, starting and ending top left\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w - param1, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, w - KAPPA * param1, 0, w, (.5 - cpyOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w - param1, h, w, (.5 + cpyOffset) * h, w - KAPPA * param1, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .5 * h, KAPPA * param1, h, 0, (.5 + cpyOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, param1, 0, 0, (.5 - cpyOffset) * h, KAPPA * param1, 0));\n  var fig2 = new go.PathFigure(param1, 0, false);\n  geo.add(fig2); // Cylinder line (left)\n\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 2 * param1, .5 * h, param1 + KAPPA * param1, 0, 2 * param1, (.5 - cpyOffset) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, param1, h, 2 * param1, (.5 + cpyOffset) * h, param1 + KAPPA * param1, h));\n  geo.spot1 = new go.Spot(0, 0, 2 * param1, 0);\n  geo.spot2 = new go.Spot(1, 1);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Cylinder4\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // half the width of the ellipse\n\n  if (isNaN(param1)) param1 = 5; // default value\n\n  param1 = Math.min(param1, w / 3);\n  var geo = new go.Geometry();\n  var cpyOffset = KAPPA * .5;\n  var fig = new go.PathFigure(w - param1, 0, true);\n  geo.add(fig); // The body, starting and ending top right\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, w - KAPPA * param1, 0, w, (.5 - cpyOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w - param1, h, w, (.5 + cpyOffset) * h, w - KAPPA * param1, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .5 * h, KAPPA * param1, h, 0, (.5 + cpyOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, param1, 0, 0, (.5 - cpyOffset) * h, KAPPA * param1, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w - param1, 0));\n  var fig2 = new go.PathFigure(w - param1, 0, false);\n  geo.add(fig2); // Cylinder line (right)\n\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w - 2 * param1, .5 * h, w - param1 - KAPPA * param1, 0, w - 2 * param1, (.5 - cpyOffset) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w - param1, h, w - 2 * param1, (.5 + cpyOffset) * h, w - param1 - KAPPA * param1, h));\n  geo.spot1 = new go.Spot(0, 0);\n  geo.spot2 = new go.Spot(1, 1, -2 * param1, 0);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Prism1\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.25 * w, .25 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  var fig2 = new go.PathFigure(.25 * w, .25 * h, false);\n  geo.add(fig2); // Inner prism line\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\n  geo.spot1 = new go.Spot(.408, .172);\n  geo.spot2 = new go.Spot(.833, .662);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Prism2\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, .25 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .25 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, .75 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  var fig2 = new go.PathFigure(0, h, false);\n  geo.add(fig2); // Inner prism lines\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .25 * w, .5 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, .25 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, .25 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .25 * w, .5 * h));\n  geo.spot1 = new go.Spot(.25, .5);\n  geo.spot2 = new go.Spot(.75, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Pyramid1\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.5 * w, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .75 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .75 * h).close());\n  var fig2 = new go.PathFigure(.5 * w, 0, false);\n  geo.add(fig2); // Inner pyramind line\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\n  geo.spot1 = new go.Spot(.25, .367);\n  geo.spot2 = new go.Spot(.75, .875);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Pyramid2\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.5 * w, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .85 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .85 * h).close());\n  var fig2 = new go.PathFigure(.5 * w, 0, false);\n  geo.add(fig2); // Inner pyramid lines\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .7 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, .85 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .5 * w, .7 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, .85 * h));\n  geo.spot1 = new go.Spot(.25, .367);\n  geo.spot2 = new go.Spot(.75, .875);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Actor\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var radiusw = .2;\n  var radiush = .1;\n  var offsetw = KAPPA * radiusw;\n  var offseth = KAPPA * radiush;\n  var centerx = .5;\n  var centery = .1;\n  var fig = new go.PathFigure(centerx * w, (centery + radiush) * h, true);\n  geo.add(fig); // Head\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radiusw) * w, centery * h, (centerx - offsetw) * w, (centery + radiush) * h, (centerx - radiusw) * w, (centery + offseth) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radiush) * h, (centerx - radiusw) * w, (centery - offseth) * h, (centerx - offsetw) * w, (centery - radiush) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radiusw) * w, centery * h, (centerx + offsetw) * w, (centery - radiush) * h, (centerx + radiusw) * w, (centery - offseth) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radiush) * h, (centerx + radiusw) * w, (centery + offseth) * h, (centerx + offsetw) * w, (centery + radiush) * h));\n  var r = .05;\n  var cpOffset = KAPPA * r;\n  centerx = .05;\n  centery = .25;\n  var fig2 = new go.PathFigure(.5 * w, .2 * h, true);\n  geo.add(fig2); // Body\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .95 * w, .2 * h));\n  centerx = .95;\n  centery = .25; // Right arm\n\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + r) * w, centery * h, (centerx + cpOffset) * w, (centery - r) * h, (centerx + r) * w, (centery - cpOffset) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, .6 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .85 * w, .6 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .85 * w, .35 * h));\n  r = .025;\n  cpOffset = KAPPA * r;\n  centerx = .825;\n  centery = .35; // Right under arm\n\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - r) * h, (centerx + r) * w, (centery - cpOffset) * h, (centerx + cpOffset) * w, (centery - r) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - r) * w, centery * h, (centerx - cpOffset) * w, (centery - r) * h, (centerx - r) * w, (centery - cpOffset) * h)); // Right side/leg\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .55 * w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .55 * w, .7 * h)); // Right in between\n\n  r = .05;\n  cpOffset = KAPPA * r;\n  centerx = .5;\n  centery = .7;\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - r) * h, (centerx + r) * w, (centery - cpOffset) * h, (centerx + cpOffset) * w, (centery - r) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - r) * w, centery * h, (centerx - cpOffset) * w, (centery - r) * h, (centerx - r) * w, (centery - cpOffset) * h)); // Left side/leg\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .45 * w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .2 * w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .35 * h));\n  r = .025;\n  cpOffset = KAPPA * r;\n  centerx = .175;\n  centery = .35; // Left under arm\n\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - r) * h, (centerx + r) * w, (centery - cpOffset) * h, (centerx + cpOffset) * w, (centery - r) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - r) * w, centery * h, (centerx - cpOffset) * w, (centery - r) * h, (centerx - r) * w, (centery - cpOffset) * h)); // Left arm\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .15 * w, .6 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, .6 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, .25 * h));\n  r = .05;\n  cpOffset = KAPPA * r;\n  centerx = .05;\n  centery = .25; // Left shoulder\n\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - r) * h, (centerx - r) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - r) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .2 * h));\n  geo.spot1 = new go.Spot(.2, .2);\n  geo.spot2 = new go.Spot(.8, .65);\n  return geo;\n});\ngo.Shape.setFigureParameter(\"Card\", 0, new FigureParameter(\"CornerCutoutSize\", .2, .1, .9));\ngo.Shape.defineFigureGenerator(\"Card\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN; // size of corner cutout\n\n  if (isNaN(param1)) param1 = .2;\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, param1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1 * w, 0).close());\n  geo.spot1 = new go.Spot(0, param1);\n  geo.spot2 = go.Spot.BottomRight;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Collate\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.5 * w, .5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h));\n  var fig2 = new go.PathFigure(.5 * w, .5 * h, true);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h));\n  geo.spot1 = new go.Spot(.25, 0);\n  geo.spot2 = new go.Spot(.75, .25);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"CreateRequest\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1)) param1 = .1;\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig); // Body\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  var fig2 = new go.PathFigure(0, param1 * h, false);\n  geo.add(fig2); // Inside lines\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, param1 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, (1 - param1) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, (1 - param1) * h)); //??? geo.spot1 = new go.Spot(0, param1);\n  //??? geo.spot2 = new go.Spot(1, 1 - param1);\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Database\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpxOffset = KAPPA * .5;\n  var cpyOffset = KAPPA * .1;\n  var fig = new go.PathFigure(w, .1 * h, true);\n  geo.add(fig); // Body\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h, w, (.9 + cpyOffset) * h, (.5 + cpxOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .9 * h, (.5 - cpxOffset) * w, h, 0, (.9 + cpyOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, 0, 0, (.1 - cpyOffset) * h, (.5 - cpxOffset) * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .1 * h, (.5 + cpxOffset) * w, 0, w, (.1 - cpyOffset) * h));\n  var fig2 = new go.PathFigure(w, .1 * h, false);\n  geo.add(fig2); // Rings\n\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .2 * h, w, (.1 + cpyOffset) * h, (.5 + cpxOffset) * w, .2 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0, .1 * h, (.5 - cpxOffset) * w, .2 * h, 0, (.1 + cpyOffset) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, w, .2 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .3 * h, w, (.2 + cpyOffset) * h, (.5 + cpxOffset) * w, .3 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0, .2 * h, (.5 - cpxOffset) * w, .3 * h, 0, (.2 + cpyOffset) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, w, .3 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .4 * h, w, (.3 + cpyOffset) * h, (.5 + cpxOffset) * w, .4 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0, .3 * h, (.5 - cpxOffset) * w, .4 * h, 0, (.3 + cpyOffset) * h));\n  geo.spot1 = new go.Spot(0, .4);\n  geo.spot2 = new go.Spot(1, .9);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"DataStorage\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .75 * w, h, w, 0, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0, .25 * w, .9 * h, .25 * w, .1 * h).close());\n  geo.spot1 = new go.Spot(.226, 0);\n  geo.spot2 = new go.Spot(.81, 1);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"DiskStorage\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpxOffset = KAPPA * .5;\n  var cpyOffset = KAPPA * .1;\n  var fig = new go.PathFigure(w, .1 * h, true);\n  geo.add(fig); // Body\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h, w, (.9 + cpyOffset) * h, (.5 + cpxOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .9 * h, (.5 - cpxOffset) * w, h, 0, (.9 + cpyOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, 0, 0, (.1 - cpyOffset) * h, (.5 - cpxOffset) * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .1 * h, (.5 + cpxOffset) * w, 0, w, (.1 - cpyOffset) * h));\n  var fig2 = new go.PathFigure(w, .1 * h, false);\n  geo.add(fig2); // Rings\n\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .2 * h, w, (.1 + cpyOffset) * h, (.5 + cpxOffset) * w, .2 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0, .1 * h, (.5 - cpxOffset) * w, .2 * h, 0, (.1 + cpyOffset) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, w, .2 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .3 * h, w, (.2 + cpyOffset) * h, (.5 + cpxOffset) * w, .3 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0, .2 * h, (.5 - cpxOffset) * w, .3 * h, 0, (.2 + cpyOffset) * h));\n  geo.spot1 = new go.Spot(0, .3);\n  geo.spot2 = new go.Spot(1, .9);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Display\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.25 * w, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .75 * w, h, w, 0, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .25 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h).close());\n  geo.spot1 = new go.Spot(.25, 0);\n  geo.spot2 = new go.Spot(.75, 1);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"DividedEvent\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1)) param1 = .2;else if (param1 < .15) param1 = .15; // Minimum\n\n  var cpOffset = KAPPA * .2;\n  var fig = new go.PathFigure(0, .2 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .2 * w, 0, 0, (.2 - cpOffset) * h, (.2 - cpOffset) * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .2 * h, (.8 + cpOffset) * w, 0, w, (.2 - cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .8 * w, h, w, (.8 + cpOffset) * h, (.8 + cpOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .8 * h, (.2 - cpOffset) * w, h, 0, (.8 + cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .2 * h));\n  var fig2 = new go.PathFigure(0, param1 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, param1 * h)); //??? geo.spot1 = new go.Spot(0, param1);\n  //??? geo.spot2 = new go.Spot(1, 1 - param1);\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"DividedProcess\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1) || param1 < .1) param1 = .1; // Minimum\n\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  var fig2 = new go.PathFigure(0, param1 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, param1 * h)); //??? geo.spot1 = new go.Spot(0, param1);\n  //??? geo.spot2 = go.Spot.BottomRight;\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Document\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  h = h / .8;\n  var fig = new go.PathFigure(0, .7 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .7 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .7 * h, .5 * w, .4 * h, .5 * w, h).close());\n  geo.spot1 = go.Spot.TopLeft;\n  geo.spot2 = new go.Spot(1, .6);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"ExternalOrganization\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1) || param1 < .2) param1 = .2; // Minimum\n\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig); // Body\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  var fig2 = new go.PathFigure(param1 * w, 0, false);\n  geo.add(fig2); // Top left triangle\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, param1 * h)); // Top right triangle\n\n  fig2.add(new go.PathSegment(go.PathSegment.Move, w, param1 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - param1) * w, 0)); // Bottom left triangle\n\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, (1 - param1) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, param1 * w, h)); // Bottom right triangle\n\n  fig2.add(new go.PathSegment(go.PathSegment.Move, (1 - param1) * w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, (1 - param1) * h)); //??? geo.spot1 = new go.Spot(param1 / 2, param1 / 2);\n  //??? geo.spot2 = new go.Spot(1 - param1 / 2, 1 - param1 / 2);\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"ExternalProcess\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.5 * w, 0, true);\n  geo.add(fig); // Body\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h).close());\n  var fig2 = new go.PathFigure(.1 * w, .4 * h, false);\n  geo.add(fig2); // Top left triangle\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .1 * w, .6 * h)); // Top right triangle\n\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .9 * w, .6 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .4 * h)); // Bottom left triangle\n\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .6 * w, .1 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .4 * w, .1 * h)); // Bottom right triangle\n\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .4 * w, .9 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .6 * w, .9 * h));\n  geo.spot1 = new go.Spot(.25, .25);\n  geo.spot2 = new go.Spot(.75, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"File\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true); // starting point\n\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .25 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  var fig2 = new go.PathFigure(.75 * w, 0, false);\n  geo.add(fig2); // The Fold\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .75 * w, .25 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, .25 * h));\n  geo.spot1 = new go.Spot(0, .25);\n  geo.spot2 = go.Spot.BottomRight;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Interrupt\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, .5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  var fig2 = new go.PathFigure(w, .5 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  var fig3 = new go.PathFigure(w, .5 * h, false);\n  geo.add(fig3);\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  geo.spot1 = new go.Spot(0, .25);\n  geo.spot2 = new go.Spot(.5, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"InternalStorage\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN;\n  var param2 = shape ? shape.parameter2 : NaN;\n  if (isNaN(param1)) param1 = .1; // Distance from left\n\n  if (isNaN(param2)) param2 = .1; // Distance from top\n\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig); // The main body\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  var fig2 = new go.PathFigure(param1 * w, 0, false);\n  geo.add(fig2); // Two lines\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, param1 * w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, param2 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, param2 * h)); //??? geo.spot1 = new go.Spot(param1, param2);\n  //??? geo.spot2 = go.Spot.BottomRight;\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Junction\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var dist = 1 / Math.SQRT2;\n  var small = (1 - 1 / Math.SQRT2) / 2;\n  var cpOffset = KAPPA * .5;\n  var radius = .5;\n  var fig = new go.PathFigure(w, radius * h, true);\n  geo.add(fig); // Circle\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, h, w, (radius + cpOffset) * h, (radius + cpOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, radius * h, (radius - cpOffset) * w, h, 0, (radius + cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, 0, 0, (radius - cpOffset) * h, (radius - cpOffset) * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, radius * h, (radius + cpOffset) * w, 0, w, (radius - cpOffset) * h));\n  var fig2 = new go.PathFigure((small + dist) * w, (small + dist) * h, false);\n  geo.add(fig2); // X\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, small * w, small * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, small * w, (small + dist) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (small + dist) * w, small * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"LinedDocument\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  h = h / .8;\n  var fig = new go.PathFigure(0, .7 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .7 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .7 * h, .5 * w, .4 * h, .5 * w, h).close());\n  var fig2 = new go.PathFigure(.1 * w, 0, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .1 * w, .75 * h));\n  geo.spot1 = new go.Spot(.1, 0);\n  geo.spot2 = new go.Spot(1, .6);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"LoopLimit\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .25 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .25 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .25 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h).close());\n  geo.spot1 = new go.Spot(0, .25);\n  geo.spot2 = go.Spot.BottomRight;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"MagneticTape\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpOffset = KAPPA * .5;\n  var radius = .5;\n  var fig = new go.PathFigure(.5 * w, h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, radius * h, (radius - cpOffset) * w, h, 0, (radius + cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, 0, 0, (radius - cpOffset) * h, (radius - cpOffset) * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, radius * h, (radius + cpOffset) * w, 0, w, (radius - cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (radius + .1) * w, .9 * h, w, (radius + cpOffset) * h, (radius + cpOffset) * w, .9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\n  geo.spot1 = new go.Spot(.15, .15);\n  geo.spot2 = new go.Spot(.85, .8);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"ManualInput\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .25 * h).close());\n  geo.spot1 = new go.Spot(0, .25);\n  geo.spot2 = go.Spot.BottomRight;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"MessageFromUser\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1)) param1 = .7; // How far from the right the point is\n\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  geo.spot1 = go.Spot.TopLeft; //??? geo.spot2 = new go.Spot(param1, 1);\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"MicroformProcessing\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1)) param1 = .25; // How far from the top/bottom the points are\n\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, param1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, (1 - param1) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close()); //??? geo.spot1 = new go.Spot(0, param1);\n  //??? geo.spot2 = new go.Spot(1, 1 - param1);\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"MicroformRecording\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, .25 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .15 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .85 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, .75 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  geo.spot1 = new go.Spot(0, .25);\n  geo.spot2 = new go.Spot(1, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"MultiDocument\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  h = h / .8;\n  var fig = new go.PathFigure(w, 0, true);\n  geo.add(fig); // Outline\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .9 * w, .44 * h, .96 * w, .47 * h, .93 * w, .45 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .8 * w, .54 * h, .86 * w, .57 * h, .83 * w, .55 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .7 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .7 * h, .4 * w, .4 * h, .4 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .2 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, .2 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, .1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, 0).close());\n  var fig2 = new go.PathFigure(.1 * w, .2 * h, false);\n  geo.add(fig2); // Inside lines\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .2 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .54 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .2 * w, .1 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .1 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .44 * h));\n  geo.spot1 = new go.Spot(0, .25);\n  geo.spot2 = new go.Spot(.8, .77);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"MultiProcess\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.1 * w, .1 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .2 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, .2 * h).close());\n  var fig2 = new go.PathFigure(.2 * w, .1 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .1 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .8 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .1 * w, .2 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .2 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .9 * h));\n  geo.spot1 = new go.Spot(0, .2);\n  geo.spot2 = new go.Spot(.8, 1);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"OfflineStorage\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1)) param1 = .1; // Distance between 2 top lines\n\n  var l = 1 - param1; // Length of the top line\n\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h).close());\n  var fig2 = new go.PathFigure(.5 * param1 * w, param1 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - .5 * param1) * w, param1 * h)); //??? geo.spot1 = new go.Spot(l / 4 + .5 * param1, param1);\n  //??? geo.spot2 = new go.Spot(3 * l / 4 + .5 * param1, param1 + .5 * l);\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"OffPageConnector\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  geo.spot1 = go.Spot.TopLeft;\n  geo.spot2 = new go.Spot(.75, 1);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Or\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpOffset = KAPPA * .5;\n  var radius = .5;\n  var fig = new go.PathFigure(w, radius * h, true);\n  geo.add(fig); // Circle\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, h, w, (radius + cpOffset) * h, (radius + cpOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, radius * h, (radius - cpOffset) * w, h, 0, (radius + cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, 0, 0, (radius - cpOffset) * h, (radius - cpOffset) * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, radius * h, (radius + cpOffset) * w, 0, w, (radius - cpOffset) * h));\n  var fig2 = new go.PathFigure(w, .5 * h, false);\n  geo.add(fig2); // +\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .5 * w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"PaperTape\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  h = h / .8;\n  var fig = new go.PathFigure(0, .7 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .3 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .3 * h, .5 * w, .6 * h, .5 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .7 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .7 * h, .5 * w, .4 * h, .5 * w, h).close());\n  geo.spot1 = new go.Spot(0, .49);\n  geo.spot2 = new go.Spot(1, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"PrimitiveFromCall\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN;\n  var param2 = shape ? shape.parameter2 : NaN;\n  if (isNaN(param1)) param1 = .1; // Distance of left line from left\n\n  if (isNaN(param2)) param2 = .3; // Distance of point from right\n\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, (1 - param2) * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close()); //??? geo.spot1 = new go.Spot(param1, 0);\n  //??? geo.spot2 = new go.Spot(1 - param2, 1);\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"PrimitiveToCall\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN;\n  var param2 = shape ? shape.parameter2 : NaN;\n  if (isNaN(param1)) param1 = .1; // Distance of left line from left\n\n  if (isNaN(param2)) param2 = .3; // Distance of top and bottom right corners from right\n\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, (1 - param2) * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, (1 - param2) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close()); //??? geo.spot1 = new go.Spot(param1, 0);\n  //??? geo.spot2 = new go.Spot(1 - param2, 1);\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Procedure\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN; // Distance of left  and right lines from edge\n\n  if (isNaN(param1)) param1 = .1;\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  var fig2 = new go.PathFigure((1 - param1) * w, 0, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - param1) * w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, param1 * w, 0));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, param1 * w, h)); //??? geo.spot1 = new go.Spot(param1, 0);\n  //??? geo.spot2 = new go.Spot(1 - param1, 1);\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Process\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1)) param1 = .1; // Distance of left  line from left edge\n\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  var fig2 = new go.PathFigure(param1 * w, 0, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, param1 * w, h)); //??? geo.spot1 = new go.Spot(param1, 0);\n\n  geo.spot2 = go.Spot.BottomRight;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Sort\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.5 * w, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h).close());\n  var fig2 = new go.PathFigure(0, .5 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  geo.spot1 = new go.Spot(.25, .25);\n  geo.spot2 = new go.Spot(.75, .5);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Start\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1)) param1 = 0.25;\n  var fig = new go.PathFigure(param1 * w, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 270, 180, .75 * w, 0.5 * h, .25 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 90, 180, .25 * w, 0.5 * h, .25 * w, .5 * h));\n  var fig2 = new go.PathFigure(param1 * w, 0, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, param1 * w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, (1 - param1) * w, 0));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - param1) * w, h));\n  geo.spot1 = new go.Spot(param1, 0);\n  geo.spot2 = new go.Spot(1 - param1, 1);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Terminator\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.25 * w, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 270, 180, .75 * w, 0.5 * h, .25 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 90, 180, .25 * w, 0.5 * h, .25 * w, .5 * h));\n  geo.spot1 = new go.Spot(.23, 0);\n  geo.spot2 = new go.Spot(.77, 1);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"TransmittalTape\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1)) param1 = .1; // Bottom line's distance from the point on the triangle\n\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, (1 - param1) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, (1 - param1) * h).close());\n  geo.spot1 = go.Spot.TopLeft; //??? geo.spot2 = new go.Spot(1, 1 - param1);\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"AndGate\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpOffset = KAPPA * .5;\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig); // The gate body\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, (.5 + cpOffset) * w, 0, w, (.5 - cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h, w, (.5 + cpOffset) * h, (.5 + cpOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  geo.spot1 = go.Spot.TopLeft;\n  geo.spot2 = new go.Spot(.55, 1);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Buffer\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  geo.spot1 = new go.Spot(0, .25);\n  geo.spot2 = new go.Spot(.5, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Clock\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpOffset = KAPPA * .5;\n  var radius = .5;\n  var fig = new go.PathFigure(w, radius * h, true);\n  geo.add(fig); // Ellipse\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, h, w, (radius + cpOffset) * h, (radius + cpOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, radius * h, (radius - cpOffset) * w, h, 0, (radius + cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, 0, 0, (radius - cpOffset) * h, (radius - cpOffset) * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, radius * h, (radius + cpOffset) * w, 0, w, (radius - cpOffset) * h));\n  var fig2 = new go.PathFigure(w, radius * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, radius * h));\n  var fig3 = new go.PathFigure(.8 * w, .75 * h, false);\n  geo.add(fig3); // Inside clock\n  // This first line solves a GDI+ graphical error with\n  // more complex gradient brushes\n\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .25 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .6 * w, .25 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .6 * w, .75 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .4 * w, .75 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .4 * w, .25 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .25 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .75 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Ground\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.5 * w, 0, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .4 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, .2 * w, .6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, .3 * w, .8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, .8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, .4 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .6 * w, h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Inverter\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpOffset = KAPPA * .1;\n  var radius = .1;\n  var centerx = .9;\n  var centery = .5;\n  var fig = new go.PathFigure(.8 * w, .5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .5 * h));\n  var fig2 = new go.PathFigure((centerx + radius) * w, centery * h, true);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  geo.spot1 = new go.Spot(0, .25);\n  geo.spot2 = new go.Spot(.4, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"NandGate\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpxOffset = KAPPA * .5;\n  var cpyOffset = KAPPA * .4;\n  var cpOffset = KAPPA * .1;\n  var radius = .1;\n  var centerx = .9;\n  var centery = .5;\n  var fig = new go.PathFigure(.8 * w, .5 * h, true);\n  geo.add(fig); // The gate body\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .4 * w, h, .8 * w, (.5 + cpyOffset) * h, (.4 + cpxOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .4 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .8 * w, .5 * h, (.4 + cpxOffset) * w, 0, .8 * w, (.5 - cpyOffset) * h));\n  var fig2 = new go.PathFigure((centerx + radius) * w, centery * h, true);\n  geo.add(fig2); // Inversion\n\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  geo.spot1 = new go.Spot(0, .05);\n  geo.spot2 = new go.Spot(.55, .95);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"NorGate\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var radius = .5;\n  var cpOffset = KAPPA * radius;\n  var centerx = 0;\n  var centery = .5;\n  var fig = new go.PathFigure(.8 * w, .5 * h, true);\n  geo.add(fig); // Normal\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h, .7 * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0, .25 * w, .75 * h, .25 * w, .25 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .8 * w, .5 * h, (centerx + cpOffset) * w, (centery - radius) * h, .7 * w, (centery - cpOffset) * h));\n  radius = .1;\n  cpOffset = KAPPA * .1;\n  centerx = .9;\n  centery = .5;\n  var fig2 = new go.PathFigure((centerx - radius) * w, centery * h, true);\n  geo.add(fig2); // Inversion\n\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h));\n  geo.spot1 = new go.Spot(.2, .25);\n  geo.spot2 = new go.Spot(.6, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"OrGate\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var radius = .5;\n  var cpOffset = KAPPA * radius;\n  var centerx = 0;\n  var centery = .5;\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, (centerx + cpOffset + cpOffset) * w, (centery - radius) * h, .8 * w, (centery - cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h, .8 * w, (centery + cpOffset) * h, (centerx + cpOffset + cpOffset) * w, (centery + radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0, .25 * w, .75 * h, .25 * w, .25 * h).close());\n  geo.spot1 = new go.Spot(.2, .25);\n  geo.spot2 = new go.Spot(.75, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"XnorGate\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var radius = .5;\n  var cpOffset = KAPPA * radius;\n  var centerx = .2;\n  var centery = .5;\n  var fig = new go.PathFigure(.1 * w, 0, false);\n  geo.add(fig); // Normal\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .1 * w, h, .35 * w, .25 * h, .35 * w, .75 * h));\n  var fig2 = new go.PathFigure(.8 * w, .5 * h, true);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .2 * w, h, .7 * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .2 * w, 0, .45 * w, .75 * h, .45 * w, .25 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .8 * w, .5 * h, (centerx + cpOffset) * w, (centery - radius) * h, .7 * w, (centery - cpOffset) * h));\n  radius = .1;\n  cpOffset = KAPPA * .1;\n  centerx = .9;\n  centery = .5;\n  var fig3 = new go.PathFigure((centerx - radius) * w, centery * h, true);\n  geo.add(fig3); // Inversion\n\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h));\n  geo.spot1 = new go.Spot(.4, .25);\n  geo.spot2 = new go.Spot(.65, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"XorGate\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var radius = .5;\n  var cpOffset = KAPPA * radius;\n  var centerx = .2;\n  var centery = .5;\n  var fig = new go.PathFigure(.1 * w, 0, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .1 * w, h, .35 * w, .25 * h, .35 * w, .75 * h));\n  var fig2 = new go.PathFigure(.2 * w, 0, true);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, (centerx + cpOffset) * w, (centery - radius) * h, .9 * w, (centery - cpOffset) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .2 * w, h, .9 * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .2 * w, 0, .45 * w, .75 * h, .45 * w, .25 * h).close());\n  geo.spot1 = new go.Spot(.4, .25);\n  geo.spot2 = new go.Spot(.8, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Capacitor\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, false);\n  geo.add(fig); // Two vertical lines\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Resistor\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, .5 * h, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .4 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .6 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, .5 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Inductor\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpOffset = KAPPA * .1;\n  var radius = .1;\n  var centerx = .1;\n  var centery = .5; // Up\n\n  var fig = new go.PathFigure((centerx - cpOffset * .5) * w, h, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, 0, (centerx - cpOffset) * w, h, (centerx - radius) * w, 0)); // Down up\n\n  centerx = .3;\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, h, (centerx + radius) * w, 0, (centerx + cpOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, 0, (centerx - cpOffset) * w, h, (centerx - radius) * w, 0)); // Down up\n\n  centerx = .5;\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, h, (centerx + radius) * w, 0, (centerx + cpOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, 0, (centerx - cpOffset) * w, h, (centerx - radius) * w, 0)); // Down up\n\n  centerx = .7;\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, h, (centerx + radius) * w, 0, (centerx + cpOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, 0, (centerx - cpOffset) * w, h, (centerx - radius) * w, 0)); // Down up\n\n  centerx = .9;\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + cpOffset * .5) * w, h, (centerx + radius) * w, 0, (centerx + cpOffset) * w, h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"ACvoltageSource\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpOffset = KAPPA * .5;\n  var radius = .5;\n  var centerx = .5;\n  var centery = .5;\n  var fig = new go.PathFigure((centerx - radius) * w, centery * h, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, (centerx - radius + .1) * w, centery * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius - .1) * w, centery * h, centerx * w, (centery - radius) * h, centerx * w, (centery + radius) * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"DCvoltageSource\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, .75 * h, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .25 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Diode\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, 0, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  geo.spot1 = new go.Spot(0, .25);\n  geo.spot2 = new go.Spot(.5, .75);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Wifi\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var origw = w;\n  var origh = h;\n  w = w * .38;\n  h = h * .6;\n  var cpOffset = KAPPA * .8;\n  var radius = .8;\n  var centerx = 0;\n  var centery = .5;\n  var xOffset = (origw - w) / 2;\n  var yOffset = (origh - h) / 2;\n  var fig = new go.PathFigure(centerx * w + xOffset, (centery + radius) * h + yOffset, true);\n  geo.add(fig); // Left curves\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w + xOffset, centery * h + yOffset, (centerx - cpOffset) * w + xOffset, (centery + radius) * h + yOffset, (centerx - radius) * w + xOffset, (centery + cpOffset) * h + yOffset));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset, (centery - radius) * h + yOffset, (centerx - radius) * w + xOffset, (centery - cpOffset) * h + yOffset, (centerx - cpOffset) * w + xOffset, (centery - radius) * h + yOffset));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius + cpOffset * .5) * w + xOffset, centery * h + yOffset, centerx * w + xOffset, (centery - radius) * h + yOffset, (centerx - radius + cpOffset * .5) * w + xOffset, (centery - cpOffset) * h + yOffset));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset, (centery + radius) * h + yOffset, (centerx - radius + cpOffset * .5) * w + xOffset, (centery + cpOffset) * h + yOffset, centerx * w + xOffset, (centery + radius) * h + yOffset).close());\n  cpOffset = KAPPA * .4;\n  radius = .4;\n  centerx = .2;\n  centery = .5;\n  var fig2 = new go.PathFigure(centerx * w + xOffset, (centery + radius) * h + yOffset, true);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w + xOffset, centery * h + yOffset, (centerx - cpOffset) * w + xOffset, (centery + radius) * h + yOffset, (centerx - radius) * w + xOffset, (centery + cpOffset) * h + yOffset));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset, (centery - radius) * h + yOffset, (centerx - radius) * w + xOffset, (centery - cpOffset) * h + yOffset, (centerx - cpOffset) * w + xOffset, (centery - radius) * h + yOffset));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius + cpOffset * .5) * w + xOffset, centery * h + yOffset, centerx * w + xOffset, (centery - radius) * h + yOffset, (centerx - radius + cpOffset * .5) * w + xOffset, (centery - cpOffset) * h + yOffset));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset, (centery + radius) * h + yOffset, (centerx - radius + cpOffset * .5) * w + xOffset, (centery + cpOffset) * h + yOffset, centerx * w + xOffset, (centery + radius) * h + yOffset).close());\n  cpOffset = KAPPA * .2;\n  radius = .2;\n  centerx = .5;\n  centery = .5;\n  var fig3 = new go.PathFigure((centerx - radius) * w + xOffset, centery * h + yOffset, true);\n  geo.add(fig3); // Center circle\n\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset, (centery - radius) * h + yOffset, (centerx - radius) * w + xOffset, (centery - cpOffset) * h + yOffset, (centerx - cpOffset) * w + xOffset, (centery - radius) * h + yOffset));\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w + xOffset, centery * h + yOffset, (centerx + cpOffset) * w + xOffset, (centery - radius) * h + yOffset, (centerx + radius) * w + xOffset, (centery - cpOffset) * h + yOffset));\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset, (centery + radius) * h + yOffset, (centerx + radius) * w + xOffset, (centery + cpOffset) * h + yOffset, (centerx + cpOffset) * w + xOffset, (centery + radius) * h + yOffset));\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w + xOffset, centery * h + yOffset, (centerx - cpOffset) * w + xOffset, (centery + radius) * h + yOffset, (centerx - radius) * w + xOffset, (centery + cpOffset) * h + yOffset));\n  cpOffset = KAPPA * .4;\n  radius = .4;\n  centerx = .8;\n  centery = .5;\n  var fig4 = new go.PathFigure(centerx * w + xOffset, (centery - radius) * h + yOffset, true);\n  geo.add(fig4); // Right curves\n\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w + xOffset, centery * h + yOffset, (centerx + cpOffset) * w + xOffset, (centery - radius) * h + yOffset, (centerx + radius) * w + xOffset, (centery - cpOffset) * h + yOffset));\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset, (centery + radius) * h + yOffset, (centerx + radius) * w + xOffset, (centery + cpOffset) * h + yOffset, (centerx + cpOffset) * w + xOffset, (centery + radius) * h + yOffset));\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius - cpOffset * .5) * w + xOffset, centery * h + yOffset, centerx * w + xOffset, (centery + radius) * h + yOffset, (centerx + radius - cpOffset * .5) * w + xOffset, (centery + cpOffset) * h + yOffset));\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset, (centery - radius) * h + yOffset, (centerx + radius - cpOffset * .5) * w + xOffset, (centery - cpOffset) * h + yOffset, centerx * w + xOffset, (centery - radius) * h + yOffset).close());\n  cpOffset = KAPPA * .8;\n  radius = .8;\n  centerx = 1;\n  centery = .5;\n  var fig5 = new go.PathFigure(centerx * w + xOffset, (centery - radius) * h + yOffset, true);\n  geo.add(fig5);\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w + xOffset, centery * h + yOffset, (centerx + cpOffset) * w + xOffset, (centery - radius) * h + yOffset, (centerx + radius) * w + xOffset, (centery - cpOffset) * h + yOffset));\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset, (centery + radius) * h + yOffset, (centerx + radius) * w + xOffset, (centery + cpOffset) * h + yOffset, (centerx + cpOffset) * w + xOffset, (centery + radius) * h + yOffset));\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius - cpOffset * .5) * w + xOffset, centery * h + yOffset, centerx * w + xOffset, (centery + radius) * h + yOffset, (centerx + radius - cpOffset * .5) * w + xOffset, (centery + cpOffset) * h + yOffset));\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset, (centery - radius) * h + yOffset, (centerx + radius - cpOffset * .5) * w + xOffset, (centery - cpOffset) * h + yOffset, centerx * w + xOffset, (centery - radius) * h + yOffset).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Email\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0).close());\n  var fig2 = new go.PathFigure(0, 0, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .6 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .45 * w, .54 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .55 * w, .54 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Ethernet\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.35 * w, 0, true);\n  geo.add(fig); // Boxes above the wire\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, .65 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .65 * w, .4 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .35 * w, .4 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .35 * w, 0).close());\n  var fig2 = new go.PathFigure(.10 * w, h, true, true);\n  geo.add(fig2); // Boxes under the wire\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .40 * w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .40 * w, .6 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .10 * w, .6 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .10 * w, h).close());\n  var fig3 = new go.PathFigure(.60 * w, h, true, true);\n  geo.add(fig3);\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .90 * w, h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .90 * w, .6 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .60 * w, .6 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .60 * w, h).close());\n  var fig4 = new go.PathFigure(0, .5 * h, false);\n  geo.add(fig4); // Wire\n\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Move, .5 * w, .5 * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .4 * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Move, .75 * w, .5 * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .75 * w, .6 * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Move, .25 * w, .5 * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .25 * w, .6 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Power\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var cpOffset = KAPPA * .4;\n  var radius = .4;\n  var centerx = .5;\n  var centery = .5;\n  var unused = tempPoint();\n  var mid = tempPoint();\n  var c1 = tempPoint();\n  var c2 = tempPoint(); // Find the 45 degree midpoint for the first bezier\n\n  breakUpBezier(centerx, centery - radius, centerx + cpOffset, centery - radius, centerx + radius, centery - cpOffset, centerx + radius, centery, .5, unused, unused, mid, c1, c2);\n  var start = tempPointAt(mid.x, mid.y);\n  var fig = new go.PathFigure(mid.x * w, mid.y * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, c1.x * w, c1.y * h, c2.x * w, c2.y * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h)); // Find the 45 degree midpoint of for the fourth bezier\n\n  breakUpBezier(centerx - radius, centery, centerx - radius, centery - cpOffset, centerx - cpOffset, centery - radius, centerx, centery - radius, .5, c1, c2, mid, unused, unused);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, mid.x * w, mid.y * h, c1.x * w, c1.y * h, c2.x * w, c2.y * h)); // now make a smaller circle\n\n  cpOffset = KAPPA * .3;\n  radius = .3; // Find the 45 degree midpoint for the first bezier\n\n  breakUpBezier(centerx - radius, centery, centerx - radius, centery - cpOffset, centerx - cpOffset, centery - radius, centerx, centery - radius, .5, c1, c2, mid, unused, unused);\n  fig.add(new go.PathSegment(go.PathSegment.Line, mid.x * w, mid.y * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, c2.x * w, c2.y * h, c1.x * w, c1.y * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h, (centerx - cpOffset) * w, (centery + radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h)); // Find the 45 degree midpoint for the fourth bezier\n\n  breakUpBezier(centerx, centery - radius, centerx + cpOffset, centery - radius, centerx + radius, centery - cpOffset, centerx + radius, centery, .5, unused, unused, mid, c1, c2);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, mid.x * w, mid.y * h, c2.x * w, c2.y * h, c1.x * w, c1.y * h).close());\n  var fig = new go.PathFigure(.45 * w, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .45 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .55 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .55 * w, 0).close());\n  freePoint(unused);\n  freePoint(mid);\n  freePoint(c1);\n  freePoint(c2);\n  freePoint(start);\n  geo.spot1 = new go.Spot(.25, .45);\n  geo.spot2 = new go.Spot(.75, .8);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Fallout\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, h / 2, true);\n  geo.add(fig); // Containing circle\n\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 180, 360, w / 2, h / 2, w / 2, h / 2));\n\n  function drawTriangle(fig, offsetx, offsety) {\n    fig.add(new go.PathSegment(go.PathSegment.Move, (.3 + offsetx) * w, (.8 + offsety) * h));\n    fig.add(new go.PathSegment(go.PathSegment.Line, (.5 + offsetx) * w, (.5 + offsety) * h));\n    fig.add(new go.PathSegment(go.PathSegment.Line, (.1 + offsetx) * w, (.5 + offsety) * h));\n    fig.add(new go.PathSegment(go.PathSegment.Line, (.3 + offsetx) * w, (.8 + offsety) * h).close());\n  } // Triangles\n\n\n  drawTriangle(fig, 0, 0);\n  drawTriangle(fig, 0.4, 0);\n  drawTriangle(fig, 0.2, -0.3);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"IrritationHazard\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.2 * w, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .3 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .2 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .7 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .2 * h).close());\n  geo.spot1 = new go.Spot(.3, .3);\n  geo.spot2 = new go.Spot(.7, .7);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"ElectricalHazard\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.37 * w, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .11 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .77 * w, .04 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .33 * w, .49 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .37 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .63 * w, .86 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .77 * w, .91 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .34 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .34 * w, .78 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .44 * w, .8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .65 * w, .56 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .68 * h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"FireHazard\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.1 * w, h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .29 * w, 0, -.25 * w, .63 * h, .45 * w, .44 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .51 * w, .42 * h, .48 * w, .17 * h, .54 * w, .35 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .59 * w, .18 * h, .59 * w, .29 * h, .58 * w, .28 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .75 * w, .6 * h, .8 * w, .34 * h, .88 * w, .43 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .88 * w, .31 * h, .87 * w, .48 * h, .88 * w, .43 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .9 * w, h, 1.17 * w, .76 * h, .82 * w, .8 * h).close());\n  geo.spot1 = new go.Spot(.07, .445);\n  geo.spot2 = new go.Spot(.884, .958);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"BpmnActivityLoop\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var r = .5;\n  var cx = 0; // offset from Center x\n\n  var cy = 0; // offset from Center y\n\n  var d = r * KAPPA;\n  var mx1 = .4 * Math.SQRT2 / 2 + .5;\n  var my1 = .5 - .5 * Math.SQRT2 / 2;\n  var x1 = 1;\n  var y1 = .5;\n  var x2 = .5;\n  var y2 = 0;\n  var fig = new go.PathFigure(mx1 * w, (1 - my1) * h, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, x1 * w, y1 * h, x1 * w, .7 * h, x1 * w, y1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (x2 + cx) * w, (y2 + cx) * h, (.5 + r + cx) * w, (.5 - d + cx) * h, (.5 + d + cx) * w, (.5 - r + cx) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 - r + cx) * w, (.5 + cy) * h, (.5 - d + cx) * w, (.5 - r + cy) * h, (.5 - r + cx) * w, (.5 - d + cy) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.35 + cx) * w, .9 * h, (.5 - r + cx) * w, (.5 + d + cy) * h, (.5 - d + cx) * w, .9 * h)); // Arrowhead\n\n  fig.add(new go.PathSegment(go.PathSegment.Move, (.25 + cx) * w, 0.8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, (.35 + cx) * w, 0.9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, (.20 + cx) * w, 0.95 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"BpmnActivityParallel\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, .5 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"BpmnActivitySequential\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"BpmnActivityAdHoc\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, false);\n  geo.add(fig);\n  var fig2 = new go.PathFigure(w, h, false);\n  geo.add(fig2);\n  var fig3 = new go.PathFigure(0, .5 * h, false);\n  geo.add(fig3);\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .5 * h, .2 * w, .35 * h, .3 * w, .35 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, .7 * w, .65 * h, .8 * w, .65 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"BpmnActivityCompensation\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, .5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"BpmnTaskMessage\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, .2 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .2 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .8 * h).close());\n  var fig = new go.PathFigure(0, .2 * h, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .2 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"BpmnTaskScript\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.7 * w, h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.3 * w, 0, .6 * w, .5 * h, 0, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .7 * w, h, .4 * w, .5 * h, w, .5 * h).close());\n  var fig2 = new go.PathFigure(.45 * w, .73 * h, false);\n  geo.add(fig2); // Lines on script\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .7 * w, .73 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .38 * w, .5 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .63 * w, .5 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .31 * w, .27 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .56 * w, .27 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"BpmnTaskUser\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, false);\n  geo.add(fig);\n  var fig2 = new go.PathFigure(.335 * w, (1 - .555) * h, true);\n  geo.add(fig2); // Shirt\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .335 * w, (1 - .405) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - .335) * w, (1 - .405) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - .335) * w, (1 - .555) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w, .68 * h, (1 - .12) * w, .46 * h, (1 - .02) * w, .54 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, .68 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .335 * w, (1 - .555) * h, .02 * w, .54 * h, .12 * w, .46 * h)); // Start of neck\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .365 * w, (1 - .595) * h));\n  var radiushead = .5 - .285;\n  var centerx = .5;\n  var centery = radiushead;\n  var alpha2 = Math.PI / 4;\n  var KAPPA = 4 * (1 - Math.cos(alpha2)) / (3 * Math.sin(alpha2));\n  var cpOffset = KAPPA * .5;\n  var radiusw = radiushead;\n  var radiush = radiushead;\n  var offsetw = KAPPA * radiusw;\n  var offseth = KAPPA * radiush; // Circle (head)\n\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radiusw) * w, centery * h, (centerx - (offsetw + radiusw) / 2) * w, (centery + (radiush + offseth) / 2) * h, (centerx - radiusw) * w, (centery + offseth) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radiush) * h, (centerx - radiusw) * w, (centery - offseth) * h, (centerx - offsetw) * w, (centery - radiush) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radiusw) * w, centery * h, (centerx + offsetw) * w, (centery - radiush) * h, (centerx + radiusw) * w, (centery - offseth) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (1 - .365) * w, (1 - .595) * h, (centerx + radiusw) * w, (centery + offseth) * h, (centerx + (offsetw + radiusw) / 2) * w, (centery + (radiush + offseth) / 2) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - .365) * w, (1 - .595) * h)); // Neckline\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - .335) * w, (1 - .555) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - .335) * w, (1 - .405) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .335 * w, (1 - .405) * h));\n  var fig3 = new go.PathFigure(.2 * w, h, false);\n  geo.add(fig3); // Arm lines\n\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .8 * h));\n  var fig4 = new go.PathFigure(.8 * w, h, false);\n  geo.add(fig4);\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .8 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"BpmnEventConditional\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(.1 * w, 0, true);\n  geo.add(fig); // Body\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, h).close());\n  var fig2 = new go.PathFigure(.2 * w, .2 * h, false);\n  geo.add(fig2); // Inside lines\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .2 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .2 * w, .4 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .4 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .2 * w, .6 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .6 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .2 * w, .8 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .8 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"BpmnEventError\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, .33 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .66 * w, .50 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .66 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .33 * w, .50 * h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"BpmnEventEscalation\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, false);\n  geo.add(fig); // Set dimensions\n\n  var fig2 = new go.PathFigure(w, h, false);\n  geo.add(fig2);\n  var fig3 = new go.PathFigure(.1 * w, h, true);\n  geo.add(fig3);\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .9 * w, h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Caution\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0.05 * w, h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.1 * w, .8 * h, 0, h, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, .1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.55 * w, .1 * h, 0.5 * w, 0, 0.5 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.95 * w, 0.9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.9 * w, h, w, h, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.05 * w, h));\n  var radius = 0.05; // Bottom circle of exclamation point\n\n  fig.add(new go.PathSegment(go.PathSegment.Move, (0.5 - radius) * w, 0.875 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 180, -360, 0.5 * w, 0.875 * h, radius * w, radius * h)); // Upper rectangle of exclamation point\n\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.75 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.325 * h, 0.575 * w, 0.725 * h, 0.625 * w, 0.375 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.75 * h, 0.375 * w, 0.375 * h, 0.425 * w, 0.725 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Recycle\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0.45 * w, 0.95 * h, false);\n  geo.add(fig); // Bottom left arrow\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, 0.95 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.185 * w, 0.85 * h, 0.17 * w, 0.95 * h, 0.15 * w, 0.9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.235 * w, 0.75 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.30 * w, 0.625 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.35 * w, 0.65 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.275 * w, 0.45 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.05 * w, 0.45 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.05 * w, 0.575 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.1875 * w, 0.95 * h, 0, 0.675 * h, 0, 0.7 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.45 * w, 0.95 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.775 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.22 * w, 0.775 * h));\n  var fig2 = new go.PathFigure(0.475 * w, 0.2 * h, false);\n  geo.add(fig2); // Top arrow\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0.4 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.225 * w, 0.3 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.275 * w, 0.175 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.325 * w, 0.05 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0.4 * w, 0.05 * h, 0.35 * w, 0, 0.375 * w, 0));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.575 * w, 0.375 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.525 * w, 0.4 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, 0.475 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.85 * w, 0.315 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.32 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, 0.05 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0.575 * w, 0, 0.65 * w, 0.05 * h, 0.625 * w, 0));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.38 * w, 0.0105 * h));\n  var fig3 = new go.PathFigure(0.675 * w, 0.575 * h, false);\n  geo.add(fig3); // Bottom right arrow\n\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.875 * w, 0.525 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w, 0.775 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, 0.85 * w, 0.95 * h, w, 0.8 * h, w, 0.85 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, 0.95 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, 0.85 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, 0.725 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, 0.775 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.7 * w, 0.775 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w, 0.775 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Move, 0.675 * w, 0.575 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.775 * w, 0.775 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"BpmnEventTimer\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var radius = .5;\n  var cpOffset = KAPPA * .5;\n  var fig = new go.PathFigure(w, radius * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, h, w, (radius + cpOffset) * h, (radius + cpOffset) * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, radius * h, (radius - cpOffset) * w, h, 0, (radius + cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, 0, 0, (radius - cpOffset) * h, (radius - cpOffset) * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, radius * h, (radius + cpOffset) * w, 0, w, (radius - cpOffset) * h));\n  var fig2 = new go.PathFigure(radius * w, 0, false);\n  geo.add(fig2); // Hour lines\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, radius * w, .15 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, radius * w, h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, radius * w, .85 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, radius * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .15 * w, radius * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, w, radius * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .85 * w, radius * h)); // Clock hands\n\n  fig2.add(new go.PathSegment(go.PathSegment.Move, radius * w, radius * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .58 * w, 0.1 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Move, radius * w, radius * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .78 * w, .54 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Package\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0.15 * h, true);\n  geo.add(fig); // Package bottom rectangle\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.15 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  var fig2 = new go.PathFigure(0, 0.15 * h, true);\n  geo.add(fig2); // Package top flap\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, 0.15 * h).close());\n  geo.spot1 = new go.Spot(0, 0.1);\n  geo.spot2 = new go.Spot(1, 1);\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Class\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig); // Class box\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0).close());\n  var fig2 = new go.PathFigure(0, 0.2 * h, false);\n  geo.add(fig2); // Top box separater\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0.2 * h).close());\n  var fig3 = new go.PathFigure(0, 0.5 * h, false);\n  geo.add(fig3); // Middle box separater\n\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Component\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, h, true);\n  geo.add(fig); // Component Box\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h).close());\n  var fig2 = new go.PathFigure(0, 0.2 * h, true);\n  geo.add(fig2); // Component top sub box\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.2 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.4 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, 0.4 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, 0.2 * h).close());\n  var fig3 = new go.PathFigure(0, 0.6 * h, true);\n  geo.add(fig3); // Component bottom sub box\n\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.6 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.8 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0, 0.8 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0, 0.6 * h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Boat Shipment\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0.15 * w, 0.6 * h, true);\n  geo.add(fig); // Boat shipment flag\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, 0.6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.85 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.85 * w, 0.6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, 0.6 * h));\n  var fig2 = new go.PathFigure(0.15 * w, 0.6 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.85 * w, 0.6 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Customer/Supplier\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.66 * w, 0.33 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.66 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.33 * w, 0.33 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.33 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.33 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Workcell\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, 0.4 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.35 * w, 0.4 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.35 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Supermarket\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.33 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.33 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, w, 0.33 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.66 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.66 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, w, 0.66 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"TruckShipment\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig); // Left rectangle\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0).close());\n  var fig2 = new go.PathFigure(w, 0.8 * h, true);\n  geo.add(fig2); // Right rectangle\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0.4 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.4 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.8 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0.8 * h).close());\n  var radius = .1;\n  var cpOffset = KAPPA * .1;\n  var centerx = .2;\n  var centery = .9;\n  var fig3 = new go.PathFigure((centerx - radius) * w, centery * h, true);\n  geo.add(fig3); // Left wheel\n\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h).close());\n  radius = .1;\n  cpOffset = KAPPA * .1;\n  centerx = .8;\n  centery = .9;\n  var fig4 = new go.PathFigure((centerx - radius) * w, centery * h, true);\n  geo.add(fig4); // Right wheel\n\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"KanbanPost\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0.2 * w, 0, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, .5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Forklift\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  var fig2 = new go.PathFigure(0, 0.5 * h, true);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, 0.8 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.8 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.5 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, 0.5 * h));\n  var fig3 = new go.PathFigure(0.50 * w, 0.8 * h, true);\n  geo.add(fig3);\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.50 * w, 0.1 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, 0.1 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, 0.8 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.50 * w, 0.8 * h));\n  var fig4 = new go.PathFigure(0.5 * w, 0.7 * h, false);\n  geo.add(fig4);\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w, 0.7 * h));\n  var radius = .1;\n  var cpOffset = KAPPA * .1;\n  var centerx = .1;\n  var centery = .9;\n  var fig5 = new go.PathFigure((centerx - radius) * w, centery * h, true);\n  geo.add(fig5);\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h));\n  radius = .1;\n  cpOffset = KAPPA * .1;\n  centerx = .4;\n  centery = .9;\n  var fig6 = new go.PathFigure((centerx - radius) * w, centery * h, true);\n  geo.add(fig6);\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"RailShipment\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0.1 * w, 0.4 * h, true);\n  geo.add(fig); // Left cart\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.4 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0.9 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0.4 * h).close());\n  var fig2 = new go.PathFigure(0.45 * w, 0.7 * h, false);\n  geo.add(fig2); // Line connecting carts\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, 0.7 * h));\n  var fig3 = new go.PathFigure(0.55 * w, 0.4 * h, true);\n  geo.add(fig3); // Right cart\n\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.4 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.9 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, 0.9 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, 0.4 * h).close());\n  var radius = .05;\n  var cpOffset = KAPPA * .05;\n  var centerx = .175;\n  var centery = .95;\n  var fig4 = new go.PathFigure((centerx - radius) * w, centery * h, true);\n  geo.add(fig4); // Wheels\n\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h));\n  var radius = .05;\n  var cpOffset = KAPPA * .05;\n  var centerx = .375;\n  var centery = .95;\n  var fig5 = new go.PathFigure((centerx - radius) * w, centery * h, true);\n  geo.add(fig5);\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h));\n  var radius = .05;\n  var cpOffset = KAPPA * .05;\n  var centerx = .625;\n  var centery = .95;\n  var fig6 = new go.PathFigure((centerx - radius) * w, centery * h, true);\n  geo.add(fig6);\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h));\n  var radius = .05;\n  var cpOffset = KAPPA * .05;\n  var centerx = .825;\n  var centery = .95;\n  var fig7 = new go.PathFigure((centerx - radius) * w, centery * h, true);\n  geo.add(fig7);\n  fig7.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig7.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig7.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig7.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h).close());\n  var fig8 = new go.PathFigure(0, h, false);\n  geo.add(fig8);\n  fig8.add(new go.PathSegment(go.PathSegment.Line, w, h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Warehouse\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0).close());\n  var fig2 = new go.PathFigure(0, 0.2 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0.2 * h).close());\n  var fig3 = new go.PathFigure(0.15 * w, h, true);\n  geo.add(fig3);\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, 0.5 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.40 * w, 0.5 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.40 * w, h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, h).close());\n  var radius = .05;\n  var cpOffset = KAPPA * .05;\n  var centerx = .35;\n  var centery = .775;\n  var fig4 = new go.PathFigure((centerx - radius) * w, centery * h, true);\n  geo.add(fig4); // Door handle\n\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h).close());\n  ;\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"ControlCenter\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0.8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.1 * w, 0.8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.8 * h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Bluetooth\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0.75 * h, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.75 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.25 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.75 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.25 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Bookmark\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.2 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.2 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.4 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.4 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Bookmark\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.2 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.2 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.4 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.4 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Globe\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0.5 * w, 0, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, 0.5 * h, 0.75 * w, 0, w, 0.25 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, h, w, 0.75 * h, 0.75 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0.5 * h, 0.25 * w, h, 0, 0.75 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0, 0, 0.25 * h, 0.25 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, h, 0.15 * w, 0.25 * h, 0.15 * w, 0.75 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0, 0.85 * w, 0.75 * h, 0.85 * w, 0.25 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.1675 * w, 0.15 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.8325 * w, 0.15 * h, 0.35 * w, 0.3 * h, 0.65 * w, 0.3 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.1675 * w, 0.85 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.8325 * w, 0.85 * h, 0.35 * w, 0.7 * h, 0.65 * w, 0.7 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Wave\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0.25 * h, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.3 * w, 0.25 * h, 0.10 * w, 0, 0.2 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.7 * w, 0.25 * h, 0.425 * w, 0.5 * h, 0.575 * w, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, 0.25 * h, 0.8 * w, 0, 0.9 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.75 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0, 0.25 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.75 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.3 * w, 0.75 * h, 0.10 * w, 0.5 * h, 0.2 * w, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.7 * w, 0.75 * h, 0.425 * w, h, 0.575 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, 0.75 * h, 0.8 * w, 0.5 * h, 0.9 * w, 0.5 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Operator\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var radius = .3;\n  var cpOffset = KAPPA * .3;\n  var centerx = .5;\n  var centery = .7;\n  var fig = new go.PathFigure((centerx - radius) * w, centery * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h));\n  var fig2 = new go.PathFigure(0, 0.7 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w, 0.7 * h, 0, 0, w, 0));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"TripleFanBlades\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0.5 * w, 0, true);\n  geo.add(fig); // Top blade\n\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.65 * h, 0.65 * w, 0.3 * h, 0.65 * w, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0, 0.35 * w, 0.5 * h, 0.35 * w, 0.3 * h)); // Bottom left blade\n\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.65 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h, 0.3 * w, 0.6 * h, 0.1 * w, 0.8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.65 * h, 0.2 * w, h, 0.35 * w, 0.95 * h)); // Bottom right blade\n\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.65 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, h, 0.7 * w, 0.6 * h, 0.9 * w, 0.8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.65 * h, 0.8 * w, h, 0.65 * w, 0.95 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"CentrifugalPump\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0.5 * h, 0, 0.075 * h, 0, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.4 * w, h, 0, h, 0.4 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.8 * w, 0.4 * h, 0.8 * w, h, 0.85 * w, 0.6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.4 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Battery\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.4 * w, 0.1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.1 * h));\n  var fig2 = new go.PathFigure(0, 0.6 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, 0.4 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0.4 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Delete\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var radius = .5;\n  var cpOffset = KAPPA * .5;\n  var centerx = .5;\n  var centery = .5;\n  var fig = new go.PathFigure((centerx - radius) * w, centery * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h));\n  var fig2 = new go.PathFigure(0.15 * w, 0.5 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.85 * w, 0.5 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Flag\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0.1 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0, 0.1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.1 * h, 0.15 * w, 0, 0.35 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, 0.1 * h, 0.65 * w, 0.2 * h, 0.85 * w, 0.2 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.5 * h, 0.85 * w, 0.6 * h, 0.65 * w, 0.6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0.5 * h, 0.35 * w, 0.4 * h, 0.15 * w, 0.4 * h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Help\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var radius = .5;\n  var cpOffset = KAPPA * .5;\n  var centerx = .5;\n  var centery = .5;\n  var fig = new go.PathFigure((centerx - radius) * w, centery * h, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h).close());\n  radius = .05;\n  cpOffset = KAPPA * .05;\n  centerx = .5;\n  centery = .8;\n  var fig2 = new go.PathFigure((centerx - radius) * w, centery * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h, (centerx - cpOffset) * w, (centery - radius) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h, (centerx + cpOffset) * w, (centery + radius) * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h).close());\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.7 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.5 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.2 * h, 0.75 * w, 0.475 * h, 0.75 * w, 0.225 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0.3 * w, 0.35 * h, 0.4 * w, 0.2 * h, 0.3 * w, 0.25 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Location\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0.5 * w, h, true).add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, 0.5 * h)).add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0, .975 * w, 0.025 * h, 0.5 * w, 0)).add(new go.PathSegment(go.PathSegment.Bezier, 0.25 * w, 0.5 * h, 0.5 * w, 0, 0.025 * w, 0.025 * h).close()).add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.2 * h)).add(new go.PathSegment(go.PathSegment.Arc, 270, 360, 0.5 * w, 0.3 * h, 0.1 * w, 0.1 * h).close()));\n});\ngo.Shape.defineFigureGenerator(\"Lock\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0.5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.5 * h));\n  var fig2 = new go.PathFigure(0.2 * w, 0.5 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.5 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, 0.3 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0.8 * w, 0.3 * h, 0.25 * w, 0, 0.75 * w, 0));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.5 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.3 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Unlocked\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0.5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.5 * h));\n  var fig2 = new go.PathFigure(0.2 * w, 0.5 * h, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.5 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, 0.3 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0.8 * w, 0.3 * h, 0.25 * w, 0, 0.75 * w, 0));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.35 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Gear\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0.9375 * w, 0.56246875 * h, true).add(new go.PathSegment(go.PathSegment.Line, 0.9375 * w, 0.4375 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.80621875 * w, 0.4375 * h)).add(new go.PathSegment(go.PathSegment.Bezier, 0.763 * w, 0.3316875 * h, 0.79840625 * w, 0.39915625 * h, 0.7834375 * w, 0.3635 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.8566875 * w, 0.23796875 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.76825 * w, 0.14959375 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.67596875 * w, 0.24184375 * h)).add(new go.PathSegment(go.PathSegment.Bezier, 0.5625 * w, 0.19378125 * h, 0.64228125 * w, 0.2188125 * h, 0.603875 * w, 0.2021875 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.5625 * w, 0.0625 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.4375 * w, 0.0625 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.4375 * w, 0.19378125 * h)).add(new go.PathSegment(go.PathSegment.Bezier, 0.32775 * w, 0.239375 * h, 0.39759375 * w, 0.20190625 * h, 0.36053125 * w, 0.2176875 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.2379375 * w, 0.14959375 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.14953125 * w, 0.2379375 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.23934375 * w, 0.3278125 * h)).add(new go.PathSegment(go.PathSegment.Bezier, 0.19378125 * w, 0.4375 * h, 0.21765625 * w, 0.36059375 * h, 0.201875 * w, 0.397625 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.0625 * w, 0.4375 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.0625 * w, 0.5625 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.1938125 * w, 0.5625 * h)).add(new go.PathSegment(go.PathSegment.Bezier, 0.241875 * w, 0.67596875 * h, 0.20221875 * w, 0.603875 * h, 0.21884375 * w, 0.64228125 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.1495625 * w, 0.76825 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.238 * w, 0.8566875 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.3316875 * w, 0.76296875 * h)).add(new go.PathSegment(go.PathSegment.Bezier, 0.43753125 * w, 0.80621875 * h, 0.36353125 * w, 0.78340625 * h, 0.3991875 * w, 0.79840625 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.43753125 * w, 0.9375 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.5625 * w, 0.9375 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.5625 * w, 0.80621875 * h)).add(new go.PathSegment(go.PathSegment.Bezier, 0.67225 * w, 0.760625 * h, 0.602375 * w, 0.79809375 * h, 0.63946875 * w, 0.78234375 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.76828125 * w, 0.8566875 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.85671875 * w, 0.76825 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.76065625 * w, 0.67221875 * h)).add(new go.PathSegment(go.PathSegment.Bezier, 0.80621875 * w, 0.56246875 * h, 0.78234375 * w, 0.63940625 * h, 0.798125 * w, 0.602375 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.9375 * w, 0.56246875 * h).close()).add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.6 * h)).add(new go.PathSegment(go.PathSegment.Arc, 90, 360, 0.5 * w, 0.5 * h, 0.1 * w, 0.1 * h).close()));\n});\ngo.Shape.defineFigureGenerator(\"Hand\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0.5 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.1 * w, 0.3 * h, 0, 0.375 * h, 0.05 * w, 0.325 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.45 * w, 0.075 * h, 0.3 * w, 0.225 * h, 0.4 * w, 0.175 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.525 * w, 0.075 * h, 0.46 * w, 0.05 * h, 0.525 * w, 0.05 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.3 * w, 0.4 * h, 0.525 * w, 0.275 * h, 0.475 * w, 0.325 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.4 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.9 * w, 0.55 * h, w, 0.4 * h, w, 0.55 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.425 * w, 0.55 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.55 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.6 * w, 0.7 * h, 0.675 * w, 0.55 * h, 0.675 * w, 0.7 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0.7 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.575 * w, 0.7 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.575 * w, 0.85 * h, 0.65 * w, 0.7 * h, 0.65 * w, 0.85 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0.85 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.525 * w, 0.85 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.535 * w, h, 0.61 * w, 0.85 * h, 0.61 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0.9 * h, 0.435 * w, h, 0, h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Map\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0.2 * h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.25 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.2 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.2 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, 0.8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.25 * w, 0.8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.25 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.25 * w, 0.8 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.2 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.75 * w, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, 0.8 * h));\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Eject\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, h, true);\n  geo.add(fig); // bottam rectangle section\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h * .7));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * .7).close());\n  var fig2 = new go.PathFigure(0, h * .6, true);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, .6 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Pencil\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, true).add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, 0.1 * h)).add(new go.PathSegment(go.PathSegment.Line, w, 0.9 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, h)).add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0.2 * h).close()));\n});\ngo.Shape.defineFigureGenerator(\"Building\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w * 1, h * 1, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * 1)); // bottom part\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * .85));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .046 * w, h * .85));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .046 * w, h * .45));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * .45));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * .30));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .046 * w, h * .30));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, (1 - .046) * w, h * .30));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h * .30));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h * .45));\n  fig.add(new go.PathSegment(go.PathSegment.Line, (1 - .046) * w, h * .45));\n  fig.add(new go.PathSegment(go.PathSegment.Line, (1 - .046) * w, h * .85));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h * .85).close());\n  var fig2 = new go.PathFigure(.126 * w, .85 * h, false); // is filled in our not\n\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .126 * w, .45 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .322 * w, .45 * h));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .322 * w, .85 * h).close());\n  var fig3 = new go.PathFigure(.402 * w, .85 * h, false); // is filled in our not\n\n  geo.add(fig3);\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .402 * w, .45 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .598 * w, .45 * h));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .598 * w, .85 * h).close());\n  var fig4 = new go.PathFigure(.678 * w, .85 * h, false); // is filled in our not\n\n  geo.add(fig4);\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .678 * w, .45 * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .874 * w, .45 * h));\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .874 * w, .85 * h).close()); // the top inner triangle\n\n  var fig5 = new go.PathFigure(.5 * w, .1 * h, false); // is filled in our not\n\n  geo.add(fig5);\n  fig5.add(new go.PathSegment(go.PathSegment.Line, (.046 + .15) * w, .30 * h));\n  fig5.add(new go.PathSegment(go.PathSegment.Line, (1 - (.046 + .15)) * w, .30 * h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Staircase\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, h * 1, true);\n  geo.add(fig); // Bottom part\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .20, h * 1)); // bottom left part\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .20, h * .80));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .40, h * .80));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .40, h * .60));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * .60));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * .40));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .80, h * .40));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .80, h * .20));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .20));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .15));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * .15));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * .35));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, h * .35));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, h * .55));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .35, h * .55));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .35, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .15, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .15, h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * .95).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"5Bars\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, h * 1, true); // bottom left\n\n  geo.add(fig); // Width of each bar is .184\n  // space in between each bar is .2\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .184, h * 1)); // bottom left part\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .184, h * (1 - .184)).close());\n  var fig3 = new go.PathFigure(w * .204, h, true); // is filled in our not\n\n  geo.add(fig3);\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .204, h * (1 - .184)));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .388, h * (1 - .184 * 2)));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .388, h * 1).close());\n  var fig4 = new go.PathFigure(w * .408, h, true); // is filled in our not\n\n  geo.add(fig4);\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .408, h * (1 - .184 * 2)));\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .592, h * (1 - .184 * 3)));\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .592, h * 1).close());\n  var fig5 = new go.PathFigure(w * .612, h, true); // is filled in our not\n\n  geo.add(fig5);\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * .612, h * (1 - .184 * 3)));\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * .796, h * (1 - .184 * 4)));\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * .796, h * 1).close());\n  var fig6 = new go.PathFigure(w * .816, h, true); // is filled in our not\n\n  geo.add(fig6);\n  fig6.add(new go.PathSegment(go.PathSegment.Line, w * .816, h * (1 - .184 * 4)));\n  fig6.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * (1 - .184 * 5)));\n  fig6.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"PC\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, true); // top right\n\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .3, h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .3, 0).close()); // Drive looking rectangle 1\n\n  var fig2 = new go.PathFigure(w * .055, .07 * h, true); // is filled in our not\n\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .245, h * .07));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .245, h * .1));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .055, h * .1).close()); // Drive looking rectangle 2\n\n  var fig3 = new go.PathFigure(w * .055, .13 * h, true); // is filled in our not\n\n  geo.add(fig3);\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .245, h * .13));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .245, h * .16));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .055, h * .16).close()); // Drive/cd rom looking rectangle 3\n\n  var fig4 = new go.PathFigure(w * .055, .18 * h, true); // is filled in our not\n\n  geo.add(fig4);\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .245, h * .18));\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .245, h * .21));\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .055, h * .21).close());\n  var fig5 = new go.PathFigure(w * 1, 0, true); // is filled in our not\n\n  geo.add(fig5);\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * .4, 0));\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * .4, h * .65));\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .65).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Plane\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0.55 * w, h, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0.7 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, 0.475 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.35 * w, 0.525 * h, 0, 0.4 * h, 0.225 * w, 0.45 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0.475 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, 0.35 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, 0.325 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.325 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.85 * w, 0.1 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.9 * w, 0.2 * h, 0.975 * w, 0, w, .08 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.7 * w, 0.45 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.95 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, h).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Key\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w * 1, h * .5, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .90, .40 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .50, .40 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .50, .35 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .45, .35 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .30, .20 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .15, .20 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .35 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .65 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .15, .80 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .30, .80 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .45, .65 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .50, .65 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .50, .6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .60, .6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .65, .55 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .70, .6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, .55 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .80, .6 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .85, .575 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .9, 0.60 * h).close());\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.17 * w, 0.425 * h));\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 270, 360, 0.17 * w, 0.5 * h, 0.075 * w, 0.075 * h).close());\n  return geo;\n}); // movie like logo\n\ngo.Shape.defineFigureGenerator(\"FilmTape\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(0, 0, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 270, 180, w * 0, w * 0.3, w * 0.055)); // left semi-circle\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .08, h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .08, h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 1), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 1), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 2), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 2), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 3), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 3), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 4), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 4), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 5), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 5), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 6), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 6), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 7), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 7), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 8), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 8), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 9), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 9), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 10), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 10), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 11), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 11), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 12), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 12), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 13), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 13), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 14), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 14), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 15), h * .95));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 15), h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1));\n  var fig2 = new go.PathFigure(0, 0, false); // is filled in our not\n\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 0));\n  fig2.add(new go.PathSegment(go.PathSegment.Arc, 270, -180, w * 1, w * 0.3, w * 0.055)); // right semi circle\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1)); // Each of the little square boxes on the tape\n\n  var fig3 = new go.PathFigure(w * .11, h * .1, false); // is filled in our not\n\n  geo.add(fig3);\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + .24133333 * 1 + .028 * 0), h * .1));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + .24133333 * 1 + .028 * 0), h * .8));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .11, h * .8).close());\n  var fig4 = new go.PathFigure(w * (.11 + .24133333 * 1 + .028 * 1), h * .1, false); // is filled in our not\n\n  geo.add(fig4);\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + .24133333 * 2 + .028 * 1), h * .1));\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + .24133333 * 2 + .028 * 1), h * .8));\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + .24133333 * 1 + .028 * 1), h * .8).close());\n  var fig5 = new go.PathFigure(w * (.11 + .24133333 * 2 + .028 * 2), h * .1, false); // is filled in our not\n\n  geo.add(fig5);\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + .24133333 * 3 + .028 * 2), h * .1));\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + .24133333 * 3 + .028 * 2), h * .8));\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + .24133333 * 2 + .028 * 2), h * .8).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"FloppyDisk\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var roundValue = 8;\n  var cpOffset = roundValue * KAPPA;\n  var fig = new go.PathFigure(roundValue, 0, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .86, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .14));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h - roundValue));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w - roundValue, h, w, h - cpOffset, w - cpOffset, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, roundValue, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h - roundValue, cpOffset, h, 0, h - cpOffset));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, roundValue));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, roundValue, 0, 0, cpOffset, cpOffset, 0).close()); // interior slightly  rectangle\n\n  var fig2 = new go.PathFigure(w * .83, 0, false);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .83, h * .3));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .17, h * .3));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .17, h * 0).close());\n  var fig3 = new go.PathFigure(w * .83, h * 1, false);\n  geo.add(fig3);\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .83, h * .5));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .17, h * .5));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .17, h * 1).close());\n  var fig4 = new go.PathFigure(w * .78, h * .05, false);\n  geo.add(fig4);\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * .05));\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * .25));\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .78, h * .25).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"SpeechBubble\", function (shape, w, h) {\n  var param1 = shape ? shape.parameter1 : NaN;\n  if (isNaN(param1) || param1 < 0) param1 = 15; // default corner\n\n  param1 = Math.min(param1, w / 3);\n  param1 = Math.min(param1, h / 3);\n  var cpOffset = param1 * KAPPA;\n  var bubbleH = h * .8; // leave some room at bottom for pointer\n\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(param1, 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w - param1, 0));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, param1, w - cpOffset, 0, w, cpOffset));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, bubbleH - param1));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w - param1, bubbleH, w, bubbleH - cpOffset, w - cpOffset, bubbleH));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .70, bubbleH));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .70, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, bubbleH));\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1, bubbleH));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, bubbleH - param1, cpOffset, bubbleH, 0, bubbleH - cpOffset));\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, param1));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, param1, 0, 0, cpOffset, cpOffset, 0).close());\n\n  if (cpOffset > 1) {\n    geo.spot1 = new go.Spot(0, 0, cpOffset, cpOffset);\n    geo.spot2 = new go.Spot(1, .8, -cpOffset, -cpOffset);\n  } else {\n    geo.spot1 = go.Spot.TopLeft;\n    geo.spot2 = new go.Spot(1, .8);\n  }\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Repeat\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w * 0, h * .45, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .25, h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .50, h * .45));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .30, h * .45));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .30, h * .90));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * .90));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .65, h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .20, h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .20, h * .45).close());\n  var fig2 = new go.PathFigure(w * 1, h * .55, true); // is filled in our not\n\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * 1));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .50, h * .55));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .70, h * .55));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .70, h * .10));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .40, h * .10));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .35, h * 0));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .80, h * 0));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .80, h * .55).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Windows\", function (shape, w, h) {\n  return new go.Geometry().add(new go.PathFigure(0, 0, true).add(new go.PathSegment(go.PathSegment.Line, w, 0)).add(new go.PathSegment(go.PathSegment.Line, w, h)).add(new go.PathSegment(go.PathSegment.Line, 0, h).close()).add(new go.PathSegment(go.PathSegment.Move, 0.4 * w, 0.4 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0.8 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.8 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.4 * h).close()).add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.1 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, 0.6 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.7 * w, 0.6 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.7 * w, 0.1 * h).close()).add(new go.PathSegment(go.PathSegment.Move, 0.1 * w, 0.6 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0.9 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.9 * h)).add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.6 * h).close()));\n});\ngo.Shape.defineFigureGenerator(\"Terminal\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w * 0, h * .10, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .10));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .90));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 0, h * .90).close());\n  var fig2 = new go.PathFigure(w * .10, h * .20, true); // is filled in our not\n\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .10, h * .25));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .22, h * .285)); // midpoint\n\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .10, h * .32));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .10, h * .37));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .275, h * .32));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .275, h * .25).close());\n  var fig3 = new go.PathFigure(w * .28, h * .37, true); // is filled in our not\n\n  geo.add(fig3);\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .45, h * .37));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .45, h * .41));\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .28, h * .41).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Beaker\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var param1 = 15;\n  var cpOffset = param1 * KAPPA;\n  var fig = new go.PathFigure(w * .62, h * .475, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h - param1));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w - param1, h, w, h - cpOffset, w - cpOffset, h));\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1, h));\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h - param1, cpOffset, h, 0, h - cpOffset));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .38, h * .475));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .38, h * .03));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .36, h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .64, h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .62, h * .03).close());\n\n  if (cpOffset > 1) {\n    geo.spot1 = new go.Spot(0, 0, cpOffset, cpOffset);\n    geo.spot2 = new go.Spot(1, 1, -cpOffset, -cpOffset);\n  } else {\n    geo.spot1 = go.Spot.TopLeft;\n    geo.spot2 = go.Spot.BottomRight;\n  }\n\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Download\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w * 0, h * 1, true);\n  geo.add(fig);\n  var third = .1 / .3; // just to keep values consistent\n  // outer frame\n  // starts bottom left\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .8, h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * .055));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .755, h * .055));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .93, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .64, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .61, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .5, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .39, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .36, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .07, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .755), h * .055));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .66), h * .055));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .66), h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .8), h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 0, h * (1 - third)).close()); // arrow pointing down\n\n  var fig2 = new go.PathFigure(w * .40, h * 0, true);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .40, h * .44));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .26, h * .44));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .5, h * .66));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .26), h * .44));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * .44));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * 0).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Bin\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w * 0, h * 1, true);\n  geo.add(fig);\n  var third = .1 / .3; // just to keep values consistent\n  // outer frame\n  // starts bottom left\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .8, h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * .055));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .755, h * .055));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .93, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .64, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .61, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .5, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .39, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .36, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .07, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .755), h * .055));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .66), h * .055));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .66), h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .8), h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 0, h * (1 - third)).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Upload\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w * 0, h * 1, true);\n  geo.add(fig);\n  var third = .1 / .3; // just to keep values consistent\n  // outer frame\n  // starts bottom left\n\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .8, h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * .055));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .755, h * .055));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .93, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .64, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .61, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .5, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .39, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .36, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .07, h * (1 - third)));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .755), h * .055));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .66), h * .055));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .66), h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .8), h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 0, h * (1 - third)).close());\n  var fig2 = new go.PathFigure(w * .5, h * 0, true);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .26, h * .25));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .40, h * .25));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .40, h * .63));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * .63));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * .25));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .74, h * .25).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"EmptyDrink\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w * .15, h * 0, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .85, h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .70, h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .30, h * 1).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Drink\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w * .15, h * 0, false);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .85, h * 0));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .70, h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .30, h * 1).close());\n  var fig2 = new go.PathFigure(w * .235, h * .28, true);\n  geo.add(fig2);\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .765, h * .28));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .655, h * .97));\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .345, h * .97).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"4Arrows\", function (shape, w, h) {\n  var geo = new go.Geometry();\n  var fig = new go.PathFigure(w * .5, h * 0, true);\n  geo.add(fig);\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .65, h * .25));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, h * .25));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, h * .45));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * .45));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * .35));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .5));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * .65));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * .55));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, h * .55));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .65, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .5, h * 1));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .35, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .45, h * .75));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .45, h * .55));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .25, h * .55));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .25, h * .65));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 0, h * .5));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .25, h * .35));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .25, h * .45));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .45, h * .45));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .45, h * .25));\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .35, h * .25).close());\n  return geo;\n});\ngo.Shape.defineFigureGenerator(\"Connector\", \"Ellipse\");\ngo.Shape.defineFigureGenerator(\"Alternative\", \"TriangleUp\");\ngo.Shape.defineFigureGenerator(\"Merge\", \"TriangleUp\");\ngo.Shape.defineFigureGenerator(\"Decision\", \"Diamond\");\ngo.Shape.defineFigureGenerator(\"DataTransmissions\", \"Hexagon\");\ngo.Shape.defineFigureGenerator(\"Gate\", \"Crescent\");\ngo.Shape.defineFigureGenerator(\"Delay\", \"HalfEllipse\");\ngo.Shape.defineFigureGenerator(\"Input\", \"Parallelogram1\");\ngo.Shape.defineFigureGenerator(\"ManualLoop\", \"ManualOperation\");\ngo.Shape.defineFigureGenerator(\"ISOProcess\", \"Chevron\");\ngo.Shape.defineFigureGenerator(\"MessageToUser\", \"SquareArrow\");\ngo.Shape.defineFigureGenerator(\"MagneticData\", \"Cylinder1\");\ngo.Shape.defineFigureGenerator(\"DirectData\", \"Cylinder4\");\ngo.Shape.defineFigureGenerator(\"StoredData\", \"DataStorage\");\ngo.Shape.defineFigureGenerator(\"SequentialData\", \"MagneticTape\");\ngo.Shape.defineFigureGenerator(\"Subroutine\", \"Procedure\");","map":{"version":3,"names":["go","m1","FigureParameter","name","def","min","max","undefined","Infinity","_name","_defaultValue","_minimum","_maximum","Object","defineProperty","prototype","get","set","val","Error","isNaN","Shape","_FigureParameters","getFigureParameter","figurename","index","arr","setFigureParameter","figparam","defaultValue","minimum","maximum","_CachedPoints","tempPointAt","x","y","temp","pop","Point","tempPoint","freePoint","push","getIntersection","p1x","p1y","p2x","p2y","q1x","q1y","q2x","q2y","result","dx1","dx2","m2","b2","b1","breakUpBezier","startx","starty","c1x","c1y","c2x","c2y","endx","endy","fraction","curve1cp1","curve1cp2","midpoint","curve2cp1","curve2cp2","fo","so","m1x","m1y","m2x","m2y","m3x","m3y","m12x","m12y","m23x","m23y","m123x","m123y","GeneratorEllipseSpot1","Spot","GeneratorEllipseSpot2","KAPPA","Math","sqrt","defineFigureGenerator","shape","w","h","param1","parameter1","NaN","cpOffset","geo","Geometry","add","PathFigure","PathSegment","Line","Bezier","close","spot1","spot2","setSpots","startX","startY","endX","endY","Move","offset","SQRT2","rad","Arc","defaultStretch","GraphObject","Uniform","indent","abs","Rectangle","_CachedArrays","tempArray","freeArray","a","length","createPolygon","sides","points","radius","center","offsetAngle","PI","angle","i","cos","sin","createBurst","star","createStar","pts","count","polygon","half","floor","p0","p1","q21","q2off","fig","starPoints","burstPoints","segments","last","param2","parameter2","rad2","part","start","sweep","factor","x1","y1","t","mx","my","w2","h2","a2","atan2","dx","dy","r","cx","cy","d","centerx","centery","startOfArrowc1","startOfArrowc2","startOfArrow","unused","endOfArrowc1","endOfArrowc2","endOfArrow","startOfArrow2c1","startOfArrow2c2","startOfArrow2","endOfArrow2c1","endOfArrow2c2","endOfArrow2","x2","mid","c1","c2","fig2","fig3","y2","y1outer","y2outer","TopLeft","cpxOffset","cpyOffset","radiusw","radiush","offsetw","offseth","BottomRight","dist","small","l","origw","origh","xOffset","yOffset","fig4","fig5","drawTriangle","offsetx","offsety","mx1","my1","radiushead","alpha2","fig6","fig7","fig8","roundValue","bubbleH","third"],"sources":["C:/visualizacion_microservicios/src/Figures.js"],"sourcesContent":["import * as go from 'gojs';\r\n/*\r\n*  Copyright (C) 1998-2022 by Northwoods Software Corporation. All Rights Reserved.\r\n*/\r\n\r\n// This file holds definitions of all standard shape figures -- string values for Shape.figure.\r\n// You do not need to load this file in order to use named Shape figure.\r\n\r\n// The following figures are built-in to the go.js library and thus do not need to be redefined:\r\n//   Rectangle, Square, RoundedRectangle, Border, Ellipse, Circle,\r\n//   TriangleRight, TriangleDown, TriangleLeft, TriangleUp, Triangle,\r\n//   LineH, LineV, None, BarH, BarV, MinusLine, PlusLine, XLine\r\n// If you need any of the other figures that are defined in this file, we suggest that you copy\r\n// just those definitions into your own code.  Do not load this file unless you really want to\r\n// define a lot of code that your app does not use and will not get garbage-collected.\r\n\r\n// The following functions and variables are used throughout this file:\r\n\r\n/**\r\n* @constructor\r\n* @param {string} name\r\n* @param {number} def\r\n* @param {number=} min defaults to zero\r\n* @param {number=} max defaults to Infinity\r\n* @class\r\n* This FigureParameter class describes various properties each parameter uses in figures.\r\n*/\r\n\r\nvar m1\r\n\r\n\r\n\r\n\r\n\r\nfunction FigureParameter(name, def, min, max) {\r\n  if (min === undefined/*notpresent*/) min = 0.0;\r\n  if (max === undefined/*notpresent*/) max = Infinity;\r\n  /** @type {string} */\r\n  this._name = name;\r\n  /** @type {number} */\r\n  this._defaultValue = def;\r\n  /** @type {number} */\r\n  this._minimum = min;\r\n  /** @type {number} */\r\n  this._maximum = max;\r\n};\r\n\r\n// Public properties\r\n\r\n/**\r\n* Gets or sets the name of the figure.\r\n* @name FigureParamater#name\r\n\r\n* @return {string}\r\n*/\r\nObject.defineProperty(FigureParameter.prototype, \"name\", {\r\n  get: function () { return this._name; },\r\n  set: function (val) {\r\n    if (typeof val !== \"string\" || val === \"\") throw new Error(\"Shape name must be a valid string.\");\r\n    this._name = val;\r\n  }\r\n});\r\n\r\n/**\r\n* Gets or sets the default value for the parameter.\r\n* @name FigureParameter#defaultValue\r\n* @function\r\n* @return {number}\r\n*/\r\nObject.defineProperty(FigureParameter.prototype, \"defaultValue\", {\r\n  get: function () { return this._defaultValue; },\r\n  set: function (val) {\r\n    if (typeof val !== \"number\" || isNaN(val)) throw new Error(\"The default value must be a real number, not: \" + val);\r\n    this._defaultValue = val;\r\n  }\r\n});\r\n\r\n/**\r\n* Gets or sets the minimum value allowed for the figure parameter.\r\n* @name FigureParameter#minimum\r\n\r\n* @return {number}\r\n*/\r\nObject.defineProperty(FigureParameter.prototype, \"minimum\", {\r\n  get: function () { return this._minimum; },\r\n  set: function (val) {\r\n    if (typeof val !== \"number\" || isNaN(val)) throw new Error(\"Minimum must be a real number, not: \" + val);\r\n    this._minimum = val;\r\n  }\r\n});\r\n\r\n/**\r\n* Gets or sets the maximum value allowed for the figure parameter.\r\n* @name FigureParameter#maximum\r\n\r\n* @return {number}\r\n*/\r\nObject.defineProperty(FigureParameter.prototype, \"maximum\", {\r\n  get: function () { return this._maximum; },\r\n  set: function (val) {\r\n    if (typeof val !== \"number\" || isNaN(val)) throw new Error(\"Maximum must be a real number, not: \" + val);\r\n    this._maximum = val;\r\n  }\r\n});\r\n\r\n\r\ngo.Shape._FigureParameters = {};\r\n\r\n/*\r\n* This static function gets a FigureParameter for a particular figure name.\r\n* @param {String} figurename\r\n* @param {number} index, currently must be either 0 or 1\r\n* @return {FigureParameter}\r\n*/\r\ngo.Shape.getFigureParameter = function (figurename, index) {\r\n  var arr = go.Shape._FigureParameters[figurename];\r\n  if (!arr) return null;\r\n  return /** @type {FigureParmeter} */ (arr[index]);\r\n};\r\n\r\n/*\r\n* This static function sets a FigureParameter for a particular figure name.\r\n* @param {String} figurename\r\n* @param {number} index, currently must be either 0 or 1\r\n* @param {FigureParameter} figparam\r\n*/\r\ngo.Shape.setFigureParameter = function (figurename, index, figparam) {\r\n  if (!(figparam instanceof FigureParameter)) throw new Error(\"Third argument to Shape.setFigureParameter is not FigureParameter: \" + figparam);\r\n  if (figparam.defaultValue < figparam.minimum || figparam.defaultValue > figparam.maximum) throw new Error(\"defaultValue must be between minimum and maximum, not: \" + figparam.defaultValue);\r\n  var arr = go.Shape._FigureParameters[figurename];\r\n  if (!arr) {\r\n    arr = [];\r\n    go.Shape._FigureParameters[figurename] = arr;\r\n  }\r\n  arr[index] = figparam;\r\n};\r\n\r\n\r\n/** @ignore */\r\nvar _CachedPoints = [];\r\n\r\n/**\r\n* @ignore\r\n* @param {number} x\r\n* @param {number} y\r\n* @return {Point}\r\n*/\r\nfunction tempPointAt(x, y) {\r\n  var temp = _CachedPoints.pop();\r\n  if (temp === undefined) return new go.Point(x, y);\r\n  temp.x = x;\r\n  temp.y = y;\r\n  return temp;\r\n};\r\n\r\n/**\r\n* @ignore\r\n* @return {Point}\r\n*/\r\nfunction tempPoint() {\r\n  var temp = _CachedPoints.pop();\r\n  if (temp === undefined) return new go.Point();\r\n  return temp;\r\n};\r\n\r\n/**\r\n  * @ignore\r\n  * @param {Point} temp\r\n  */\r\nfunction freePoint(temp) {\r\n  _CachedPoints.push(temp);\r\n};\r\n\r\n/**\r\n* @ignore\r\n* @param {number} p1x\r\n* @param {number} p1y\r\n* @param {number} p2x\r\n* @param {number} p2y\r\n* @param {number} q1x\r\n* @param {number} q1y\r\n* @param {number} q2x\r\n* @param {number} q2y\r\n* @param {Point} result\r\n* @return {Point}\r\n*/\r\nfunction getIntersection(p1x, p1y, p2x, p2y, q1x, q1y, q2x, q2y, result) {\r\n  var dx1 = p1x - p2x;\r\n  var dx2 = q1x - q2x;\r\n  var x;\r\n  var y;\r\n\r\n  if (dx1 === 0 || dx2 === 0) {\r\n    if (dx1 === 0) {\r\n      var m2 = (q1y - q2y) / dx2;\r\n      var b2 = q1y - m2 * q1x;\r\n      x = p1x;\r\n      y = m2 * x + b2;\r\n    }\r\n    else {\r\n      m1 = (p1y - p2y) / dx1;\r\n      var b1 = p1y - m1 * p1x;\r\n      x = q1x;\r\n      y = m1 * x + b1;\r\n    }\r\n  }\r\n  else {\r\n    m1 = (p1y - p2y) / dx1;\r\n    var m2 = (q1y - q2y) / dx2;\r\n    var b1 = p1y - m1 * p1x;\r\n    var b2 = q1y - m2 * q1x;\r\n\r\n    x = (b2 - b1) / (m1 - m2);\r\n    y = m1 * x + b1;\r\n  }\r\n\r\n  result.x = x;\r\n  result.y = y;\r\n  return result;\r\n};\r\n\r\n/**\r\n* @ignore\r\n* @param {number} startx\r\n* @param {number} starty\r\n* @param {number} c1x\r\n* @param {number} c1y\r\n* @param {number} c2x\r\n* @param {number} c2y\r\n* @param {number} endx\r\n* @param {number} endy\r\n* @pararm {number} fraction\r\n* @param {Point} curve1cp1  // modified result control point\r\n* @param {Point} curve1cp2  // modified result control point\r\n* @param {Point} midpoint  // modified result\r\n* @param {Point} curve2cp1  // modified result control point\r\n* @param {Point} curve2cp2  // modified result control point\r\n*/\r\nfunction breakUpBezier(startx, starty, c1x, c1y, c2x, c2y, endx, endy, fraction,\r\n  curve1cp1, curve1cp2, midpoint, curve2cp1, curve2cp2) {\r\n  var fo = 1 - fraction;\r\n  var so = fraction;\r\n  m1x = (startx * fo + c1x * so);\r\n  m1y = (starty * fo + c1y * so);\r\n  var m2x = (c1x * fo + c2x * so);\r\n  var m2y = (c1y * fo + c2y * so);\r\n  var m3x = (c2x * fo + endx * so);\r\n  var m3y = (c2y * fo + endy * so);\r\n  m12x = (m1x * fo + m2x * so);\r\n  m12y = (m1y * fo + m2y * so);\r\n  var m23x = (m2x * fo + m3x * so);\r\n  var m23y = (m2y * fo + m3y * so);\r\n  m123x = (m12x * fo + m23x * so);\r\n  m123y = (m12y * fo + m23y * so);\r\n\r\n  curve1cp1.x = m1x;\r\n  curve1cp1.y = m1y;\r\n\r\n  curve1cp2.x = m12x;\r\n  curve1cp2.y = m12y;\r\n\r\n  midpoint.x = m123x;\r\n  midpoint.y = m123y;\r\n\r\n  curve2cp1.x = m23x;\r\n  curve2cp1.y = m23y;\r\n\r\n  curve2cp2.x = m3x;\r\n  curve2cp2.y = m3y;\r\n};\r\n\r\nvar GeneratorEllipseSpot1 = new go.Spot(0.156, 0.156);\r\n\r\nvar GeneratorEllipseSpot2 = new go.Spot(0.844, 0.844);\r\n\r\nvar KAPPA = 4 * ((Math.sqrt(2) - 1) / 3);\r\n\r\n\r\n// PREDEFINED figures, built into the v2.0 library:\r\n\r\n// These first few are commented out due to optimizations in the built-in definitions.\r\n\r\n//go.Shape.defineFigureGenerator(\"Rectangle\", function(shape, w, h) {  // predefined in 2.0\r\n//  var geo = new go.Geometry(go.Geometry.Rectangle);\r\n//  geo.startX = 0;\r\n//  geo.startY = 0;\r\n//  geo.endX = w;\r\n//  geo.endY = h;\r\n//  return geo;\r\n//});\r\n\r\n//go.Shape.defineFigureGenerator(\"Square\", function(shape, w, h) {  // predefined in 2.0\r\n//  var geo = new go.Geometry(go.Geometry.Rectangle);\r\n//  geo.startX = 0;\r\n//  geo.startY = 0;\r\n//  geo.endX = w;\r\n//  geo.endY = h;\r\n//  geo.defaultStretch = go.GraphObject.Uniform;\r\n//  return geo;\r\n//});\r\n\r\ngo.Shape.setFigureParameter(\"RoundedRectangle\", 0, new FigureParameter(\"CornerRounding\", 5));\r\ngo.Shape.defineFigureGenerator(\"RoundedRectangle\", function (shape, w, h) {  // predefined in 2.0\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1) || param1 < 0) param1 = 5;  // default corner\r\n  param1 = Math.min(param1, w / 3);\r\n  param1 = Math.min(param1, h / 3);\r\n\r\n  var cpOffset = param1 * KAPPA;\r\n  var geo = new go.Geometry()\r\n    .add(new go.PathFigure(param1, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w - param1, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, w, param1, w - cpOffset, 0, w, cpOffset))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h - param1))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, w - param1, h, w, h - cpOffset, w - cpOffset, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, param1, h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0, h - param1, cpOffset, h, 0, h - cpOffset))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, param1))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, param1, 0, 0, cpOffset, cpOffset, 0).close()));\r\n  if (cpOffset > 1) {\r\n    geo.spot1 = new go.Spot(0, 0, cpOffset, cpOffset);\r\n    geo.spot2 = new go.Spot(1, 1, -cpOffset, -cpOffset);\r\n  }\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Border\", \"RoundedRectangle\");  // predefined in 2.0\r\n\r\n//go.Shape.defineFigureGenerator(\"Ellipse\", function(shape, w, h) {  // predefined in 2.0\r\n//  var geo = new go.Geometry(go.Geometry.Ellipse);\r\n//  geo.startX = 0;\r\n//  geo.startY = 0;\r\n//  geo.endX = w;\r\n//  geo.endY = h;\r\n//  geo.spot1 = GeneratorEllipseSpot1;\r\n//  geo.spot2 = GeneratorEllipseSpot2;\r\n//  return geo;\r\n//});\r\n\r\n//go.Shape.defineFigureGenerator(\"Circle\", function(shape, w, h) {  // predefined in 2.0\r\n//  var geo = new go.Geometry(go.Geometry.Ellipse);\r\n//  geo.startX = 0;\r\n//  geo.startY = 0;\r\n//  geo.endX = w;\r\n//  geo.endY = h;\r\n//  geo.spot1 = GeneratorEllipseSpot1;\r\n//  geo.spot2 = GeneratorEllipseSpot2;\r\n//  geo.defaultStretch = go.GraphObject.Uniform;\r\n//  return geo;\r\n//});\r\n\r\ngo.Shape.defineFigureGenerator(\"TriangleRight\", function (shape, w, h) {  // predefined in 2.0\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, h).close()))\r\n    .setSpots(0, 0.25, 0.5, 0.75);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"TriangleDown\", function (shape, w, h) {  // predefined in 2.0\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h).close()))\r\n    .setSpots(0.25, 0, 0.75, 0.5);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"TriangleLeft\", function (shape, w, h) {  // predefined in 2.0\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(w, h)\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, 0.5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0).close()))\r\n    .setSpots(0.5, 0.25, 1, 0.75);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"TriangleUp\", function (shape, w, h) {  // predefined in 2.0\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(w, h)\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0).close()))\r\n    .setSpots(0.25, 0.5, 0.75, 1);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Triangle\", \"TriangleUp\");  // predefined in 2.0\r\n\r\ngo.Shape.defineFigureGenerator(\"Diamond\", function (shape, w, h) {  // predefined in 2.0\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0.5 * w, 0)\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, 0.5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h).close()))\r\n    .setSpots(0.25, 0.25, 0.75, 0.75);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LineH\", function (shape, w, h) {  // predefined in 2.0\r\n  var geo = new go.Geometry(go.Geometry.Line);\r\n  geo.startX = 0;\r\n  geo.startY = h / 2;\r\n  geo.endX = w;\r\n  geo.endY = h / 2;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LineV\", function (shape, w, h) {  // predefined in 2.0\r\n  var geo = new go.Geometry(go.Geometry.Line);\r\n  geo.startX = w / 2;\r\n  geo.startY = 0;\r\n  geo.endX = w / 2;\r\n  geo.endY = h;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"BarH\", \"Rectangle\");  // predefined in 2.0\r\ngo.Shape.defineFigureGenerator(\"BarV\", \"Rectangle\");  // predefined in 2.0\r\ngo.Shape.defineFigureGenerator(\"MinusLine\", \"LineH\");  // predefined in 2.0\r\n\r\ngo.Shape.defineFigureGenerator(\"PlusLine\", function (shape, w, h) {  // predefined in 2.0\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, h / 2, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h / 2))\r\n      .add(new go.PathSegment(go.PathSegment.Move, w / 2, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w / 2, h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"XLine\", function (shape, w, h) {  // predefined in 2.0\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, h, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Move, 0, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator('LineRight', function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0.25 * w, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, 0.5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.25 * w, h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator('LineDown', function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0.25 * h, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.75 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0.25 * h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator('LineLeft', function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0.75 * w, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.25 * w, 0.5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator('LineUp', function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0.75 * h, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.25 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0.75 * h)));\r\n});\r\n\r\n\r\n// OPTIONAL figures, not predefined in the v2.0 library:\r\n\r\ngo.Shape.defineFigureGenerator(\"AsteriskLine\", function (shape, w, h) {\r\n  var offset = .2 / Math.SQRT2;\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(offset * w, (1 - offset) * h, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, (1 - offset) * w, offset * h))\r\n      .add(new go.PathSegment(go.PathSegment.Move, offset * w, offset * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, (1 - offset) * w, (1 - offset) * h))\r\n      .add(new go.PathSegment(go.PathSegment.Move, 0, h / 2))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h / 2))\r\n      .add(new go.PathSegment(go.PathSegment.Move, w / 2, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w / 2, h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"CircleLine\", function (shape, w, h) {\r\n  var rad = w / 2;\r\n  var geo = new go.Geometry()\r\n    .add(new go.PathFigure(w, w / 2, false)  // clockwise\r\n      .add(new go.PathSegment(go.PathSegment.Arc, 0, 360, rad, rad, rad, rad).close()));\r\n  geo.spot1 = GeneratorEllipseSpot1;\r\n  geo.spot2 = GeneratorEllipseSpot2;\r\n  geo.defaultStretch = go.GraphObject.Uniform;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Line1\", function (shape, w, h) {\r\n  var geo = new go.Geometry(go.Geometry.Line);\r\n  geo.startX = 0;\r\n  geo.startY = 0;\r\n  geo.endX = w;\r\n  geo.endY = h;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Line2\", function (shape, w, h) {\r\n  var geo = new go.Geometry(go.Geometry.Line);\r\n  geo.startX = w;\r\n  geo.startY = 0;\r\n  geo.endX = 0;\r\n  geo.endY = h;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Curve1\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, w, h, KAPPA * w, 0, w, (1 - KAPPA) * h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Curve2\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, w, h, 0, KAPPA * h, (1 - KAPPA) * w, h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Curve3\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(w, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0, h, w, KAPPA * h, KAPPA * w, h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Curve4\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(w, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0, h, (1 - KAPPA) * w, 0, 0, (1 - KAPPA) * h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"TriangleDownLeft\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, h).close()))\r\n    .setSpots(0, 0.5, 0.5, 1);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"TriangleDownRight\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(w, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, h).close()))\r\n    .setSpots(0.5, 0.5, 1, 1);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"TriangleUpLeft\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, h).close()))\r\n    .setSpots(0, 0, 0.5, 0.5);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"TriangleUpRight\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h).close()))\r\n    .setSpots(0.5, 0, 1, 0.5);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"RightTriangle\", \"TriangleDownLeft\");\r\n\r\ngo.Shape.setFigureParameter(\"Parallelogram1\", 0, new FigureParameter(\"Indent\", .1, -.99, .99));\r\ngo.Shape.defineFigureGenerator(\"Parallelogram1\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // indent's percent distance\r\n  if (isNaN(param1)) param1 = 0.1;\r\n  else if (param1 < -1) param1 = -1;\r\n  else if (param1 > 1) param1 = 1;\r\n  var indent = Math.abs(param1) * w;\r\n\r\n\r\n  if (param1 === 0) {\r\n    var geo = new go.Geometry(go.Geometry.Rectangle);\r\n    geo.startX = 0;\r\n    geo.startY = 0;\r\n    geo.endX = w;\r\n    geo.endY = h;\r\n    return geo;\r\n  } else {\r\n    var geo = new go.Geometry();\r\n    if (param1 > 0) {\r\n      geo.add(new go.PathFigure(indent, 0)\r\n        .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n        .add(new go.PathSegment(go.PathSegment.Line, w - indent, h))\r\n        .add(new go.PathSegment(go.PathSegment.Line, 0, h).close()));\r\n    } else {  // param1 < 0\r\n      geo.add(new go.PathFigure(0, 0)\r\n        .add(new go.PathSegment(go.PathSegment.Line, w - indent, 0))\r\n        .add(new go.PathSegment(go.PathSegment.Line, w, h))\r\n        .add(new go.PathSegment(go.PathSegment.Line, indent, h).close()));\r\n    }\r\n    if (indent < w / 2) {\r\n      geo.setSpots(indent / w, 0, (w - indent) / w, 1);\r\n    }\r\n    return geo;\r\n  }\r\n});\r\ngo.Shape.defineFigureGenerator(\"Parallelogram\", \"Parallelogram1\"); // alias\r\n\r\n// Parallelogram with absolutes instead of scaling\r\ngo.Shape.setFigureParameter(\"Parallelogram2\", 0, new FigureParameter(\"Indent\", 10, -Infinity, Infinity));\r\ngo.Shape.defineFigureGenerator(\"Parallelogram2\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // indent's x distance\r\n  if (isNaN(param1)) param1 = 10;\r\n  else if (param1 < -w) param1 = -w;\r\n  else if (param1 > w) param1 = w;\r\n  var indent = Math.abs(param1);\r\n\r\n  if (param1 === 0) {\r\n    var geo = new go.Geometry(go.Geometry.Rectangle);\r\n    geo.startX = 0;\r\n    geo.startY = 0;\r\n    geo.endX = w;\r\n    geo.endY = h;\r\n    return geo;\r\n  } else {\r\n    var geo = new go.Geometry();\r\n    if (param1 > 0) {\r\n      geo.add(new go.PathFigure(indent, 0)\r\n        .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n        .add(new go.PathSegment(go.PathSegment.Line, w - indent, h))\r\n        .add(new go.PathSegment(go.PathSegment.Line, 0, h).close()));\r\n    } else {  // param1 < 0\r\n      geo.add(new go.PathFigure(0, 0)\r\n        .add(new go.PathSegment(go.PathSegment.Line, w - indent, 0))\r\n        .add(new go.PathSegment(go.PathSegment.Line, w, h))\r\n        .add(new go.PathSegment(go.PathSegment.Line, indent, h).close()));\r\n    }\r\n    if (indent < w / 2) {\r\n      geo.setSpots(indent / w, 0, (w - indent) / w, 1);\r\n    }\r\n    return geo;\r\n  }\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"Trapezoid1\", 0, new FigureParameter(\"Indent\", .2, -.99, .99));\r\ngo.Shape.defineFigureGenerator(\"Trapezoid1\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // indent's percent distance\r\n  if (isNaN(param1)) param1 = 0.2;\r\n  else if (param1 < 0.5) param1 = -0.5;\r\n  else if (param1 > 0.5) param1 = 0.5;\r\n  var indent = Math.abs(param1) * w;\r\n\r\n  if (param1 === 0) {\r\n    var geo = new go.Geometry(go.Geometry.Rectangle);\r\n    geo.startX = 0;\r\n    geo.startY = 0;\r\n    geo.endX = w;\r\n    geo.endY = h;\r\n    return geo;\r\n  } else {\r\n    var geo = new go.Geometry();\r\n    if (param1 > 0) {\r\n      geo.add(new go.PathFigure(indent, 0)\r\n        .add(new go.PathSegment(go.PathSegment.Line, w - indent, 0))\r\n        .add(new go.PathSegment(go.PathSegment.Line, w, h))\r\n        .add(new go.PathSegment(go.PathSegment.Line, 0, h).close()));\r\n    } else {  // param1 < 0\r\n      geo.add(new go.PathFigure(0, 0)\r\n        .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n        .add(new go.PathSegment(go.PathSegment.Line, w - indent, h))\r\n        .add(new go.PathSegment(go.PathSegment.Line, indent, h).close()));\r\n    }\r\n    if (indent < w / 2) {\r\n      geo.setSpots(indent / w, 0, (w - indent) / w, 1);\r\n    }\r\n    return geo;\r\n  }\r\n});\r\ngo.Shape.defineFigureGenerator(\"Trapezoid\", \"Trapezoid1\"); // alias\r\n\r\n// Trapezoid with absolutes instead of scaling\r\ngo.Shape.setFigureParameter(\"Trapezoid2\", 0, new FigureParameter(\"Indent\", 20, -Infinity, Infinity));\r\ngo.Shape.defineFigureGenerator(\"Trapezoid2\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // indent's x distance\r\n  if (isNaN(param1)) param1 = 20; // default value\r\n  else if (param1 < -w) param1 = -w / 2;\r\n  else if (param1 > w) param1 = w / 2;\r\n  var indent = Math.abs(param1);\r\n\r\n\r\n  if (param1 === 0) {\r\n    var geo = new go.Geometry(go.Geometry.Rectangle);\r\n    geo.startX = 0;\r\n    geo.startY = 0;\r\n    geo.endX = w;\r\n    geo.endY = h;\r\n    return geo;\r\n  } else {\r\n    var geo = new go.Geometry();\r\n    if (param1 > 0) {\r\n      geo.add(new go.PathFigure(indent, 0)\r\n        .add(new go.PathSegment(go.PathSegment.Line, w - indent, 0))\r\n        .add(new go.PathSegment(go.PathSegment.Line, w, h))\r\n        .add(new go.PathSegment(go.PathSegment.Line, 0, h).close()));\r\n    } else {  // param1 < 0\r\n      geo.add(new go.PathFigure(0, 0)\r\n        .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n        .add(new go.PathSegment(go.PathSegment.Line, w - indent, h))\r\n        .add(new go.PathSegment(go.PathSegment.Line, indent, h).close()));\r\n    }\r\n    if (indent < w / 2) {\r\n      geo.setSpots(indent / w, 0, (w - indent) / w, 1);\r\n    }\r\n    return geo;\r\n  }\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"ManualOperation\", 0, new FigureParameter(\"Indent\", 10, -Infinity, Infinity));\r\ngo.Shape.defineFigureGenerator(\"ManualOperation\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  // Distance from topleft of bounding rectangle,\r\n  // in % of the total width, of the topleft corner\r\n  if (isNaN(param1)) param1 = 10; // default value\r\n  else if (param1 < -w) param1 = -w / 2;\r\n  else if (param1 > w) param1 = w / 2;\r\n  var indent = Math.abs(param1);\r\n\r\n  if (param1 === 0) {\r\n    var geo = new go.Geometry(go.Geometry.Rectangle);\r\n    geo.startX = 0;\r\n    geo.startY = 0;\r\n    geo.endX = w;\r\n    geo.endY = h;\r\n    return geo;\r\n  } else {\r\n    var geo = new go.Geometry();\r\n    if (param1 > 0) {\r\n      geo.add(new go.PathFigure(0, 0)\r\n        .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n        .add(new go.PathSegment(go.PathSegment.Line, w - indent, h))\r\n        .add(new go.PathSegment(go.PathSegment.Line, indent, h).close()));\r\n    } else {  // param1 < 0\r\n      geo.add(new go.PathFigure(indent, 0)\r\n        .add(new go.PathSegment(go.PathSegment.Line, w - indent, 0))\r\n        .add(new go.PathSegment(go.PathSegment.Line, w, h))\r\n        .add(new go.PathSegment(go.PathSegment.Line, 0, h).close()));\r\n    }\r\n    if (indent < w / 2) {\r\n      geo.setSpots(indent / w, 0, (w - indent) / w, 1);\r\n    }\r\n    return geo;\r\n  }\r\n});\r\n\r\n\r\n// The following functions are used by a group of regular figures that are defined below:\r\n\r\n/** @ignore */\r\nvar _CachedArrays = [];\r\n\r\n/**\r\n  * @ignore\r\n  * @return {Array}\r\n  */\r\nfunction tempArray() {\r\n  var temp = _CachedArrays.pop();\r\n  if (temp === undefined) return [];\r\n  return temp;\r\n};\r\n\r\n/**\r\n  * @ignore\r\n  * @param {Array} a\r\n  */\r\nfunction freeArray(a) {\r\n  a.length = 0;  // clear any references to objects\r\n  _CachedArrays.push(a);\r\n};\r\n\r\n\r\n/**\r\n* @ignore\r\n* This allocates a temporary Array that should be freeArray()'ed by the caller.\r\n* @param {number} sides\r\n* @return {Array}\r\n*/\r\nfunction createPolygon(sides) {\r\n  // Point[] points = new Point[sides + 1];\r\n  var points = tempArray();\r\n  var radius = .5;\r\n  var center = .5;\r\n  var offsetAngle = Math.PI * 1.5;\r\n  var angle = 0;\r\n\r\n  // Loop through each side of the polygon\r\n  for (var i = 0; i < sides; i++) {\r\n    angle = 2 * Math.PI / sides * i + offsetAngle;\r\n    points[i] = new go.Point((center + radius * Math.cos(angle)), (center + radius * Math.sin(angle)));\r\n  }\r\n\r\n  // Add the last line\r\n  // points[points.length - 1] = points[0];\r\n  points.push(points[0]);\r\n  return points;\r\n};\r\n\r\n/**\r\n* @ignore\r\n* This allocates a temporary Array that should be freeArray()'ed by the caller.\r\n* @param {number} points\r\n* @return {Array}\r\n*/\r\nfunction createBurst(points) {\r\n  var star = createStar(points);\r\n  var pts = tempArray(); // new Point[points * 3 + 1];\r\n\r\n  pts[0] = star[0];\r\n  for (var i = 1, count = 1; i < star.length; i += 2, count += 3) {\r\n    pts[count] = star[i];\r\n    pts[count + 1] = star[i];\r\n    pts[count + 2] = star[i + 1];\r\n  }\r\n\r\n  freeArray(star);\r\n  return pts;\r\n};\r\n\r\n/**\r\n* @ignore\r\n* This allocates a temporary Array that should be freeArray()'ed by the caller.\r\n* @param {number} points\r\n* @return {Array}\r\n*/\r\nfunction createStar(points) {\r\n  // First, create a regular polygon\r\n  var polygon = createPolygon(points);\r\n  // Calculate the points inbetween\r\n  var pts = tempArray(); // new Point[points * 2 + 1];\r\n\r\n  var half = Math.floor(polygon.length / 2);\r\n  var count = polygon.length - 1;\r\n  var offset = (points % 2 === 0) ? 2 : 1;\r\n\r\n  for (var i = 0; i < count; i++) {\r\n    // Get the intersection of two lines\r\n    var p0 = polygon[i];\r\n    var p1 = polygon[i + 1];\r\n    var q21 = polygon[(half + i - 1) % count];\r\n    var q2off = polygon[(half + i + offset) % count];\r\n    pts[i * 2] = p0;\r\n    pts[i * 2 + 1] = getIntersection(p0.x, p0.y,\r\n      q21.x, q21.y,\r\n      p1.x, p1.y,\r\n      q2off.x, q2off.y, new go.Point());  // ?? not currently managed\r\n  }\r\n\r\n  pts[pts.length] = pts[0];\r\n\r\n  freeArray(polygon);\r\n  return pts;\r\n};\r\n\r\n\r\ngo.Shape.defineFigureGenerator(\"Pentagon\", function (shape, w, h) {\r\n  var points = createPolygon(5);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < 5; i++) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\r\n  }\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\r\n  freeArray(points);\r\n  geo.spot1 = new go.Spot(.2, .22);\r\n  geo.spot2 = new go.Spot(.8, .9);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Hexagon\", function (shape, w, h) {\r\n  var points = createPolygon(6);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < 6; i++) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\r\n  }\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\r\n  freeArray(points);\r\n  geo.spot1 = new go.Spot(.07, .25);\r\n  geo.spot2 = new go.Spot(.93, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Heptagon\", function (shape, w, h) {\r\n  var points = createPolygon(7);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < 7; i++) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\r\n  }\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\r\n  freeArray(points);\r\n  geo.spot1 = new go.Spot(.2, .15);\r\n  geo.spot2 = new go.Spot(.8, .85);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Octagon\", function (shape, w, h) {\r\n  var points = createPolygon(8);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < 8; i++) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\r\n  }\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\r\n  freeArray(points);\r\n  geo.spot1 = new go.Spot(.15, .15);\r\n  geo.spot2 = new go.Spot(.85, .85);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Nonagon\", function (shape, w, h) {\r\n  var points = createPolygon(9);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < 9; i++) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\r\n  }\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\r\n  freeArray(points);\r\n  geo.spot1 = new go.Spot(.17, .13);\r\n  geo.spot2 = new go.Spot(.82, .82);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Decagon\", function (shape, w, h) {\r\n  var points = createPolygon(10);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < 10; i++) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\r\n  }\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\r\n  freeArray(points);\r\n  geo.spot1 = new go.Spot(.16, .16);\r\n  geo.spot2 = new go.Spot(.84, .84);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Dodecagon\", function (shape, w, h) {\r\n  var points = createPolygon(12);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(points[0].x * w, points[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < 12; i++) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, points[i].x * w, points[i].y * h));\r\n  }\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, points[0].x * w, points[0].y * h).close());\r\n  freeArray(points);\r\n  geo.spot1 = new go.Spot(.16, .16);\r\n  geo.spot2 = new go.Spot(.84, .84);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"FivePointedStar\", function (shape, w, h) {\r\n  var starPoints = createStar(5);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(starPoints[0].x * w, starPoints[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < 10; i++) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[i].x * w, starPoints[i].y * h));\r\n  }\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[0].x * w, starPoints[0].y * h).close());\r\n  freeArray(starPoints);\r\n  geo.spot1 = new go.Spot(.266, .333);\r\n  geo.spot2 = new go.Spot(.733, .733);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"SixPointedStar\", function (shape, w, h) {\r\n  var starPoints = createStar(6);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(starPoints[0].x * w, starPoints[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < 12; i++) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[i].x * w, starPoints[i].y * h));\r\n  }\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[0].x * w, starPoints[0].y * h).close());\r\n  freeArray(starPoints);\r\n  geo.spot1 = new go.Spot(.17, .25);\r\n  geo.spot2 = new go.Spot(.83, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"SevenPointedStar\", function (shape, w, h) {\r\n  var starPoints = createStar(7);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(starPoints[0].x * w, starPoints[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < 14; i++) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[i].x * w, starPoints[i].y * h));\r\n  }\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[0].x * w, starPoints[0].y * h).close());\r\n  freeArray(starPoints);\r\n  geo.spot1 = new go.Spot(.222, .277);\r\n  geo.spot2 = new go.Spot(.777, .666);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"EightPointedStar\", function (shape, w, h) {\r\n  var starPoints = createStar(8);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(starPoints[0].x * w, starPoints[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < 16; i++) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[i].x * w, starPoints[i].y * h));\r\n  }\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[0].x * w, starPoints[0].y * h).close());\r\n  freeArray(starPoints);\r\n  geo.spot1 = new go.Spot(.25, .25);\r\n  geo.spot2 = new go.Spot(.75, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"NinePointedStar\", function (shape, w, h) {\r\n  var starPoints = createStar(9);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(starPoints[0].x * w, starPoints[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < 18; i++) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[i].x * w, starPoints[i].y * h));\r\n  }\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[0].x * w, starPoints[0].y * h).close());\r\n  freeArray(starPoints);\r\n  geo.spot1 = new go.Spot(.222, .277);\r\n  geo.spot2 = new go.Spot(.777, .666);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"TenPointedStar\", function (shape, w, h) {\r\n  var starPoints = createStar(10);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(starPoints[0].x * w, starPoints[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < 20; i++) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[i].x * w, starPoints[i].y * h));\r\n  }\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, starPoints[0].x * w, starPoints[0].y * h).close());\r\n  freeArray(starPoints);\r\n  geo.spot1 = new go.Spot(.281, .261);\r\n  geo.spot2 = new go.Spot(.723, .748);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"FivePointedBurst\", function (shape, w, h) {\r\n  var burstPoints = createBurst(5);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(burstPoints[0].x * w, burstPoints[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < burstPoints.length; i += 3) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Bezier, burstPoints[i + 2].x * w,\r\n      burstPoints[i + 2].y * h, burstPoints[i].x * w,\r\n      burstPoints[i].y * h, burstPoints[i + 1].x * w,\r\n      burstPoints[i + 1].y * h));\r\n  }\r\n  fig.segments.last().close();\r\n  freeArray(burstPoints);\r\n  geo.spot1 = new go.Spot(.222, .277);\r\n  geo.spot2 = new go.Spot(.777, .777);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"SixPointedBurst\", function (shape, w, h) {\r\n  var burstPoints = createBurst(6);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(burstPoints[0].x * w, burstPoints[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < burstPoints.length; i += 3) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Bezier, burstPoints[i + 2].x * w,\r\n      burstPoints[i + 2].y * h, burstPoints[i].x * w,\r\n      burstPoints[i].y * h, burstPoints[i + 1].x * w,\r\n      burstPoints[i + 1].y * h));\r\n  }\r\n  fig.segments.last().close();\r\n  freeArray(burstPoints);\r\n  geo.spot1 = new go.Spot(.170, .222);\r\n  geo.spot2 = new go.Spot(.833, .777);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"SevenPointedBurst\", function (shape, w, h) {\r\n  var burstPoints = createBurst(7);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(burstPoints[0].x * w, burstPoints[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < burstPoints.length; i += 3) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Bezier, burstPoints[i + 2].x * w,\r\n      burstPoints[i + 2].y * h, burstPoints[i].x * w,\r\n      burstPoints[i].y * h, burstPoints[i + 1].x * w,\r\n      burstPoints[i + 1].y * h));\r\n  }\r\n  fig.segments.last().close();\r\n  freeArray(burstPoints);\r\n  geo.spot1 = new go.Spot(.222, .222);\r\n  geo.spot2 = new go.Spot(.777, .777);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"EightPointedBurst\", function (shape, w, h) {\r\n  var burstPoints = createBurst(8);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(burstPoints[0].x * w, burstPoints[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < burstPoints.length; i += 3) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Bezier, burstPoints[i + 2].x * w,\r\n      burstPoints[i + 2].y * h, burstPoints[i].x * w,\r\n      burstPoints[i].y * h, burstPoints[i + 1].x * w,\r\n      burstPoints[i + 1].y * h));\r\n  }\r\n  fig.segments.last().close();\r\n  freeArray(burstPoints);\r\n  geo.spot1 = new go.Spot(.222, .222);\r\n  geo.spot2 = new go.Spot(.777, .777);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"NinePointedBurst\", function (shape, w, h) {\r\n  var burstPoints = createBurst(9);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(burstPoints[0].x * w, burstPoints[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < burstPoints.length; i += 3) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Bezier, burstPoints[i + 2].x * w,\r\n      burstPoints[i + 2].y * h, burstPoints[i].x * w,\r\n      burstPoints[i].y * h, burstPoints[i + 1].x * w,\r\n      burstPoints[i + 1].y * h));\r\n  }\r\n  fig.segments.last().close();\r\n  freeArray(burstPoints);\r\n  geo.spot1 = new go.Spot(.222, .222);\r\n  geo.spot2 = new go.Spot(.777, .777);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"TenPointedBurst\", function (shape, w, h) {\r\n  var burstPoints = createBurst(10);\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(burstPoints[0].x * w, burstPoints[0].y * h, true);\r\n  geo.add(fig);\r\n\r\n  for (var i = 1; i < burstPoints.length; i += 3) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Bezier, burstPoints[i + 2].x * w,\r\n      burstPoints[i + 2].y * h, burstPoints[i].x * w,\r\n      burstPoints[i].y * h, burstPoints[i + 1].x * w,\r\n      burstPoints[i + 1].y * h));\r\n  }\r\n  fig.segments.last().close();\r\n  freeArray(burstPoints);\r\n  geo.spot1 = new go.Spot(.222, .222);\r\n  geo.spot2 = new go.Spot(.777, .777);\r\n  return geo;\r\n});\r\n\r\n\r\n\r\ngo.Shape.setFigureParameter(\"FramedRectangle\", 0, new FigureParameter(\"ThicknessX\", 8));\r\ngo.Shape.setFigureParameter(\"FramedRectangle\", 1, new FigureParameter(\"ThicknessY\", 8));\r\ngo.Shape.defineFigureGenerator(\"FramedRectangle\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  var param2 = shape ? shape.parameter2 : NaN;\r\n  if (isNaN(param1)) param1 = 8; // default values PARAMETER 1 is for WIDTH\r\n  if (isNaN(param2)) param2 = 8; // default values PARAMETER 2 is for HEIGHT\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n  // outer rectangle, clockwise\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  if (param1 < w / 2 && param2 < h / 2) {\r\n    // inner rectangle, counter-clockwise\r\n    fig.add(new go.PathSegment(go.PathSegment.Move, param1, param2));  // subpath\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, param1, h - param2));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, w - param1, h - param2));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, w - param1, param2).close());\r\n  }\r\n  geo.setSpots(0, 0, 1, 1, param1, param2, -param1, -param2);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"Ring\", 0, new FigureParameter(\"Thickness\", 8));\r\ngo.Shape.defineFigureGenerator(\"Ring\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1) || param1 < 0) param1 = 8;\r\n\r\n  var rad = w / 2;\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, w / 2, true);  // clockwise\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 0, 360, rad, rad, rad, rad).close());\r\n\r\n  var rad2 = Math.max(rad - param1, 0);\r\n  if (rad2 > 0) {  // counter-clockwise\r\n    fig.add(new go.PathSegment(go.PathSegment.Move, w / 2 + rad2, w / 2))\r\n    fig.add(new go.PathSegment(go.PathSegment.Arc, 0, -360, rad, rad, rad2, rad2).close());\r\n  }\r\n  geo.spot1 = GeneratorEllipseSpot1;\r\n  geo.spot2 = GeneratorEllipseSpot2;\r\n  geo.defaultStretch = go.GraphObject.Uniform;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Cloud\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(.08034461 * w, .1944299 * h, true)\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .2008615 * w, .05349299 * h, -.09239631 * w, .07836421 * h, .1406031 * w, -.0542823 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .4338609 * w, .074219 * h, .2450511 * w, -.00697547 * h, .3776197 * w, -.01112067 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .6558228 * w, .07004196 * h, .4539471 * w, 0, .6066018 * w, -.02526587 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .8921095 * w, .08370865 * h, .6914277 * w, -.01904177 * h, .8921095 * w, -.01220843 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .9147671 * w, .3194596 * h, 1.036446 * w, .04105738 * h, 1.020377 * w, .3022052 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .9082935 * w, .562044 * h, 1.04448 * w, .360238 * h, .992256 * w, .5219009 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .9212406 * w, .8217117 * h, 1.032337 * w, .5771781 * h, 1.018411 * w, .8120651 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .7592566 * w, .9156953 * h, 1.028411 * w, .9571472 * h, .8556702 * w, 1.052487 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .5101666 * w, .9310455 * h, .7431877 * w, 1.009325 * h, .5624123 * w, 1.021761 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .2609328 * w, .9344623 * h, .4820677 * w, 1.031761 * h, .3030112 * w, 1.002796 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .08034461 * w, .870098 * h, .2329994 * w, 1.01518 * h, .03213784 * w, 1.01518 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .06829292 * w, .6545475 * h, -.02812061 * w, .9032597 * h, -.01205169 * w, .6835638 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .06427569 * w, .4265613 * h, -.01812061 * w, .6089503 * h, -.00606892 * w, .4555777 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        .08034461 * w, .1944299 * h, -.01606892 * w, .3892545 * h, -.01205169 * w, .1944299 * h)))\r\n    .setSpots(.1, .1, .9, .9);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"StopSign\", function (shape, w, h) {\r\n  var part = 1 / (Math.SQRT2 + 2);\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(part * w, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, (1 - part) * w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, part * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, (1 - part) * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, (1 - part) * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, part * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, (1 - part) * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, part * h).close()))\r\n    .setSpots(part / 2, part / 2, 1 - part / 2, 1 - part / 2);\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"Pie\", 0, new FigureParameter(\"Start\", 0, -360, 360));\r\ngo.Shape.setFigureParameter(\"Pie\", 1, new FigureParameter(\"Sweep\", 315, -360, 360));\r\ngo.Shape.defineFigureGenerator(\"Pie\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  var param2 = shape ? shape.parameter2 : NaN;\r\n  if (isNaN(param1)) param1 = 0; // default values PARAMETER 1 is for Start Angle\r\n  if (isNaN(param2)) param2 = 315; // default values PARAMETER 2 is for Sweep Angle\r\n\r\n  var start = param1 % 360;\r\n  if (start < 0) start += 360;\r\n  var sweep = param2 % 360;\r\n  var rad = Math.min(w, h) / 2;\r\n\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(rad, rad)  // start point\r\n      .add(new go.PathSegment(go.PathSegment.Arc,\r\n        start, sweep,  // angles\r\n        rad, rad,  // center\r\n        rad, rad)  // radius\r\n        .close()));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"PiePiece\", function (shape, w, h) {\r\n  var factor = KAPPA / Math.SQRT2 * .5;\r\n  var x1 = Math.SQRT2 / 2;\r\n  var y1 = 1 - Math.SQRT2 / 2;\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(w, h, true)\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, x1 * w, y1 * h, w, (1 - factor) * h, (x1 + factor) * w, (y1 + factor) * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, h).close()));\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"ThickCross\", 0, new FigureParameter(\"Thickness\", 30));\r\ngo.Shape.defineFigureGenerator(\"ThickCross\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1) || param1 < 0) param1 = 30;\r\n\r\n  var t = Math.min(param1, w) / 2;\r\n  var mx = w / 2;\r\n  var my = h / 2;\r\n\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(mx - t, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx + t, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx + t, my - t))\r\n\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, my - t))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, my + t))\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx + t, my + t))\r\n\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx + t, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx - t, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx - t, my + t))\r\n\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, my + t))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, my - t))\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx - t, my - t).close()));\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"ThinCross\", 0, new FigureParameter(\"Thickness\", 10));\r\ngo.Shape.defineFigureGenerator(\"ThinCross\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1) || param1 < 0) param1 = 10;\r\n\r\n  var t = Math.min(param1, w) / 2;\r\n  var mx = w / 2;\r\n  var my = h / 2;\r\n\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(mx - t, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx + t, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx + t, my - t))\r\n\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, my - t))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, my + t))\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx + t, my + t))\r\n\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx + t, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx - t, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx - t, my + t))\r\n\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, my + t))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, my - t))\r\n      .add(new go.PathSegment(go.PathSegment.Line, mx - t, my - t).close()));\r\n});\r\n\r\n\r\ngo.Shape.setFigureParameter(\"ThickX\", 0, new FigureParameter(\"Thickness\", 30));\r\ngo.Shape.defineFigureGenerator(\"ThickX\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1) || param1 < 0) param1 = 30;\r\n  if (w === 0 || h === 0) {\r\n    var geo = new go.Geometry(go.Geometry.Rectangle);\r\n    geo.startX = 0;\r\n    geo.startY = 0;\r\n    geo.endX = w;\r\n    geo.endY = h;\r\n    return geo;\r\n  } else {\r\n    var w2 = w / 2;\r\n    var h2 = h / 2;\r\n    var a2 = Math.atan2(h, w);\r\n    var dx = param1 - Math.min(Math.cos(a2) * param1 / 2, w2);\r\n    var dy = param1 - Math.min(Math.sin(a2) * param1 / 2, h2);\r\n\r\n    var geo = new go.Geometry();\r\n    var fig = new go.PathFigure(dx, 0, true);\r\n    geo.add(fig);\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, w2, .2 * h));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, w - dx, 0));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, w, dy));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, h2));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, w, h - dy));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, w - dx, h));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, w2, .8 * h));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, dx, h));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, 0, h - dy));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, h2));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, 0, dy).close());\r\n    return geo;\r\n  }\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"ThinX\", 0, new FigureParameter(\"Thickness\", 10));\r\ngo.Shape.defineFigureGenerator(\"ThinX\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1) || param1 < 0) param1 = 10;\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.1 * w, 0, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .4 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .6 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .4 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .1 * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"SquareIBeam\", 0, new FigureParameter(\"BeamWidth\", 0.2, 0.1, 0.9));\r\ngo.Shape.defineFigureGenerator(\"SquareIBeam\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // width of the ibeam in % of the total width\r\n  if (isNaN(param1)) param1 = .2;\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, param1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (.5 + param1 / 2) * w, param1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (.5 + param1 / 2) * w, (1 - param1) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, (1 - param1) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, (1 - param1) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (.5 - param1 / 2) * w, (1 - param1) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (.5 - param1 / 2) * w, param1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, param1 * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"RoundedIBeam\", 0, new FigureParameter(\"Curviness\", .5, .05, .65));\r\ngo.Shape.defineFigureGenerator(\"RoundedIBeam\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // curviness of the ibeam relative to total width\r\n  if (isNaN(param1)) param1 = .5;\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, h, Math.abs((1 - param1)) * w, .25 * h, Math.abs((1 - param1)) * w, .75 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0, param1 * w, .75 * h,\r\n    param1 * w, .25 * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"HalfEllipse\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, KAPPA * w, 0, w, (.5 - KAPPA / 2) * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0, h, w, (.5 + KAPPA / 2) * h, KAPPA * w, h).close()))\r\n    .setSpots(0, 0.156, 0.844, 0.844);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Crescent\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        0, h, w, 0, w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier,\r\n        0, 0, 0.5 * w, 0.75 * h, 0.5 * w, 0.25 * h).close()))\r\n    .setSpots(.311, 0.266, 0.744, 0.744);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Heart\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(.5 * w, h, true)\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0, .3 * h, .1 * w, .8 * h, 0, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .3 * h, 0, 0, .45 * w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, w, .3 * h, .55 * w, 0, w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h, w, .5 * h, .9 * w, .8 * h).close()))\r\n    .setSpots(.14, .29, .86, .78);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Spade\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(.5 * w, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, .51 * w, .01 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, .6 * w, .2 * h, w, .25 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, .55 * w, .7 * h, w, .8 * h, .6 * w, .8 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, .75 * w, h, .5 * w, .75 * h, .55 * w, .95 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .25 * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, .45 * w, .7 * h, .45 * w, .95 * h, .5 * w, .75 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0, .5 * h, .4 * w, .8 * h, 0, .8 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, .49 * w, .01 * h, 0, .25 * h, .4 * w, .2 * h).close()))\r\n    .setSpots(.14, .26, .86, .78);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Club\", function (shape, w, h) {\r\n  var geo = new go.Geometry()\r\n  var fig = new go.PathFigure(.4 * w, .6 * h, true);\r\n  geo.add(fig);\r\n  // Start the base\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .15 * w, h, .5 * w, .75 * h, .45 * w, .95 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .85 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .6 * w, .6 * h, .55 * w, .95 * h, .5 * w, .75 * h));\r\n  // First circle:\r\n  var r = .2; // radius\r\n  var cx = .3; // offset from Center x\r\n  var cy = 0; // offset from Center y\r\n  var d = r * KAPPA;\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 + r + cy) * h,\r\n    (.5 - r + cx) * w, (.5 + d + cy) * h,\r\n    (.5 - d + cx) * w, (.5 + r + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (1 - .5 + r + cx) * w, (.5 + cy) * h,\r\n    (.5 + d + cx) * w, (.5 + r + cy) * h,\r\n    (.5 + r + cx) * w, (.5 + d + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 - r + cy) * h,\r\n    (1 - .5 + r + cx) * w, (.5 - d + cy) * h,\r\n    (.5 + d + cx) * w, (.5 - r + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.65) * w, (0.36771243) * h,\r\n    (.5 - d + cx) * w, (.5 - r + cy) * h,\r\n    (.5 - r + cx + .05) * w, (.5 - d + cy - .02) * h));\r\n  r = .2; // radius\r\n  cx = 0; // offset from Center x\r\n  cy = -.3; // offset from Center y\r\n  d = r * KAPPA;\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (1 - .5 + r + cx) * w, (.5 + cy) * h,\r\n    (.5 + d + cx) * w, (.5 + r + cy) * h,\r\n    (.5 + r + cx) * w, (.5 + d + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 - r + cy) * h,\r\n    (1 - .5 + r + cx) * w, (.5 - d + cy) * h,\r\n    (.5 + d + cx) * w, (.5 - r + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 - r + cx) * w, (.5 + cy) * h,\r\n    (.5 - d + cx) * w, (.5 - r + cy) * h,\r\n    (.5 - r + cx) * w, (.5 - d + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 - d + cx) * w, (.5 + r + cy) * h,\r\n    (.5 - r + cx) * w, (.5 + d + cy) * h,\r\n    (.5 - d + cx) * w, (.5 + r + cy) * h));\r\n  r = .2; // radius\r\n  cx = -.3; // offset from Center x\r\n  cy = 0; // offset from Center y\r\n  d = r * KAPPA;\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 - r + cy) * h,\r\n    (1 - .5 + r + cx - .05) * w, (.5 - d + cy - .02) * h,\r\n    (.5 + d + cx) * w, (.5 - r + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 - r + cx) * w, (.5 + cy) * h,\r\n    (.5 - d + cx) * w, (.5 - r + cy) * h,\r\n    (.5 - r + cx) * w, (.5 - d + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 + r + cy) * h,\r\n    (.5 - r + cx) * w, (.5 + d + cy) * h,\r\n    (.5 - d + cx) * w, (.5 + r + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .4 * w, .6 * h,\r\n    (.5 + d + cx) * w, (.5 + r + cy) * h,\r\n    (.5 + r + cx) * w, (.5 + d + cy) * h).close());\r\n  geo.setSpots(.06, .33, .93, .68);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"YinYang\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w * 0.5, 0, true);\r\n  geo.add(fig);\r\n  // Right semi-circle\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 270, 180, w * 0.5, w * 0.5, w * 0.5, w * 0.5));\r\n  // bottom semi-circle\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 90, -180, w * 0.5, w * 0.75, w * 0.25, w * 0.25));\r\n  // top semi-circle\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 90, 180, w * 0.5, w * 0.25, w * 0.25, w * 0.25));\r\n  var radius = .1;  // of the small circles\r\n  var centerx = .5;\r\n  var centery = .25;\r\n  // Top small circle, goes counter-clockwise\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, (centerx + radius) * w, (centery) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 0, -360, w * centerx, h * centery, radius * w, radius * w).close()); // Right semi-circle\r\n  // Left semi-circle\r\n  fig = new go.PathFigure(w * 0.5, 0, false);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 270, -180, w * 0.5, w * 0.5, w * 0.5, w * 0.5));\r\n  centery = .75;\r\n  // Bottom small circle\r\n  fig = new go.PathFigure((centerx + radius) * w, (centery) * h, true); // Not a subpath\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 0, 360, w * centerx, h * centery, radius * w, radius * w).close()); // Right semi-circle\r\n  geo.defaultStretch = go.GraphObject.Uniform;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Peace\", function (shape, w, h) {\r\n  var a = 1.0 - 0.1464466094067262;  // at 45 degrees\r\n  var w2 = 0.5 * w;\r\n  var h2 = 0.5 * h;\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(w2, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Arc, 270, 360, w2, h2, w2, h2))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w2, h))\r\n      .add(new go.PathSegment(go.PathSegment.Move, w2, h2))\r\n      .add(new go.PathSegment(go.PathSegment.Line, (1.0 - a) * w, a * h))\r\n      .add(new go.PathSegment(go.PathSegment.Move, w2, h2))\r\n      .add(new go.PathSegment(go.PathSegment.Line, a * w, a * h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"NotAllowed\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpOffset = KAPPA * .5;\r\n  var radius = .5;\r\n  var centerx = .5;\r\n  var centery = .5;\r\n  var fig = new go.PathFigure(centerx * w, (centery - radius) * h);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery - radius) * h,\r\n    (centerx - radius) * w, (centery - cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery + radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery + radius) * h,\r\n    (centerx + radius) * w, (centery + cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery - radius) * h));\r\n  // Inner circle, composed of two parts, separated by\r\n  // a beam across going from top-right to bottom-left.\r\n  radius = .40;\r\n  cpOffset = KAPPA * .40;\r\n  // First we cut up the top right 90 degree curve into two smaller\r\n  // curves.\r\n  // Since its clockwise, StartOfArrow is the first of the two points\r\n  // on the circle. EndOfArrow is the other one.\r\n  var startOfArrowc1 = tempPoint();\r\n  var startOfArrowc2 = tempPoint();\r\n  var startOfArrow = tempPoint();\r\n  var unused = tempPoint();\r\n  breakUpBezier(centerx, centery - radius,\r\n    centerx + cpOffset, centery - radius,\r\n    centerx + radius, centery - cpOffset,\r\n    centerx + radius, centery, .42, startOfArrowc1,\r\n    startOfArrowc2, startOfArrow, unused, unused);\r\n  var endOfArrowc1 = tempPoint();\r\n  var endOfArrowc2 = tempPoint();\r\n  var endOfArrow = tempPoint();\r\n  breakUpBezier(centerx, centery - radius,\r\n    centerx + cpOffset, centery - radius,\r\n    centerx + radius, centery - cpOffset,\r\n    centerx + radius, centery, .58, unused,\r\n    unused, endOfArrow, endOfArrowc1, endOfArrowc2);\r\n  // Cut up the bottom left 90 degree curve into two smaller curves.\r\n  var startOfArrow2c1 = tempPoint();\r\n  var startOfArrow2c2 = tempPoint();\r\n  var startOfArrow2 = tempPoint();\r\n  breakUpBezier(centerx, centery + radius,\r\n    centerx - cpOffset, centery + radius,\r\n    centerx - radius, centery + cpOffset,\r\n    centerx - radius, centery, .42, startOfArrow2c1,\r\n    startOfArrow2c2, startOfArrow2, unused, unused);\r\n  var endOfArrow2c1 = tempPoint();\r\n  var endOfArrow2c2 = tempPoint();\r\n  var endOfArrow2 = tempPoint();\r\n  breakUpBezier(centerx, centery + radius,\r\n    centerx - cpOffset, centery + radius,\r\n    centerx - radius, centery + cpOffset,\r\n    centerx - radius, centery, .58, unused,\r\n    unused, endOfArrow2, endOfArrow2c1, endOfArrow2c2);\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, endOfArrow2.x * w, endOfArrow2.y * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, endOfArrow2c1.x * w, endOfArrow2c1.y * h,\r\n    endOfArrow2c2.x * w, endOfArrow2c2.y * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, startOfArrow.x * w, startOfArrow.y * h, startOfArrowc1.x * w, startOfArrowc1.y * h,\r\n    startOfArrowc2.x * w, startOfArrowc2.y * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, endOfArrow2.x * w, endOfArrow2.y * h).close());\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, startOfArrow2.x * w, startOfArrow2.y * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, endOfArrow.x * w, endOfArrow.y * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, endOfArrowc1.x * w, endOfArrowc1.y * h,\r\n    endOfArrowc2.x * w, endOfArrowc2.y * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, startOfArrow2.x * w, startOfArrow2.y * h, startOfArrow2c1.x * w, startOfArrow2c1.y * h,\r\n    startOfArrow2c2.x * w, startOfArrow2c2.y * h).close());\r\n  freePoint(startOfArrowc1);\r\n  freePoint(startOfArrowc2);\r\n  freePoint(startOfArrow);\r\n  freePoint(unused);\r\n  freePoint(endOfArrowc1);\r\n  freePoint(endOfArrowc2);\r\n  freePoint(endOfArrow);\r\n  freePoint(startOfArrow2c1);\r\n  freePoint(startOfArrow2c2);\r\n  freePoint(startOfArrow2);\r\n  freePoint(endOfArrow2c1);\r\n  freePoint(endOfArrow2c2);\r\n  freePoint(endOfArrow2);\r\n  geo.defaultStretch = go.GraphObject.Uniform;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Fragile\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, .25 * w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .2 * w, .15 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .3 * w, .25 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .29 * w, .33 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .35 * w, .25 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .3 * w, .15 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .4 * w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n      // Left Side\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, .55 * w, .5 * h, w, .25 * h, .75 * w, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .55 * w, .9 * h))\r\n      // The base\r\n      .add(new go.PathSegment(go.PathSegment.Line, .7 * w, .9 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .7 * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .3 * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .3 * w, .9 * h))\r\n      // Right side\r\n      .add(new go.PathSegment(go.PathSegment.Line, .45 * w, .9 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .45 * w, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0, 0, .25 * w, .5 * h, 0, .25 * h).close()));\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"HourGlass\", 0, new FigureParameter(\"Thickness\", 30));\r\ngo.Shape.defineFigureGenerator(\"HourGlass\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // width at middle of hourglass\r\n  if (isNaN(param1) || param1 < 0) param1 = 30;\r\n  if (param1 > w) param1 = w;\r\n  var x1 = (w - param1) / 2;\r\n  var x2 = x1 + param1;\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(x2, 0.5 * h)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, x1, 0.5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0).close()));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Lightning\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0.55 * h)\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.3 * w, 0.45 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0.45 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.7 * w, 0.55 * h).close()));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"GenderMale\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpOffset = KAPPA * .4;\r\n  var radius = .4;\r\n  var centerx = .5;\r\n  var centery = .5;\r\n  var unused = tempPoint();\r\n  var mid = tempPoint();\r\n  var c1 = tempPoint();\r\n  var c2 = tempPoint();\r\n  var fig = new go.PathFigure((centerx - radius) * w, centery * h, false);\r\n  geo.add(fig);\r\n\r\n  // Outer circle\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  breakUpBezier(centerx, centery - radius,\r\n    centerx + cpOffset, centery - radius,\r\n    centerx + radius, centery - cpOffset,\r\n    centerx + radius, centery, .44, c1,\r\n    c2, mid, unused, unused);\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, mid.x * w, mid.y * h, c1.x * w, c1.y * h, c2.x * w, c2.y * h));\r\n  var startOfArrow = tempPointAt(mid.x, mid.y);\r\n  breakUpBezier(centerx, centery - radius,\r\n    centerx + cpOffset, centery - radius,\r\n    centerx + radius, centery - cpOffset,\r\n    centerx + radius, centery, .56, unused,\r\n    unused, mid, c1, c2);\r\n  var endOfArrow = tempPointAt(mid.x, mid.y);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (startOfArrow.x * .1 + .95 * .9) * w,\r\n    (startOfArrow.y * .1) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .85 * w, (startOfArrow.y * .1) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .85 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .15 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (endOfArrow.x * .1 + .9) * w, .15 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (endOfArrow.x * .1 + .9) * w,\r\n    (endOfArrow.y * .1 + .05 * .9) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, endOfArrow.x * w, endOfArrow.y * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, c1.x * w, c1.y * h, c2.x * w, c2.y * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  // Inner circle\r\n  radius = .35;\r\n  cpOffset = KAPPA * .35;\r\n  var fig2 = new go.PathFigure(centerx * w, (centery - radius) * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery - radius) * h,\r\n    (centerx - radius) * w, (centery - cpOffset) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery + radius) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery + radius) * h,\r\n    (centerx + radius) * w, (centery + cpOffset) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx + radius) * w, (centery - cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery - radius) * h));\r\n  var fig3 = new go.PathFigure((centerx - radius) * w, centery * h, false);\r\n  geo.add(fig3);\r\n  freePoint(unused);\r\n  freePoint(mid);\r\n  freePoint(c1);\r\n  freePoint(c2);\r\n  freePoint(startOfArrow);\r\n  freePoint(endOfArrow);\r\n  geo.spot1 = new go.Spot(.202, .257);\r\n  geo.spot2 = new go.Spot(.792, .739);\r\n  geo.defaultStretch = go.GraphObject.Uniform;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"GenderFemale\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  // Outer Circle\r\n  var r = .375; // radius\r\n  var cx = 0; // offset from Center x\r\n  var cy = -.125; // offset from Center y\r\n  var d = r * KAPPA;\r\n  var fig = new go.PathFigure((.525 + cx) * w, (.5 + r + cy) * h, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (1 - .5 + r + cx) * w, (.5 + cy) * h, (.5 + d + cx) * w, (.5 + r + cy) * h,\r\n    (.5 + r + cx) * w, (.5 + d + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 - r + cy) * h, (1 - .5 + r + cx) * w, (.5 - d + cy) * h,\r\n    (.5 + d + cx) * w, (.5 - r + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 - r + cx) * w, (.5 + cy) * h, (.5 - d + cx) * w, (.5 - r + cy) * h,\r\n    (.5 - r + cx) * w, (.5 - d + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.475 + cx) * w, (.5 + r + cy) * h, (.5 - r + cx) * w, (.5 + d + cy) * h,\r\n    (.5 - d + cx) * w, (.5 + r + cy) * h));\r\n  // Legs\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .475 * w, .85 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .425 * w, .85 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .425 * w, .9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .475 * w, .9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .475 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .525 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .525 * w, .9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .575 * w, .9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .575 * w, .85 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .525 * w, .85 * h).close());\r\n  // Inner circle\r\n  r = .325; // radius\r\n  cx = 0; // offset from Center x\r\n  cy = -.125; // offset from Center y\r\n  d = r * KAPPA;\r\n  var fig = new go.PathFigure((1 - .5 + r + cx) * w, (.5 + cy) * h, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 + r + cy) * h, (.5 + r + cx) * w, (.5 + d + cy) * h,\r\n    (.5 + d + cx) * w, (.5 + r + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 - r + cx) * w, (.5 + cy) * h, (.5 - d + cx) * w, (.5 + r + cy) * h,\r\n    (.5 - r + cx) * w, (.5 + d + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 + cx) * w, (.5 - r + cy) * h, (.5 - r + cx) * w, (.5 - d + cy) * h,\r\n    (.5 - d + cx) * w, (.5 - r + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (1 - .5 + r + cx) * w, (.5 + cy) * h, (.5 + d + cx) * w, (.5 - r + cy) * h,\r\n    (1 - .5 + r + cx) * w, (.5 - d + cy) * h));\r\n  var fig = new go.PathFigure((.525 + cx) * w, (.5 + r + cy) * h, false);\r\n  geo.add(fig);\r\n  geo.spot1 = new go.Spot(.232, .136);\r\n  geo.spot2 = new go.Spot(.682, .611);\r\n  geo.defaultStretch = go.GraphObject.Uniform;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LogicImplies\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1)) param1 = .2;  // Distance the arrow folds from the right\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure((1 - param1) * w, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, (1 - param1) * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Move, 0, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, .5 * h)))\r\n    .setSpots(0, 0, 0.8, 0.5);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LogicIff\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1)) param1 = .2; // Distance the arrow folds from the right\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure((1 - param1) * w, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, (1 - param1) * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Move, 0, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Move, param1 * w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, param1 * w, h)))\r\n    .setSpots(0.2, 0, 0.8, 0.5);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LogicNot\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LogicAnd\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, h, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h)))\r\n    .setSpots(0.25, 0.5, 0.75, 1);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LogicOr\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, .5 * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0)))\r\n    .setSpots(0.219, 0, 0.78, 0.409);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LogicXor\", function (shape, w, h) {\r\n  var geo = new go.Geometry()\r\n    .add(new go.PathFigure(.5 * w, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, .5 * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Move, 0, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Arc, 0, 360, .5 * w, .5 * h, .5 * w, .5 * h)));\r\n  geo.defaultStretch = go.GraphObject.Uniform;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LogicTruth\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Move, .5 * w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .5 * w, h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LogicFalsity\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, h, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Move, .5 * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LogicThereExists\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Move, w, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, h)));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LogicForAll\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, .5 * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Move, .25 * w, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, .75 * w, .5 * h)))\r\n    .setSpots(0.25, 0, 0.75, 0.5);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LogicIsDefinedAs\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Move, 0, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, .5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Move, 0, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h)))\r\n    .setSpots(0.01, 0.01, 0.99, 0.49);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LogicIntersect\", function (shape, w, h) {\r\n  var radius = 0.5;\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, h, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, radius * h))\r\n      .add(new go.PathSegment(go.PathSegment.Arc, 180, 180, radius * w, radius * h, radius * w, radius * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h)))\r\n    .setSpots(0, 0.5, 1, 1);\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LogicUnion\", function (shape, w, h) {\r\n  var radius = 0.5;\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(w, 0, false)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, radius * h))\r\n      .add(new go.PathSegment(go.PathSegment.Arc, 0, 180, radius * w, radius * h, radius * w, radius * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, 0)))\r\n    .setSpots(0, 0, 1, 0.5);\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"Arrow\", 0, new FigureParameter(\"ArrowheadWidth\", .3, .01, .99));\r\ngo.Shape.setFigureParameter(\"Arrow\", 1, new FigureParameter(\"TailHeight\", .3, .01, .99));\r\ngo.Shape.defineFigureGenerator(\"Arrow\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // % width of arrowhead\r\n  if (isNaN(param1)) param1 = .3;\r\n  var param2 = shape ? shape.parameter2 : NaN; // % height of tail\r\n  if (isNaN(param2)) param2 = .3;\r\n\r\n  var x = (1 - param1) * w;\r\n  var y1 = (.5 - param2 / 2) * h;\r\n  var y2 = (.5 + param2 / 2) * h;\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, y1, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y2).close());\r\n  geo.spot1 = new go.Spot(0, y1 / h);\r\n  var temp = getIntersection(0, y2 / h,\r\n    1, y2 / h,\r\n    x / w, 1,\r\n    1, .5,\r\n    tempPoint());\r\n  geo.spot2 = new go.Spot(temp.x, temp.y);\r\n  freePoint(temp);\r\n  return geo;\r\n});\r\n\r\n// Arrow with absolutes instead of scaling\r\ngo.Shape.setFigureParameter(\"Arrow2\", 0, new FigureParameter(\"ArrowheadWidth\", 30));\r\ngo.Shape.setFigureParameter(\"Arrow2\", 0, new FigureParameter(\"TailHeight\", 30));\r\ngo.Shape.defineFigureGenerator(\"Arrow2\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // width of arrowhead\r\n  if (isNaN(param1)) param1 = 30;\r\n  if (param1 > w) param1 = w;\r\n  var param2 = shape ? shape.parameter2 : NaN; // height of tail\r\n  if (isNaN(param2)) param2 = 30;\r\n  param2 = Math.min(param2, h / 2);\r\n\r\n  var x = w - param1;\r\n  var y1 = (h - param2) / 2;\r\n  var y2 = y1 + param2;\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, y1, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, x, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y2).close());\r\n  geo.spot1 = new go.Spot(0, y1 / h);\r\n  var temp = getIntersection(0, y2 / h,\r\n    1, y2 / h,\r\n    x / w, 1,\r\n    1, .5,\r\n    tempPoint());\r\n  geo.spot2 = new go.Spot(temp.x, temp.y);\r\n  freePoint(temp);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Chevron\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"DoubleArrow\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 0.214 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 1.0 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 1.0 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 0.786 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 1.0 * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"DoubleEndArrow\", 0, new FigureParameter(\"ConnecterHeight\", .3, .01, .99));\r\ngo.Shape.defineFigureGenerator(\"DoubleEndArrow\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // height of midsection\r\n  if (isNaN(param1)) param1 = .3;\r\n\r\n  var y1 = (.5 - param1 / 2) * h;\r\n  var y2 = (.5 + param1 / 2) * h;\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, .5 * h, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, 0).close());\r\n  var temp = getIntersection(0, .5,\r\n    .3, 0,\r\n    0, y1 / h,\r\n    .1, y1 / h,\r\n    tempPoint());\r\n  geo.spot1 = new go.Spot(temp.x, temp.y);\r\n  temp = getIntersection(.7, 1,\r\n    1, .5,\r\n    0, y2 / h,\r\n    1, y2 / h,\r\n    temp);\r\n  geo.spot2 = new go.Spot(temp.x, temp.y);\r\n  freePoint(temp);\r\n  return geo;\r\n});\r\n\r\n// DoubleEndArrow with absolutes instead of scaling\r\ngo.Shape.setFigureParameter(\"DoubleEndArrow2\", 0, new FigureParameter(\"ConnecterHeight\", 40));\r\ngo.Shape.setFigureParameter(\"DoubleEndArrow2\", 1, new FigureParameter(\"ArrowHeight\", 100));\r\ngo.Shape.defineFigureGenerator(\"DoubleEndArrow2\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // height of midsection\r\n  if (isNaN(param1)) param1 = 40;\r\n  var param2 = shape ? shape.parameter2 : NaN; // height of arrows\r\n  if (isNaN(param2)) param2 = 100;\r\n\r\n  /*\r\n    y1outer\r\n      /|     |\\\r\n     / |     | \\\r\n    /  y1----   \\\r\n   /             \\\r\n   \\             /\r\n    \\  y2----   /\r\n     \\ |     | /\r\n      \\|     |/\r\n    y2outer\r\n  */\r\n  var y1 = (h - param1) / 2;\r\n  var y2 = y1 + param1;\r\n  var y1outer = (h - param2) / 2;\r\n  var y2outer = y1outer + param2;\r\n  if (param1 > h || param2 > h) {\r\n    if (param2 > param1) {\r\n      param1 = param1 * h / param2; // use similar ratio\r\n      y1 = (h - param1) / 2;\r\n      y2 = y1 + param1;\r\n      y1outer = 0;\r\n      y2outer = h;\r\n    } else {\r\n      y1 = 0;\r\n      y2 = h;\r\n      y1outer = 0;\r\n      y2outer = h;\r\n    }\r\n  }\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, .5 * h, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2outer));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, y2outer));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, y1outer));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1outer).close());\r\n  var temp = getIntersection(0, .5,\r\n    .3, y1outer / h,\r\n    0, y1 / h,\r\n    1, y1 / h,\r\n    tempPoint());\r\n  geo.spot1 = new go.Spot(temp.x, temp.y);\r\n  temp = getIntersection(.7, y2outer / h,\r\n    1, .5,\r\n    0, y2 / h,\r\n    1, y2 / h,\r\n    temp);\r\n  geo.spot2 = new go.Spot(temp.x, temp.y);\r\n  freePoint(temp);\r\n\r\n  return geo;\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"IBeamArrow\", 0, new FigureParameter(\"ConnectorHeight\", .7, .51, .97));\r\ngo.Shape.defineFigureGenerator(\"IBeamArrow\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // height of midsection\r\n  if (isNaN(param1)) param1 = .3;\r\n\r\n  var y1 = (.5 - param1 / 2) * h;\r\n  var y2 = (.5 + param1 / 2) * h;\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, .5 * h, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, 0).close());\r\n  geo.spot1 = new go.Spot(0, y1 / h);\r\n  var temp = getIntersection(.7, 1,\r\n    1, .5,\r\n    0, y2 / h,\r\n    1, y2 / h,\r\n    tempPoint());\r\n  geo.spot2 = new go.Spot(temp.x, temp.y);\r\n  freePoint(temp);\r\n  return geo;\r\n});\r\n\r\n// IBeamArrow with absolutes instead of scaling\r\ngo.Shape.setFigureParameter(\"IBeamArrow2\", 0, new FigureParameter(\"ConnectorHeight\", 40));\r\ngo.Shape.setFigureParameter(\"IBeamArrow2\", 1, new FigureParameter(\"BeamArrowHeight\", 100));\r\ngo.Shape.defineFigureGenerator(\"IBeamArrow2\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // height of midsection\r\n  if (isNaN(param1)) param1 = 40;\r\n  var param2 = shape ? shape.parameter2 : NaN; // height of beam and arrow\r\n  if (isNaN(param2)) param2 = 100;\r\n\r\n  var y1 = (h - param1) / 2;\r\n  var y2 = y1 + param1;\r\n  var y1outer = (h - param2) / 2;\r\n  var y2outer = y1outer + param2;\r\n  if (param1 > h || param2 > h) {\r\n    if (param2 > param1) {\r\n      param1 = param1 * h / param2; // use similar ratio\r\n      y1 = (h - param1) / 2;\r\n      y2 = y1 + param1;\r\n      y1outer = 0;\r\n      y2outer = h;\r\n    } else {\r\n      y1 = 0;\r\n      y2 = h;\r\n      y1outer = 0;\r\n      y2outer = h;\r\n    }\r\n  }\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, .5 * h, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2outer));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, y2outer));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y2outer));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y1outer));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, y1outer));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1outer).close());\r\n  geo.spot1 = new go.Spot(0, y1 / h);\r\n  var temp = getIntersection(.7, y2outer / h,\r\n    1, .5,\r\n    0, y2 / h,\r\n    1, y2 / h,\r\n    tempPoint());\r\n  geo.spot2 = new go.Spot(temp.x, temp.y);\r\n  freePoint(temp);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"Pointer\", 0, new FigureParameter(\"BackPoint\", .1, 0, .2));\r\ngo.Shape.defineFigureGenerator(\"Pointer\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // how much the back of the pointer comes in\r\n  if (isNaN(param1)) param1 = .1;\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, .5 * h, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0).close());\r\n  geo.spot1 = new go.Spot(param1, .35);\r\n  var temp = getIntersection(.2, .65, 1, .65, 0, 1, 1, .5, tempPoint());  // ?? constant\r\n  geo.spot2 = new go.Spot(temp.x, temp.y);\r\n  freePoint(temp);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"RoundedPointer\", 0, new FigureParameter(\"RoundedEdge\", .3, 0, .5));\r\ngo.Shape.defineFigureGenerator(\"RoundedPointer\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // how much the curved back of the pointer comes in\r\n  if (isNaN(param1)) param1 = .3;\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, .5 * h, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0, param1 * w, .75 * h,\r\n    param1 * w, .25 * h).close());\r\n  geo.spot1 = new go.Spot(param1, .35);\r\n  var temp = getIntersection(0, .65, 1, .65, 0, 1, 1, .5, tempPoint());  // ?? constant\r\n  geo.spot2 = new go.Spot(temp.x, temp.y);\r\n  freePoint(temp);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"SplitEndArrow\", 0, new FigureParameter(\"TailHeight\", 0.4, 0.01, .99));\r\ngo.Shape.defineFigureGenerator(\"SplitEndArrow\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // % height of arrow tail\r\n  if (isNaN(param1)) param1 = .4;\r\n\r\n  var y1 = (.5 - param1 / 2) * h;\r\n  var y2 = (.5 + param1 / 2) * h;\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, .5 * h, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, 0).close());\r\n  geo.spot1 = new go.Spot(.2, .3);\r\n  var temp = getIntersection(.7, 1,\r\n    1, .5,\r\n    0, y2 / h,\r\n    1, y2 / h,\r\n    tempPoint());\r\n  geo.spot2 = new go.Spot(temp.x, temp.y);\r\n  freePoint(temp);\r\n  return geo;\r\n});\r\n\r\n// SplitEndArrow with absolutes instead of scaling\r\ngo.Shape.setFigureParameter(\"SplitEndArrow2\", 0, new FigureParameter(\"TailThickness\", 50));\r\ngo.Shape.defineFigureGenerator(\"SplitEndArrow2\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;  // height of arrow tail\r\n  if (isNaN(param1)) param1 = 50;\r\n\r\n  var y1 = (h - param1) / 2;\r\n  var y2 = y1 + param1;\r\n  if (param1 > h) {\r\n    y1 = 0;\r\n    y2 = h;\r\n  }\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, .5 * h, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y2));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, y1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, 0).close());\r\n  geo.spot1 = new go.Spot(.2, y1 / h);\r\n  var temp = getIntersection(.7, 1,\r\n    1, .5,\r\n    0, y2 / h,\r\n    1, y2 / h,\r\n    tempPoint());\r\n  geo.spot2 = new go.Spot(temp.x, temp.y);\r\n  freePoint(temp);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"SquareArrow\", 0, new FigureParameter(\"ArrowPoint\", .7, .2, .9));\r\ngo.Shape.defineFigureGenerator(\"SquareArrow\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // pointiness of arrow, lower is more pointy\r\n  if (isNaN(param1)) param1 = .7;\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, .5 * h, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1 * w, 0).close());\r\n  geo.spot1 = go.Spot.TopLeft;\r\n  geo.spot2 = new go.Spot(param1, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Cone1\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpxOffset = KAPPA * .5;\r\n  var cpyOffset = KAPPA * .1;\r\n  var fig = new go.PathFigure(0, .9 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h, w, (.9 + cpyOffset) * h,\r\n    (.5 + cpxOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .9 * h, (.5 - cpxOffset) * w, h,\r\n    0, (.9 + cpyOffset) * h).close());\r\n  geo.spot1 = new go.Spot(.25, .5);\r\n  geo.spot2 = new go.Spot(.75, .97);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Cone2\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, .9 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .9 * h, (1 - .85 / .9) * w, h,\r\n    (.85 / .9) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .9 * h).close());\r\n  var fig2 = new go.PathFigure(0, .9 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w, .9 * h, (1 - .85 / .9) * w, .8 * h,\r\n    (.85 / .9) * w, .8 * h));\r\n  geo.spot1 = new go.Spot(.25, .5);\r\n  geo.spot2 = new go.Spot(.75, .82);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Cube1\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.5 * w, h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .85 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .15 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .15 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .85 * h).close());\r\n  var fig2 = new go.PathFigure(.5 * w, h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .3 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, .15 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .5 * w, .3 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, .15 * h));\r\n  geo.spot1 = new go.Spot(0, .3);\r\n  geo.spot2 = new go.Spot(.5, .85);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Cube2\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, .3 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .7 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 0).close());\r\n  var fig2 = new go.PathFigure(0, .3 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .7 * w, .3 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .7 * w, .3 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .7 * w, h));\r\n  geo.spot1 = new go.Spot(0, .3);\r\n  geo.spot2 = new go.Spot(.7, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Cylinder1\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;  // half the height of the ellipse\r\n  if (isNaN(param1)) param1 = 5; // default value\r\n  param1 = Math.min(param1, h / 3);\r\n\r\n  var geo = new go.Geometry();\r\n  var cpxOffset = KAPPA * .5;\r\n  var fig = new go.PathFigure(0, param1, true);\r\n  geo.add(fig);\r\n  // The base (top)\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, 0, 0, KAPPA * param1,\r\n    (.5 - cpxOffset) * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 1.0 * w, param1, (.5 + cpxOffset) * w, 0,\r\n    1.0 * w, KAPPA * param1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h - param1));\r\n  // Bottom curve\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, 1.0 * h, 1.0 * w, h - KAPPA * param1,\r\n    (.5 + cpxOffset) * w, 1.0 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h - param1, (.5 - cpxOffset) * w, 1.0 * h,\r\n    0, h - KAPPA * param1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, param1));\r\n\r\n  var fig2 = new go.PathFigure(w, param1, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, 2 * param1, 1.0 * w, 2 * param1 - KAPPA * param1,\r\n    (.5 + cpxOffset) * w, 2 * param1));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0, param1, (.5 - cpxOffset) * w, 2 * param1,\r\n    0, 2 * param1 - KAPPA * param1));\r\n\r\n  geo.spot1 = new go.Spot(0, 0, 0, 2 * param1);\r\n  geo.spot2 = new go.Spot(1, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Cylinder2\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;  // half the height of the ellipse\r\n  if (isNaN(param1)) param1 = 5; // default value\r\n  param1 = Math.min(param1, h / 3);\r\n\r\n  var geo = new go.Geometry();\r\n  var cpxOffset = KAPPA * .5;\r\n  var fig = new go.PathFigure(0, h - param1, true);\r\n  geo.add(fig);\r\n  // The body, starting and ending bottom left\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, param1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, 0, 0, KAPPA * param1,\r\n    (.5 - cpxOffset) * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, param1, (.5 + cpxOffset) * w, 0,\r\n    w, KAPPA * param1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h - param1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h, w, h - KAPPA * param1,\r\n    (.5 + cpxOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h - param1, (.5 - cpxOffset) * w, h,\r\n    0, h - KAPPA * param1));\r\n\r\n  var fig2 = new go.PathFigure(0, h - param1, false);\r\n  geo.add(fig2);\r\n  // The base (bottom)\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h - 2 * param1, 0, h - param1 - KAPPA * param1,\r\n    (.5 - cpxOffset) * w, h - 2 * param1));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w, h - param1, (.5 + cpxOffset) * w, h - 2 * param1,\r\n    w, h - param1 - KAPPA * param1));\r\n\r\n  geo.spot1 = new go.Spot(0, 0);\r\n  geo.spot2 = new go.Spot(1, 1, 0, -2 * param1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Cylinder3\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;  // half the width of the ellipse\r\n  if (isNaN(param1)) param1 = 5; // default value\r\n  param1 = Math.min(param1, w / 3);\r\n\r\n  var geo = new go.Geometry();\r\n  var cpyOffset = KAPPA * .5;\r\n  var fig = new go.PathFigure(param1, 0, true);\r\n  geo.add(fig);\r\n  // The body, starting and ending top left\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w - param1, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, w - KAPPA * param1, 0,\r\n    w, (.5 - cpyOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w - param1, h, w, (.5 + cpyOffset) * h,\r\n    w - KAPPA * param1, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .5 * h, KAPPA * param1, h,\r\n    0, (.5 + cpyOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, param1, 0, 0, (.5 - cpyOffset) * h,\r\n    KAPPA * param1, 0));\r\n\r\n  var fig2 = new go.PathFigure(param1, 0, false);\r\n  geo.add(fig2);\r\n  // Cylinder line (left)\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 2 * param1, .5 * h, param1 + KAPPA * param1, 0,\r\n    2 * param1, (.5 - cpyOffset) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, param1, h, 2 * param1, (.5 + cpyOffset) * h,\r\n    param1 + KAPPA * param1, h));\r\n\r\n  geo.spot1 = new go.Spot(0, 0, 2 * param1, 0);\r\n  geo.spot2 = new go.Spot(1, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Cylinder4\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;  // half the width of the ellipse\r\n  if (isNaN(param1)) param1 = 5; // default value\r\n  param1 = Math.min(param1, w / 3);\r\n\r\n  var geo = new go.Geometry();\r\n  var cpyOffset = KAPPA * .5;\r\n  var fig = new go.PathFigure(w - param1, 0, true);\r\n  geo.add(fig);\r\n  // The body, starting and ending top right\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, w - KAPPA * param1, 0,\r\n    w, (.5 - cpyOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w - param1, h, w, (.5 + cpyOffset) * h,\r\n    w - KAPPA * param1, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .5 * h, KAPPA * param1, h,\r\n    0, (.5 + cpyOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, param1, 0, 0, (.5 - cpyOffset) * h,\r\n    KAPPA * param1, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w - param1, 0));\r\n\r\n  var fig2 = new go.PathFigure(w - param1, 0, false);\r\n  geo.add(fig2);\r\n  // Cylinder line (right)\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w - 2 * param1, .5 * h, w - param1 - KAPPA * param1, 0,\r\n    w - 2 * param1, (.5 - cpyOffset) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w - param1, h, w - 2 * param1, (.5 + cpyOffset) * h,\r\n    w - param1 - KAPPA * param1, h));\r\n\r\n  geo.spot1 = new go.Spot(0, 0);\r\n  geo.spot2 = new go.Spot(1, 1, -2 * param1, 0);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Prism1\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.25 * w, .25 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  var fig2 = new go.PathFigure(.25 * w, .25 * h, false);\r\n  geo.add(fig2);\r\n  // Inner prism line\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\r\n  geo.spot1 = new go.Spot(.408, .172);\r\n  geo.spot2 = new go.Spot(.833, .662);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Prism2\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, .25 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .25 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, .75 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  var fig2 = new go.PathFigure(0, h, false);\r\n  geo.add(fig2);\r\n  // Inner prism lines\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .25 * w, .5 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, .25 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, .25 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .25 * w, .5 * h));\r\n  geo.spot1 = new go.Spot(.25, .5);\r\n  geo.spot2 = new go.Spot(.75, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Pyramid1\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.5 * w, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .75 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .75 * h).close());\r\n  var fig2 = new go.PathFigure(.5 * w, 0, false);\r\n  geo.add(fig2);\r\n  // Inner pyramind line\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\r\n  geo.spot1 = new go.Spot(.25, .367);\r\n  geo.spot2 = new go.Spot(.75, .875);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Pyramid2\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.5 * w, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .85 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .85 * h).close());\r\n  var fig2 = new go.PathFigure(.5 * w, 0, false);\r\n  geo.add(fig2);\r\n  // Inner pyramid lines\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .7 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, .85 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .5 * w, .7 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, .85 * h));\r\n  geo.spot1 = new go.Spot(.25, .367);\r\n  geo.spot2 = new go.Spot(.75, .875);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Actor\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var radiusw = .2;\r\n  var radiush = .1;\r\n  var offsetw = KAPPA * radiusw;\r\n  var offseth = KAPPA * radiush;\r\n  var centerx = .5;\r\n  var centery = .1;\r\n  var fig = new go.PathFigure(centerx * w, (centery + radiush) * h, true);\r\n  geo.add(fig);\r\n\r\n  // Head\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radiusw) * w, centery * h, (centerx - offsetw) * w, (centery + radiush) * h,\r\n    (centerx - radiusw) * w, (centery + offseth) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radiush) * h, (centerx - radiusw) * w, (centery - offseth) * h,\r\n    (centerx - offsetw) * w, (centery - radiush) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radiusw) * w, centery * h, (centerx + offsetw) * w, (centery - radiush) * h,\r\n    (centerx + radiusw) * w, (centery - offseth) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radiush) * h, (centerx + radiusw) * w, (centery + offseth) * h,\r\n    (centerx + offsetw) * w, (centery + radiush) * h));\r\n  var r = .05;\r\n  var cpOffset = KAPPA * r;\r\n  centerx = .05;\r\n  centery = .25;\r\n  var fig2 = new go.PathFigure(.5 * w, .2 * h, true);\r\n  geo.add(fig2);\r\n  // Body\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .95 * w, .2 * h));\r\n  centerx = .95;\r\n  centery = .25;\r\n  // Right arm\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + r) * w, centery * h, (centerx + cpOffset) * w, (centery - r) * h,\r\n    (centerx + r) * w, (centery - cpOffset) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, .6 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .85 * w, .6 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .85 * w, .35 * h));\r\n  r = .025;\r\n  cpOffset = KAPPA * r;\r\n  centerx = .825;\r\n  centery = .35;\r\n  // Right under arm\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - r) * h, (centerx + r) * w, (centery - cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery - r) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - r) * w, centery * h, (centerx - cpOffset) * w, (centery - r) * h,\r\n    (centerx - r) * w, (centery - cpOffset) * h));\r\n  // Right side/leg\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .55 * w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .55 * w, .7 * h));\r\n  // Right in between\r\n  r = .05;\r\n  cpOffset = KAPPA * r;\r\n  centerx = .5;\r\n  centery = .7;\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - r) * h, (centerx + r) * w, (centery - cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery - r) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - r) * w, centery * h, (centerx - cpOffset) * w, (centery - r) * h,\r\n    (centerx - r) * w, (centery - cpOffset) * h));\r\n  // Left side/leg\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .45 * w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .2 * w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .35 * h));\r\n  r = .025;\r\n  cpOffset = KAPPA * r;\r\n  centerx = .175;\r\n  centery = .35;\r\n  // Left under arm\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - r) * h, (centerx + r) * w, (centery - cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery - r) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - r) * w, centery * h, (centerx - cpOffset) * w, (centery - r) * h,\r\n    (centerx - r) * w, (centery - cpOffset) * h));\r\n  // Left arm\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .15 * w, .6 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, .6 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, .25 * h));\r\n  r = .05;\r\n  cpOffset = KAPPA * r;\r\n  centerx = .05;\r\n  centery = .25;\r\n  // Left shoulder\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - r) * h, (centerx - r) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - r) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .2 * h));\r\n  geo.spot1 = new go.Spot(.2, .2);\r\n  geo.spot2 = new go.Spot(.8, .65);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.setFigureParameter(\"Card\", 0, new FigureParameter(\"CornerCutoutSize\", .2, .1, .9));\r\ngo.Shape.defineFigureGenerator(\"Card\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN; // size of corner cutout\r\n  if (isNaN(param1)) param1 = .2;\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, 0, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, param1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1 * w, 0).close());\r\n  geo.spot1 = new go.Spot(0, param1);\r\n  geo.spot2 = go.Spot.BottomRight;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Collate\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.5 * w, .5 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h));\r\n  var fig2 = new go.PathFigure(.5 * w, .5 * h, true);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h));\r\n  geo.spot1 = new go.Spot(.25, 0);\r\n  geo.spot2 = new go.Spot(.75, .25);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"CreateRequest\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1)) param1 = .1;\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  // Body\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  var fig2 = new go.PathFigure(0, param1 * h, false);\r\n  geo.add(fig2);\r\n  // Inside lines\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, param1 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, (1 - param1) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, (1 - param1) * h));\r\n  //??? geo.spot1 = new go.Spot(0, param1);\r\n  //??? geo.spot2 = new go.Spot(1, 1 - param1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Database\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpxOffset = KAPPA * .5;\r\n  var cpyOffset = KAPPA * .1;\r\n  var fig = new go.PathFigure(w, .1 * h, true);\r\n  geo.add(fig);\r\n\r\n  // Body\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h, w, (.9 + cpyOffset) * h,\r\n    (.5 + cpxOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .9 * h, (.5 - cpxOffset) * w, h,\r\n    0, (.9 + cpyOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, 0, 0, (.1 - cpyOffset) * h,\r\n    (.5 - cpxOffset) * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .1 * h, (.5 + cpxOffset) * w, 0,\r\n    w, (.1 - cpyOffset) * h));\r\n  var fig2 = new go.PathFigure(w, .1 * h, false);\r\n  geo.add(fig2);\r\n  // Rings\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .2 * h, w, (.1 + cpyOffset) * h,\r\n    (.5 + cpxOffset) * w, .2 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0, .1 * h, (.5 - cpxOffset) * w, .2 * h,\r\n    0, (.1 + cpyOffset) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, w, .2 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .3 * h, w, (.2 + cpyOffset) * h,\r\n    (.5 + cpxOffset) * w, .3 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0, .2 * h, (.5 - cpxOffset) * w, .3 * h,\r\n    0, (.2 + cpyOffset) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, w, .3 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .4 * h, w, (.3 + cpyOffset) * h,\r\n    (.5 + cpxOffset) * w, .4 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0, .3 * h, (.5 - cpxOffset) * w, .4 * h,\r\n    0, (.3 + cpyOffset) * h));\r\n  geo.spot1 = new go.Spot(0, .4);\r\n  geo.spot2 = new go.Spot(1, .9);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"DataStorage\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .75 * w, h, w, 0, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0, .25 * w, .9 * h, .25 * w, .1 * h).close());\r\n  geo.spot1 = new go.Spot(.226, 0);\r\n  geo.spot2 = new go.Spot(.81, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"DiskStorage\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpxOffset = KAPPA * .5;\r\n  var cpyOffset = KAPPA * .1;\r\n  var fig = new go.PathFigure(w, .1 * h, true);\r\n  geo.add(fig);\r\n\r\n  // Body\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h, w, (.9 + cpyOffset) * h,\r\n    (.5 + cpxOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .9 * h, (.5 - cpxOffset) * w, h,\r\n    0, (.9 + cpyOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, 0, 0, (.1 - cpyOffset) * h,\r\n    (.5 - cpxOffset) * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .1 * h, (.5 + cpxOffset) * w, 0,\r\n    w, (.1 - cpyOffset) * h));\r\n  var fig2 = new go.PathFigure(w, .1 * h, false);\r\n  geo.add(fig2);\r\n  // Rings\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .2 * h, w, (.1 + cpyOffset) * h,\r\n    (.5 + cpxOffset) * w, .2 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0, .1 * h, (.5 - cpxOffset) * w, .2 * h,\r\n    0, (.1 + cpyOffset) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, w, .2 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .3 * h, w, (.2 + cpyOffset) * h,\r\n    (.5 + cpxOffset) * w, .3 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0, .2 * h, (.5 - cpxOffset) * w, .3 * h,\r\n    0, (.2 + cpyOffset) * h));\r\n  geo.spot1 = new go.Spot(0, .3);\r\n  geo.spot2 = new go.Spot(1, .9);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Display\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.25 * w, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .75 * w, h, w, 0, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .25 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h).close());\r\n  geo.spot1 = new go.Spot(.25, 0);\r\n  geo.spot2 = new go.Spot(.75, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"DividedEvent\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1)) param1 = .2;\r\n  else if (param1 < .15) param1 = .15; // Minimum\r\n  var cpOffset = KAPPA * .2;\r\n  var fig = new go.PathFigure(0, .2 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .2 * w, 0, 0, (.2 - cpOffset) * h,\r\n    (.2 - cpOffset) * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .2 * h, (.8 + cpOffset) * w, 0,\r\n    w, (.2 - cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .8 * w, h, w, (.8 + cpOffset) * h,\r\n    (.8 + cpOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .8 * h, (.2 - cpOffset) * w, h,\r\n    0, (.8 + cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .2 * h));\r\n  var fig2 = new go.PathFigure(0, param1 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, param1 * h));\r\n  //??? geo.spot1 = new go.Spot(0, param1);\r\n  //??? geo.spot2 = new go.Spot(1, 1 - param1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"DividedProcess\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1) || param1 < .1) param1 = .1; // Minimum\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  var fig2 = new go.PathFigure(0, param1 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, param1 * h));\r\n  //??? geo.spot1 = new go.Spot(0, param1);\r\n  //??? geo.spot2 = go.Spot.BottomRight;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Document\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  h = h / .8;\r\n  var fig = new go.PathFigure(0, .7 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .7 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .7 * h, .5 * w, .4 * h, .5 * w, h).close());\r\n  geo.spot1 = go.Spot.TopLeft;\r\n  geo.spot2 = new go.Spot(1, .6);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"ExternalOrganization\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1) || param1 < .2) param1 = .2; // Minimum\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  // Body\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  var fig2 = new go.PathFigure(param1 * w, 0, false);\r\n  geo.add(fig2);\r\n  // Top left triangle\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, param1 * h));\r\n  // Top right triangle\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, w, param1 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - param1) * w, 0));\r\n  // Bottom left triangle\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, (1 - param1) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, param1 * w, h));\r\n  // Bottom right triangle\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, (1 - param1) * w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, (1 - param1) * h));\r\n  //??? geo.spot1 = new go.Spot(param1 / 2, param1 / 2);\r\n  //??? geo.spot2 = new go.Spot(1 - param1 / 2, 1 - param1 / 2);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"ExternalProcess\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.5 * w, 0, true);\r\n  geo.add(fig);\r\n\r\n  // Body\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h).close());\r\n  var fig2 = new go.PathFigure(.1 * w, .4 * h, false);\r\n  geo.add(fig2);\r\n  // Top left triangle\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .1 * w, .6 * h));\r\n  // Top right triangle\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .9 * w, .6 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .4 * h));\r\n  // Bottom left triangle\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .6 * w, .1 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .4 * w, .1 * h));\r\n  // Bottom right triangle\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .4 * w, .9 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .6 * w, .9 * h));\r\n  geo.spot1 = new go.Spot(.25, .25);\r\n  geo.spot2 = new go.Spot(.75, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"File\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true); // starting point\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .25 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  var fig2 = new go.PathFigure(.75 * w, 0, false);\r\n  geo.add(fig2);\r\n  // The Fold\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .75 * w, .25 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, .25 * h));\r\n  geo.spot1 = new go.Spot(0, .25);\r\n  geo.spot2 = go.Spot.BottomRight;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Interrupt\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, .5 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  var fig2 = new go.PathFigure(w, .5 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  var fig3 = new go.PathFigure(w, .5 * h, false);\r\n  geo.add(fig3);\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  geo.spot1 = new go.Spot(0, .25);\r\n  geo.spot2 = new go.Spot(.5, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"InternalStorage\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  var param2 = shape ? shape.parameter2 : NaN;\r\n  if (isNaN(param1)) param1 = .1; // Distance from left\r\n  if (isNaN(param2)) param2 = .1; // Distance from top\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  // The main body\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  var fig2 = new go.PathFigure(param1 * w, 0, false);\r\n  geo.add(fig2);\r\n  // Two lines\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, param1 * w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, param2 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, param2 * h));\r\n  //??? geo.spot1 = new go.Spot(param1, param2);\r\n  //??? geo.spot2 = go.Spot.BottomRight;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Junction\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var dist = (1 / Math.SQRT2);\r\n  var small = ((1 - 1 / Math.SQRT2) / 2);\r\n  var cpOffset = KAPPA * .5;\r\n  var radius = .5;\r\n  var fig = new go.PathFigure(w, radius * h, true);\r\n  geo.add(fig);\r\n\r\n  // Circle\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, h, w, (radius + cpOffset) * h,\r\n    (radius + cpOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, radius * h, (radius - cpOffset) * w, h,\r\n    0, (radius + cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, 0, 0, (radius - cpOffset) * h,\r\n    (radius - cpOffset) * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, radius * h, (radius + cpOffset) * w, 0,\r\n    w, (radius - cpOffset) * h));\r\n  var fig2 = new go.PathFigure((small + dist) * w, (small + dist) * h, false);\r\n  geo.add(fig2);\r\n  // X\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, small * w, small * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, small * w, (small + dist) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (small + dist) * w, small * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LinedDocument\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  h = h / .8;\r\n  var fig = new go.PathFigure(0, .7 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .7 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .7 * h, .5 * w, .4 * h, .5 * w, h).close());\r\n  var fig2 = new go.PathFigure(.1 * w, 0, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .1 * w, .75 * h));\r\n  geo.spot1 = new go.Spot(.1, 0);\r\n  geo.spot2 = new go.Spot(1, .6);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"LoopLimit\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .25 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .25 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .25 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h).close());\r\n  geo.spot1 = new go.Spot(0, .25);\r\n  geo.spot2 = go.Spot.BottomRight;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"MagneticTape\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpOffset = KAPPA * .5;\r\n  var radius = .5;\r\n  var fig = new go.PathFigure(.5 * w, h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, radius * h, (radius - cpOffset) * w, h,\r\n    0, (radius + cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, 0, 0, (radius - cpOffset) * h,\r\n    (radius - cpOffset) * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, radius * h, (radius + cpOffset) * w, 0,\r\n    w, (radius - cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (radius + .1) * w, .9 * h, w, (radius + cpOffset) * h,\r\n    (radius + cpOffset) * w, .9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\r\n  geo.spot1 = new go.Spot(.15, .15);\r\n  geo.spot2 = new go.Spot(.85, .8);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"ManualInput\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .25 * h).close());\r\n  geo.spot1 = new go.Spot(0, .25);\r\n  geo.spot2 = go.Spot.BottomRight;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"MessageFromUser\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1)) param1 = .7; // How far from the right the point is\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  geo.spot1 = go.Spot.TopLeft;\r\n  //??? geo.spot2 = new go.Spot(param1, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"MicroformProcessing\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1)) param1 = .25; // How far from the top/bottom the points are\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, param1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, (1 - param1) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  //??? geo.spot1 = new go.Spot(0, param1);\r\n  //??? geo.spot2 = new go.Spot(1, 1 - param1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"MicroformRecording\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, .25 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .15 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .85 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, .75 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  geo.spot1 = new go.Spot(0, .25);\r\n  geo.spot2 = new go.Spot(1, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"MultiDocument\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  h = h / .8;\r\n  var fig = new go.PathFigure(w, 0, true);\r\n  geo.add(fig);\r\n\r\n  // Outline\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .9 * w, .44 * h, .96 * w, .47 * h, .93 * w, .45 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .8 * w, .54 * h, .86 * w, .57 * h, .83 * w, .55 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .7 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .7 * h, .4 * w, .4 * h, .4 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .2 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, .2 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, .1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, 0).close());\r\n  var fig2 = new go.PathFigure(.1 * w, .2 * h, false);\r\n  geo.add(fig2);\r\n  // Inside lines\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .2 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .54 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .2 * w, .1 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .1 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .44 * h));\r\n  geo.spot1 = new go.Spot(0, .25);\r\n  geo.spot2 = new go.Spot(.8, .77);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"MultiProcess\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.1 * w, .1 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .2 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, .2 * h).close());\r\n  var fig2 = new go.PathFigure(.2 * w, .1 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .1 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .9 * w, .8 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .1 * w, .2 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .2 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .9 * h));\r\n  geo.spot1 = new go.Spot(0, .2);\r\n  geo.spot2 = new go.Spot(.8, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"OfflineStorage\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1)) param1 = .1; // Distance between 2 top lines\r\n  var l = 1 - param1; // Length of the top line\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h).close());\r\n  var fig2 = new go.PathFigure(.5 * param1 * w, param1 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - .5 * param1) * w, param1 * h));\r\n  //??? geo.spot1 = new go.Spot(l / 4 + .5 * param1, param1);\r\n  //??? geo.spot2 = new go.Spot(3 * l / 4 + .5 * param1, param1 + .5 * l);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"OffPageConnector\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  geo.spot1 = go.Spot.TopLeft;\r\n  geo.spot2 = new go.Spot(.75, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Or\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpOffset = KAPPA * .5;\r\n  var radius = .5;\r\n  var fig = new go.PathFigure(w, radius * h, true);\r\n  geo.add(fig);\r\n\r\n  // Circle\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, h, w, (radius + cpOffset) * h,\r\n    (radius + cpOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, radius * h, (radius - cpOffset) * w, h,\r\n    0, (radius + cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, 0, 0, (radius - cpOffset) * h,\r\n    (radius - cpOffset) * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, radius * h, (radius + cpOffset) * w, 0,\r\n    w, (radius - cpOffset) * h));\r\n  var fig2 = new go.PathFigure(w, .5 * h, false);\r\n  geo.add(fig2);\r\n  // +\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .5 * w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"PaperTape\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  h = h / .8;\r\n  var fig = new go.PathFigure(0, .7 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .3 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .3 * h, .5 * w, .6 * h,\r\n    .5 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .7 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, .7 * h, .5 * w, .4 * h,\r\n    .5 * w, h).close());\r\n  geo.spot1 = new go.Spot(0, .49);\r\n  geo.spot2 = new go.Spot(1, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"PrimitiveFromCall\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  var param2 = shape ? shape.parameter2 : NaN;\r\n  if (isNaN(param1)) param1 = .1; // Distance of left line from left\r\n  if (isNaN(param2)) param2 = .3; // Distance of point from right\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (1 - param2) * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  //??? geo.spot1 = new go.Spot(param1, 0);\r\n  //??? geo.spot2 = new go.Spot(1 - param2, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"PrimitiveToCall\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  var param2 = shape ? shape.parameter2 : NaN;\r\n  if (isNaN(param1)) param1 = .1; // Distance of left line from left\r\n  if (isNaN(param2)) param2 = .3; // Distance of top and bottom right corners from right\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (1 - param2) * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (1 - param2) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  //??? geo.spot1 = new go.Spot(param1, 0);\r\n  //??? geo.spot2 = new go.Spot(1 - param2, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Procedure\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  // Distance of left  and right lines from edge\r\n  if (isNaN(param1)) param1 = .1;\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  var fig2 = new go.PathFigure((1 - param1) * w, 0, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - param1) * w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, param1 * w, 0));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, param1 * w, h));\r\n  //??? geo.spot1 = new go.Spot(param1, 0);\r\n  //??? geo.spot2 = new go.Spot(1 - param1, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Process\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1)) param1 = .1; // Distance of left  line from left edge\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  var fig2 = new go.PathFigure(param1 * w, 0, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, param1 * w, h));\r\n  //??? geo.spot1 = new go.Spot(param1, 0);\r\n  geo.spot2 = go.Spot.BottomRight;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Sort\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.5 * w, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .5 * h).close());\r\n  var fig2 = new go.PathFigure(0, .5 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  geo.spot1 = new go.Spot(.25, .25);\r\n  geo.spot2 = new go.Spot(.75, .5);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Start\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1)) param1 = 0.25;\r\n  var fig = new go.PathFigure(param1 * w, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 270, 180, .75 * w, 0.5 * h, .25 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 90, 180, .25 * w, 0.5 * h, .25 * w, .5 * h));\r\n  var fig2 = new go.PathFigure(param1 * w, 0, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, param1 * w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, (1 - param1) * w, 0));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - param1) * w, h));\r\n  geo.spot1 = new go.Spot(param1, 0);\r\n  geo.spot2 = new go.Spot((1 - param1), 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Terminator\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.25 * w, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 270, 180, .75 * w, 0.5 * h, .25 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 90, 180, .25 * w, 0.5 * h, .25 * w, .5 * h));\r\n  geo.spot1 = new go.Spot(.23, 0);\r\n  geo.spot2 = new go.Spot(.77, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"TransmittalTape\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1)) param1 = .1; // Bottom line's distance from the point on the triangle\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .75 * w, (1 - param1) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, (1 - param1) * h).close());\r\n  geo.spot1 = go.Spot.TopLeft;\r\n  //??? geo.spot2 = new go.Spot(1, 1 - param1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"AndGate\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpOffset = KAPPA * .5;\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  // The gate body\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, (.5 + cpOffset) * w, 0,\r\n    w, (.5 - cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, h, w, (.5 + cpOffset) * h,\r\n    (.5 + cpOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  geo.spot1 = go.Spot.TopLeft;\r\n  geo.spot2 = new go.Spot(.55, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Buffer\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  geo.spot1 = new go.Spot(0, .25);\r\n  geo.spot2 = new go.Spot(.5, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Clock\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpOffset = KAPPA * .5;\r\n  var radius = .5;\r\n  var fig = new go.PathFigure(w, radius * h, true);\r\n  geo.add(fig);\r\n\r\n  // Ellipse\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, h, w, (radius + cpOffset) * h,\r\n    (radius + cpOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, radius * h, (radius - cpOffset) * w, h,\r\n    0, (radius + cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, 0, 0, (radius - cpOffset) * h,\r\n    (radius - cpOffset) * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, radius * h, (radius + cpOffset) * w, 0,\r\n    w, (radius - cpOffset) * h));\r\n  var fig2 = new go.PathFigure(w, radius * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, radius * h));\r\n  var fig3 = new go.PathFigure(.8 * w, .75 * h, false);\r\n  geo.add(fig3);\r\n  // Inside clock\r\n  // This first line solves a GDI+ graphical error with\r\n  // more complex gradient brushes\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .25 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .6 * w, .25 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .6 * w, .75 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .4 * w, .75 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .4 * w, .25 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .25 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .75 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Ground\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.5 * w, 0, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .4 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, .2 * w, .6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, .3 * w, .8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, .8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, .4 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .6 * w, h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Inverter\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpOffset = KAPPA * .1;\r\n  var radius = .1;\r\n  var centerx = .9;\r\n  var centery = .5;\r\n  var fig = new go.PathFigure(.8 * w, .5 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .5 * h));\r\n  var fig2 = new go.PathFigure((centerx + radius) * w, centery * h, true);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  geo.spot1 = new go.Spot(0, .25);\r\n  geo.spot2 = new go.Spot(.4, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"NandGate\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpxOffset = KAPPA * .5;\r\n  var cpyOffset = KAPPA * .4;\r\n  var cpOffset = KAPPA * .1;\r\n  var radius = .1;\r\n  var centerx = .9;\r\n  var centery = .5;\r\n  var fig = new go.PathFigure(.8 * w, .5 * h, true);\r\n  geo.add(fig);\r\n\r\n  // The gate body\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .4 * w, h, .8 * w, (.5 + cpyOffset) * h,\r\n    (.4 + cpxOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .4 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .8 * w, .5 * h, (.4 + cpxOffset) * w, 0,\r\n    .8 * w, (.5 - cpyOffset) * h));\r\n  var fig2 = new go.PathFigure((centerx + radius) * w, centery * h, true);\r\n  geo.add(fig2);\r\n  // Inversion\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, (centery) * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  geo.spot1 = new go.Spot(0, .05);\r\n  geo.spot2 = new go.Spot(.55, .95);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"NorGate\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var radius = .5;\r\n  var cpOffset = KAPPA * radius;\r\n  var centerx = 0;\r\n  var centery = .5;\r\n  var fig = new go.PathFigure(.8 * w, .5 * h, true);\r\n  geo.add(fig);\r\n\r\n  // Normal\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h, .7 * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0, .25 * w, .75 * h,\r\n    .25 * w, .25 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .8 * w, .5 * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    .7 * w, (centery - cpOffset) * h));\r\n  radius = .1;\r\n  cpOffset = KAPPA * .1;\r\n  centerx = .9;\r\n  centery = .5;\r\n  var fig2 = new go.PathFigure((centerx - radius) * w, centery * h, true);\r\n  geo.add(fig2);\r\n  // Inversion\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  geo.spot1 = new go.Spot(.2, .25);\r\n  geo.spot2 = new go.Spot(.6, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"OrGate\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var radius = .5;\r\n  var cpOffset = KAPPA * radius;\r\n  var centerx = 0;\r\n  var centery = .5;\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, (centerx + cpOffset + cpOffset) * w, (centery - radius) * h,\r\n    .8 * w, (centery - cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h, .8 * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset + cpOffset) * w, (centery + radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0, .25 * w, .75 * h, .25 * w, .25 * h).close());\r\n  geo.spot1 = new go.Spot(.2, .25);\r\n  geo.spot2 = new go.Spot(.75, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"XnorGate\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var radius = .5;\r\n  var cpOffset = KAPPA * radius;\r\n  var centerx = .2;\r\n  var centery = .5;\r\n  var fig = new go.PathFigure(.1 * w, 0, false);\r\n  geo.add(fig);\r\n\r\n  // Normal\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .1 * w, h, .35 * w, .25 * h, .35 * w, .75 * h));\r\n  var fig2 = new go.PathFigure(.8 * w, .5 * h, true);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .2 * w, h, .7 * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .2 * w, 0, .45 * w, .75 * h, .45 * w, .25 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .8 * w, .5 * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    .7 * w, (centery - cpOffset) * h));\r\n  radius = .1;\r\n  cpOffset = KAPPA * .1;\r\n  centerx = .9;\r\n  centery = .5;\r\n  var fig3 = new go.PathFigure((centerx - radius) * w, centery * h, true);\r\n  geo.add(fig3);\r\n  // Inversion\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  geo.spot1 = new go.Spot(.4, .25);\r\n  geo.spot2 = new go.Spot(.65, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"XorGate\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var radius = .5;\r\n  var cpOffset = KAPPA * radius;\r\n  var centerx = .2;\r\n  var centery = .5;\r\n  var fig = new go.PathFigure(.1 * w, 0, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .1 * w, h, .35 * w, .25 * h, .35 * w, .75 * h));\r\n  var fig2 = new go.PathFigure(.2 * w, 0, true);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    .9 * w, (centery - cpOffset) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .2 * w, h, .9 * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .2 * w, 0, .45 * w, .75 * h, .45 * w, .25 * h).close());\r\n  geo.spot1 = new go.Spot(.4, .25);\r\n  geo.spot2 = new go.Spot(.8, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Capacitor\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, false);\r\n  geo.add(fig);\r\n\r\n  // Two vertical lines\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Resistor\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, .5 * h, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .4 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .6 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, .5 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Inductor\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpOffset = KAPPA * .1;\r\n  var radius = .1;\r\n  var centerx = .1;\r\n  var centery = .5;\r\n  // Up\r\n  var fig = new go.PathFigure((centerx - cpOffset * .5) * w, h, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, 0, (centerx - cpOffset) * w, h, (centerx - radius) * w, 0));\r\n  // Down up\r\n  centerx = .3;\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, h, (centerx + radius) * w, 0, (centerx + cpOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, 0, (centerx - cpOffset) * w, h, (centerx - radius) * w, 0));\r\n  // Down up\r\n  centerx = .5;\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, h, (centerx + radius) * w, 0, (centerx + cpOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, 0, (centerx - cpOffset) * w, h, (centerx - radius) * w, 0));\r\n  // Down up\r\n  centerx = .7;\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, h, (centerx + radius) * w, 0, (centerx + cpOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, 0, (centerx - cpOffset) * w, h, (centerx - radius) * w, 0));\r\n  // Down up\r\n  centerx = .9;\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + cpOffset * .5) * w, h, (centerx + radius) * w, 0, (centerx + cpOffset) * w, h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"ACvoltageSource\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpOffset = KAPPA * .5;\r\n  var radius = .5;\r\n  var centerx = .5;\r\n  var centery = .5;\r\n  var fig = new go.PathFigure((centerx - radius) * w, centery * h, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, (centerx - radius + .1) * w, centery * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius - .1) * w, centery * h, centerx * w, (centery - radius) * h,\r\n    centerx * w, (centery + radius) * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"DCvoltageSource\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, .75 * h, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .25 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Diode\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, 0, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  geo.spot1 = new go.Spot(0, .25);\r\n  geo.spot2 = new go.Spot(.5, .75);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Wifi\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var origw = w;\r\n  var origh = h;\r\n  w = w * .38;\r\n  h = h * .6;\r\n  var cpOffset = KAPPA * .8;\r\n  var radius = .8;\r\n  var centerx = 0;\r\n  var centery = .5;\r\n  var xOffset = (origw - w) / 2;\r\n  var yOffset = (origh - h) / 2;\r\n  var fig = new go.PathFigure(centerx * w + xOffset, (centery + radius) * h + yOffset, true);\r\n  geo.add(fig);\r\n\r\n  // Left curves\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w + xOffset,\r\n    centery * h + yOffset, (centerx - cpOffset) * w + xOffset,\r\n    (centery + radius) * h + yOffset,\r\n    (centerx - radius) * w + xOffset,\r\n    (centery + cpOffset) * h + yOffset));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset,\r\n    (centery - radius) * h + yOffset, (centerx - radius) * w + xOffset,\r\n    (centery - cpOffset) * h + yOffset,\r\n    (centerx - cpOffset) * w + xOffset,\r\n    (centery - radius) * h + yOffset));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius + cpOffset * .5) * w + xOffset,\r\n    centery * h + yOffset, centerx * w + xOffset,\r\n    (centery - radius) * h + yOffset,\r\n    (centerx - radius + cpOffset * .5) * w + xOffset,\r\n    (centery - cpOffset) * h + yOffset));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset,\r\n    (centery + radius) * h + yOffset, (centerx - radius + cpOffset * .5) * w + xOffset,\r\n    (centery + cpOffset) * h + yOffset,\r\n    centerx * w + xOffset,\r\n    (centery + radius) * h + yOffset).close());\r\n  cpOffset = KAPPA * .4;\r\n  radius = .4;\r\n  centerx = .2;\r\n  centery = .5;\r\n  var fig2 = new go.PathFigure(centerx * w + xOffset, (centery + radius) * h + yOffset, true);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w + xOffset,\r\n    centery * h + yOffset, (centerx - cpOffset) * w + xOffset,\r\n    (centery + radius) * h + yOffset,\r\n    (centerx - radius) * w + xOffset,\r\n    (centery + cpOffset) * h + yOffset));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset,\r\n    (centery - radius) * h + yOffset, (centerx - radius) * w + xOffset,\r\n    (centery - cpOffset) * h + yOffset,\r\n    (centerx - cpOffset) * w + xOffset,\r\n    (centery - radius) * h + yOffset));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius + cpOffset * .5) * w + xOffset,\r\n    centery * h + yOffset, centerx * w + xOffset,\r\n    (centery - radius) * h + yOffset,\r\n    (centerx - radius + cpOffset * .5) * w + xOffset,\r\n    (centery - cpOffset) * h + yOffset));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset,\r\n    (centery + radius) * h + yOffset, (centerx - radius + cpOffset * .5) * w + xOffset,\r\n    (centery + cpOffset) * h + yOffset,\r\n    centerx * w + xOffset,\r\n    (centery + radius) * h + yOffset).close());\r\n  cpOffset = KAPPA * .2;\r\n  radius = .2;\r\n  centerx = .5;\r\n  centery = .5;\r\n  var fig3 = new go.PathFigure((centerx - radius) * w + xOffset, centery * h + yOffset, true);\r\n  geo.add(fig3);\r\n  // Center circle\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset,\r\n    (centery - radius) * h + yOffset, (centerx - radius) * w + xOffset,\r\n    (centery - cpOffset) * h + yOffset,\r\n    (centerx - cpOffset) * w + xOffset,\r\n    (centery - radius) * h + yOffset));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w + xOffset,\r\n    centery * h + yOffset, (centerx + cpOffset) * w + xOffset,\r\n    (centery - radius) * h + yOffset,\r\n    (centerx + radius) * w + xOffset,\r\n    (centery - cpOffset) * h + yOffset));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset,\r\n    (centery + radius) * h + yOffset, (centerx + radius) * w + xOffset,\r\n    (centery + cpOffset) * h + yOffset,\r\n    (centerx + cpOffset) * w + xOffset,\r\n    (centery + radius) * h + yOffset));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w + xOffset,\r\n    centery * h + yOffset, (centerx - cpOffset) * w + xOffset,\r\n    (centery + radius) * h + yOffset,\r\n    (centerx - radius) * w + xOffset,\r\n    (centery + cpOffset) * h + yOffset));\r\n  cpOffset = KAPPA * .4;\r\n  radius = .4;\r\n  centerx = .8;\r\n  centery = .5;\r\n  var fig4 = new go.PathFigure(centerx * w + xOffset, (centery - radius) * h + yOffset, true);\r\n  geo.add(fig4);\r\n  // Right curves\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w + xOffset,\r\n    centery * h + yOffset, (centerx + cpOffset) * w + xOffset,\r\n    (centery - radius) * h + yOffset,\r\n    (centerx + radius) * w + xOffset,\r\n    (centery - cpOffset) * h + yOffset));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset,\r\n    (centery + radius) * h + yOffset, (centerx + radius) * w + xOffset,\r\n    (centery + cpOffset) * h + yOffset,\r\n    (centerx + cpOffset) * w + xOffset,\r\n    (centery + radius) * h + yOffset));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius - cpOffset * .5) * w + xOffset,\r\n    centery * h + yOffset, centerx * w + xOffset,\r\n    (centery + radius) * h + yOffset,\r\n    (centerx + radius - cpOffset * .5) * w + xOffset,\r\n    (centery + cpOffset) * h + yOffset));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset,\r\n    (centery - radius) * h + yOffset, (centerx + radius - cpOffset * .5) * w + xOffset,\r\n    (centery - cpOffset) * h + yOffset,\r\n    centerx * w + xOffset,\r\n    (centery - radius) * h + yOffset).close());\r\n  cpOffset = KAPPA * .8;\r\n  radius = .8;\r\n  centerx = 1;\r\n  centery = .5;\r\n  var fig5 = new go.PathFigure(centerx * w + xOffset, (centery - radius) * h + yOffset, true);\r\n  geo.add(fig5);\r\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w + xOffset,\r\n    centery * h + yOffset, (centerx + cpOffset) * w + xOffset,\r\n    (centery - radius) * h + yOffset,\r\n    (centerx + radius) * w + xOffset,\r\n    (centery - cpOffset) * h + yOffset));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset,\r\n    (centery + radius) * h + yOffset, (centerx + radius) * w + xOffset,\r\n    (centery + cpOffset) * h + yOffset,\r\n    (centerx + cpOffset) * w + xOffset,\r\n    (centery + radius) * h + yOffset));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius - cpOffset * .5) * w + xOffset,\r\n    centery * h + yOffset, centerx * w + xOffset,\r\n    (centery + radius) * h + yOffset,\r\n    (centerx + radius - cpOffset * .5) * w + xOffset,\r\n    (centery + cpOffset) * h + yOffset));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w + xOffset,\r\n    (centery - radius) * h + yOffset, (centerx + radius - cpOffset * .5) * w + xOffset,\r\n    (centery - cpOffset) * h + yOffset,\r\n    centerx * w + xOffset,\r\n    (centery - radius) * h + yOffset).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Email\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0).close());\r\n  var fig2 = new go.PathFigure(0, 0, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .6 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .45 * w, .54 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .55 * w, .54 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Ethernet\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.35 * w, 0, true);\r\n  geo.add(fig);\r\n  // Boxes above the wire\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .65 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .65 * w, .4 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .35 * w, .4 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .35 * w, 0).close());\r\n  var fig2 = new go.PathFigure(.10 * w, h, true, true);\r\n  geo.add(fig2);\r\n  // Boxes under the wire\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .40 * w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .40 * w, .6 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .10 * w, .6 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .10 * w, h).close());\r\n  var fig3 = new go.PathFigure(.60 * w, h, true, true);\r\n  geo.add(fig3);\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .90 * w, h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .90 * w, .6 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .60 * w, .6 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .60 * w, h).close());\r\n  var fig4 = new go.PathFigure(0, .5 * h, false);\r\n  geo.add(fig4);\r\n  // Wire\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Move, .5 * w, .5 * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .4 * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Move, .75 * w, .5 * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .75 * w, .6 * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Move, .25 * w, .5 * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .25 * w, .6 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Power\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var cpOffset = KAPPA * .4;\r\n  var radius = .4;\r\n  var centerx = .5;\r\n  var centery = .5;\r\n  var unused = tempPoint();\r\n  var mid = tempPoint();\r\n  var c1 = tempPoint();\r\n  var c2 = tempPoint();\r\n  // Find the 45 degree midpoint for the first bezier\r\n  breakUpBezier(centerx, centery - radius,\r\n    centerx + cpOffset, centery - radius,\r\n    centerx + radius, centery - cpOffset,\r\n    centerx + radius, centery, .5, unused,\r\n    unused, mid, c1, c2);\r\n  var start = tempPointAt(mid.x, mid.y);\r\n  var fig = new go.PathFigure(mid.x * w, mid.y * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, c1.x * w, c1.y * h, c2.x * w, c2.y * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  // Find the 45 degree midpoint of for the fourth bezier\r\n  breakUpBezier(centerx - radius, centery,\r\n    centerx - radius, centery - cpOffset,\r\n    centerx - cpOffset, centery - radius,\r\n    centerx, centery - radius, .5, c1,\r\n    c2, mid, unused, unused);\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, mid.x * w, mid.y * h, c1.x * w, c1.y * h,\r\n    c2.x * w, c2.y * h));\r\n  // now make a smaller circle\r\n  cpOffset = KAPPA * .3;\r\n  radius = .3;\r\n  // Find the 45 degree midpoint for the first bezier\r\n  breakUpBezier(centerx - radius, centery,\r\n    centerx - radius, centery - cpOffset,\r\n    centerx - cpOffset, centery - radius,\r\n    centerx, centery - radius, .5, c1,\r\n    c2, mid, unused, unused);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, mid.x * w, mid.y * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, c2.x * w, c2.y * h, c1.x * w, c1.y * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx - radius) * w, (centery + cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery + radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery + radius) * h,\r\n    (centerx + radius) * w, (centery + cpOffset) * h));\r\n  // Find the 45 degree midpoint for the fourth bezier\r\n  breakUpBezier(centerx, centery - radius,\r\n    centerx + cpOffset, centery - radius,\r\n    centerx + radius, centery - cpOffset,\r\n    centerx + radius, centery, .5, unused,\r\n    unused, mid, c1, c2);\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, mid.x * w, mid.y * h, c2.x * w, c2.y * h, c1.x * w, c1.y * h).close());\r\n  var fig = new go.PathFigure(.45 * w, 0, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .45 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .55 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .55 * w, 0).close());\r\n  freePoint(unused);\r\n  freePoint(mid);\r\n  freePoint(c1);\r\n  freePoint(c2);\r\n  freePoint(start);\r\n  geo.spot1 = new go.Spot(.25, .45);\r\n  geo.spot2 = new go.Spot(.75, .8);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Fallout\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, h / 2, true);\r\n  geo.add(fig);\r\n\r\n  // Containing circle\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 180, 360, w / 2, h / 2, w / 2, h / 2))\r\n\r\n  function drawTriangle(fig, offsetx, offsety) {\r\n    fig.add(new go.PathSegment(go.PathSegment.Move, (.3 + offsetx) * w, (.8 + offsety) * h));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, (.5 + offsetx) * w, (.5 + offsety) * h));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, (.1 + offsetx) * w, (.5 + offsety) * h));\r\n    fig.add(new go.PathSegment(go.PathSegment.Line, (.3 + offsetx) * w, (.8 + offsety) * h).close());\r\n  }\r\n\r\n  // Triangles\r\n  drawTriangle(fig, 0, 0);\r\n  drawTriangle(fig, 0.4, 0);\r\n  drawTriangle(fig, 0.2, -0.3);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"IrritationHazard\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.2 * w, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .3 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .2 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .8 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .7 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .2 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .2 * h).close());\r\n  geo.spot1 = new go.Spot(.3, .3);\r\n  geo.spot2 = new go.Spot(.7, .7);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"ElectricalHazard\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.37 * w, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .11 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .77 * w, .04 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .33 * w, .49 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .37 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .63 * w, .86 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .77 * w, .91 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .34 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .34 * w, .78 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .44 * w, .8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .65 * w, .56 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .68 * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"FireHazard\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.1 * w, h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .29 * w, 0, -.25 * w, .63 * h,\r\n    .45 * w, .44 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .51 * w, .42 * h, .48 * w, .17 * h,\r\n    .54 * w, .35 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .59 * w, .18 * h, .59 * w, .29 * h,\r\n    .58 * w, .28 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .75 * w, .6 * h, .8 * w, .34 * h,\r\n    .88 * w, .43 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .88 * w, .31 * h, .87 * w, .48 * h,\r\n    .88 * w, .43 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .9 * w, h, 1.17 * w, .76 * h,\r\n    .82 * w, .8 * h).close());\r\n  geo.spot1 = new go.Spot(.07, .445);\r\n  geo.spot2 = new go.Spot(.884, .958);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"BpmnActivityLoop\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var r = .5;\r\n  var cx = 0; // offset from Center x\r\n  var cy = 0; // offset from Center y\r\n  var d = r * KAPPA;\r\n  var mx1 = (.4 * Math.SQRT2 / 2 + .5);\r\n  var my1 = (.5 - .5 * Math.SQRT2 / 2);\r\n  var x1 = 1;\r\n  var y1 = .5;\r\n  var x2 = .5;\r\n  var y2 = 0;\r\n  var fig = new go.PathFigure(mx1 * w, (1 - my1) * h, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, x1 * w, y1 * h, x1 * w, .7 * h,\r\n    x1 * w, y1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (x2 + cx) * w, (y2 + cx) * h, (.5 + r + cx) * w, (.5 - d + cx) * h,\r\n    (.5 + d + cx) * w, (.5 - r + cx) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.5 - r + cx) * w, (.5 + cy) * h, (.5 - d + cx) * w, (.5 - r + cy) * h,\r\n    (.5 - r + cx) * w, (.5 - d + cy) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (.35 + cx) * w, .9 * h, (.5 - r + cx) * w, (.5 + d + cy) * h,\r\n    (.5 - d + cx) * w, .9 * h));\r\n  // Arrowhead\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, (.25 + cx) * w, 0.8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (.35 + cx) * w, 0.9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (.20 + cx) * w, 0.95 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"BpmnActivityParallel\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, .5 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"BpmnActivitySequential\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"BpmnActivityAdHoc\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, false);\r\n  geo.add(fig);\r\n\r\n  var fig2 = new go.PathFigure(w, h, false);\r\n  geo.add(fig2);\r\n  var fig3 = new go.PathFigure(0, .5 * h, false);\r\n  geo.add(fig3);\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, .5 * w, .5 * h, .2 * w, .35 * h,\r\n    .3 * w, .35 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, w, .5 * h, .7 * w, .65 * h,\r\n    .8 * w, .65 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"BpmnActivityCompensation\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, .5 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"BpmnTaskMessage\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, .2 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .2 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .8 * h).close());\r\n  var fig = new go.PathFigure(0, .2 * h, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, .2 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"BpmnTaskScript\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.7 * w, h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .3 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.3 * w, 0, .6 * w, .5 * h,\r\n    0, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .7 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, .7 * w, h, .4 * w, .5 * h,\r\n    w, .5 * h).close());\r\n  var fig2 = new go.PathFigure(.45 * w, .73 * h, false);\r\n  geo.add(fig2);\r\n  // Lines on script\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .7 * w, .73 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .38 * w, .5 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .63 * w, .5 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .31 * w, .27 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .56 * w, .27 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"BpmnTaskUser\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, false);\r\n  geo.add(fig);\r\n\r\n  var fig2 = new go.PathFigure(.335 * w, (1 - .555) * h, true);\r\n  geo.add(fig2);\r\n  // Shirt\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .335 * w, (1 - .405) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - .335) * w, (1 - .405) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - .335) * w, (1 - .555) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w, .68 * h, (1 - .12) * w, .46 * h,\r\n    (1 - .02) * w, .54 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, .68 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, .335 * w, (1 - .555) * h, .02 * w, .54 * h,\r\n    .12 * w, .46 * h));\r\n  // Start of neck\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .365 * w, (1 - .595) * h));\r\n  var radiushead = .5 - .285;\r\n  var centerx = .5;\r\n  var centery = radiushead;\r\n  var alpha2 = Math.PI / 4;\r\n  var KAPPA = ((4 * (1 - Math.cos(alpha2))) / (3 * Math.sin(alpha2)));\r\n  var cpOffset = KAPPA * .5;\r\n  var radiusw = radiushead;\r\n  var radiush = radiushead;\r\n  var offsetw = KAPPA * radiusw;\r\n  var offseth = KAPPA * radiush;\r\n  // Circle (head)\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radiusw) * w, centery * h, (centerx - ((offsetw + radiusw) / 2)) * w, (centery + ((radiush + offseth) / 2)) * h,\r\n    (centerx - radiusw) * w, (centery + offseth) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radiush) * h, (centerx - radiusw) * w, (centery - offseth) * h,\r\n    (centerx - offsetw) * w, (centery - radiush) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radiusw) * w, centery * h, (centerx + offsetw) * w, (centery - radiush) * h,\r\n    (centerx + radiusw) * w, (centery - offseth) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (1 - .365) * w, (1 - .595) * h, (centerx + radiusw) * w, (centery + offseth) * h,\r\n    (centerx + ((offsetw + radiusw) / 2)) * w, (centery + ((radiush + offseth) / 2)) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - .365) * w, (1 - .595) * h));\r\n  // Neckline\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - .335) * w, (1 - .555) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, (1 - .335) * w, (1 - .405) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .335 * w, (1 - .405) * h));\r\n  var fig3 = new go.PathFigure(.2 * w, h, false);\r\n  geo.add(fig3);\r\n  // Arm lines\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .2 * w, .8 * h));\r\n  var fig4 = new go.PathFigure(.8 * w, h, false);\r\n  geo.add(fig4);\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .8 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"BpmnEventConditional\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(.1 * w, 0, true);\r\n  geo.add(fig);\r\n\r\n  // Body\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .9 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, h).close());\r\n  var fig2 = new go.PathFigure(.2 * w, .2 * h, false);\r\n  geo.add(fig2);\r\n  // Inside lines\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .2 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .2 * w, .4 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .4 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .2 * w, .6 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .6 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, .2 * w, .8 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .8 * w, .8 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"BpmnEventError\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .33 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .66 * w, .50 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .66 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .33 * w, .50 * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"BpmnEventEscalation\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, false);\r\n  geo.add(fig);\r\n  // Set dimensions\r\n  var fig2 = new go.PathFigure(w, h, false);\r\n  geo.add(fig2);\r\n  var fig3 = new go.PathFigure(.1 * w, h, true);\r\n  geo.add(fig3);\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .9 * w, h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .5 * w, .5 * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Caution\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0.05 * w, h, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.1 * w, .8 * h, 0, h, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, .1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.55 * w, .1 * h, 0.5 * w, 0, 0.5 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.95 * w, 0.9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.9 * w, h, w, h, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.05 * w, h));\r\n  var radius = 0.05;\r\n  // Bottom circle of exclamation point\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, (0.5 - radius) * w, 0.875 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 180, -360, 0.5 * w, 0.875 * h, radius * w, radius * h));\r\n  // Upper rectangle of exclamation point\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.75 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.325 * h, 0.575 * w, 0.725 * h, 0.625 * w, 0.375 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.75 * h, 0.375 * w, 0.375 * h, 0.425 * w, 0.725 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Recycle\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0.45 * w, 0.95 * h, false);\r\n  geo.add(fig);\r\n\r\n  // Bottom left arrow\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, 0.95 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.185 * w, 0.85 * h, 0.17 * w, 0.95 * h, 0.15 * w, 0.9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.235 * w, 0.75 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.30 * w, 0.625 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.35 * w, 0.65 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.275 * w, 0.45 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.05 * w, 0.45 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.05 * w, 0.575 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.1875 * w, 0.95 * h, 0, 0.675 * h, 0, 0.7 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.45 * w, 0.95 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.775 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.22 * w, 0.775 * h));\r\n  var fig2 = new go.PathFigure(0.475 * w, 0.2 * h, false);\r\n  geo.add(fig2);\r\n  // Top arrow\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0.4 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.225 * w, 0.3 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.275 * w, 0.175 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.325 * w, 0.05 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0.4 * w, 0.05 * h, 0.35 * w, 0, 0.375 * w, 0));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.575 * w, 0.375 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.525 * w, 0.4 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, 0.475 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.85 * w, 0.315 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.32 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, 0.05 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0.575 * w, 0, 0.65 * w, 0.05 * h, 0.625 * w, 0));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.38 * w, 0.0105 * h));\r\n  var fig3 = new go.PathFigure(0.675 * w, 0.575 * h, false);\r\n  geo.add(fig3);\r\n  // Bottom right arrow\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.875 * w, 0.525 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w, 0.775 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, 0.85 * w, 0.95 * h, w, 0.8 * h, w, 0.85 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, 0.95 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, 0.85 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, 0.725 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, 0.775 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.7 * w, 0.775 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w, 0.775 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Move, 0.675 * w, 0.575 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.775 * w, 0.775 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"BpmnEventTimer\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var radius = .5;\r\n  var cpOffset = KAPPA * .5;\r\n  var fig = new go.PathFigure(w, radius * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, h, w, (radius + cpOffset) * h,\r\n    (radius + cpOffset) * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, radius * h, (radius - cpOffset) * w, h,\r\n    0, (radius + cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, radius * w, 0, 0, (radius - cpOffset) * h,\r\n    (radius - cpOffset) * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, radius * h, (radius + cpOffset) * w, 0,\r\n    w, (radius - cpOffset) * h));\r\n  var fig2 = new go.PathFigure(radius * w, 0, false);\r\n  geo.add(fig2);\r\n  // Hour lines\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, radius * w, .15 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, radius * w, h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, radius * w, .85 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, radius * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .15 * w, radius * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, w, radius * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .85 * w, radius * h));\r\n  // Clock hands\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, radius * w, radius * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .58 * w, 0.1 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, radius * w, radius * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .78 * w, .54 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Package\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0.15 * h, true);\r\n  geo.add(fig);\r\n\r\n  // Package bottom rectangle\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.15 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  var fig2 = new go.PathFigure(0, 0.15 * h, true);\r\n  geo.add(fig2);\r\n  // Package top flap\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, 0.15 * h).close());\r\n  geo.spot1 = new go.Spot(0, 0.1);\r\n  geo.spot2 = new go.Spot(1, 1);\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Class\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  // Class box\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0).close());\r\n  var fig2 = new go.PathFigure(0, 0.2 * h, false);\r\n  geo.add(fig2);\r\n  // Top box separater\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0.2 * h).close());\r\n  var fig3 = new go.PathFigure(0, 0.5 * h, false);\r\n  geo.add(fig3);\r\n  // Middle box separater\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Component\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, h, true);\r\n  geo.add(fig);\r\n\r\n  // Component Box\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h).close());\r\n  var fig2 = new go.PathFigure(0, 0.2 * h, true);\r\n  geo.add(fig2);\r\n  // Component top sub box\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.2 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.4 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, 0.4 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, 0.2 * h).close());\r\n  var fig3 = new go.PathFigure(0, 0.6 * h, true);\r\n  geo.add(fig3);\r\n  // Component bottom sub box\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.6 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.8 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0, 0.8 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0, 0.6 * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Boat Shipment\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0.15 * w, 0.6 * h, true);\r\n  geo.add(fig);\r\n\r\n  // Boat shipment flag\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, 0.6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.85 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.85 * w, 0.6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, 0.6 * h));\r\n  var fig2 = new go.PathFigure(0.15 * w, 0.6 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.85 * w, 0.6 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Customer/Supplier\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.66 * w, 0.33 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.66 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.33 * w, 0.33 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.33 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.33 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Workcell\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.65 * w, 0.4 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.35 * w, 0.4 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.35 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Supermarket\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.33 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.33 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, w, 0.33 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.66 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.66 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, w, 0.66 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"TruckShipment\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  // Left rectangle\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0).close());\r\n  var fig2 = new go.PathFigure(w, 0.8 * h, true);\r\n  geo.add(fig2);\r\n  // Right rectangle\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0.4 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.4 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.8 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0.8 * h).close());\r\n  var radius = .1;\r\n  var cpOffset = KAPPA * .1;\r\n  var centerx = .2;\r\n  var centery = .9;\r\n  var fig3 = new go.PathFigure((centerx - radius) * w, centery * h, true);\r\n  geo.add(fig3);\r\n  // Left wheel\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h).close());\r\n  radius = .1;\r\n  cpOffset = KAPPA * .1;\r\n  centerx = .8;\r\n  centery = .9;\r\n  var fig4 = new go.PathFigure((centerx - radius) * w, centery * h, true);\r\n  geo.add(fig4);\r\n  // Right wheel\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"KanbanPost\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0.2 * w, 0, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, .5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Forklift\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  var fig2 = new go.PathFigure(0, 0.5 * h, true);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, 0.8 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.8 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.5 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0, 0.5 * h));\r\n  var fig3 = new go.PathFigure(0.50 * w, 0.8 * h, true);\r\n  geo.add(fig3);\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.50 * w, 0.1 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, 0.1 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, 0.8 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.50 * w, 0.8 * h));\r\n  var fig4 = new go.PathFigure(0.5 * w, 0.7 * h, false);\r\n  geo.add(fig4);\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w, 0.7 * h));\r\n  var radius = .1;\r\n  var cpOffset = KAPPA * .1;\r\n  var centerx = .1;\r\n  var centery = .9\r\n  var fig5 = new go.PathFigure((centerx - radius) * w, centery * h, true);\r\n  geo.add(fig5);\r\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  radius = .1;\r\n  cpOffset = KAPPA * .1;\r\n  centerx = .4;\r\n  centery = .9;\r\n  var fig6 = new go.PathFigure((centerx - radius) * w, centery * h, true);\r\n  geo.add(fig6);\r\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"RailShipment\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0.1 * w, 0.4 * h, true);\r\n  geo.add(fig);\r\n\r\n  // Left cart\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.4 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.45 * w, 0.9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0.9 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0.4 * h).close());\r\n  var fig2 = new go.PathFigure(0.45 * w, 0.7 * h, false);\r\n  geo.add(fig2);\r\n  // Line connecting carts\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, 0.7 * h));\r\n  var fig3 = new go.PathFigure(0.55 * w, 0.4 * h, true);\r\n  geo.add(fig3);\r\n  // Right cart\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.4 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.9 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, 0.9 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, 0.4 * h).close());\r\n  var radius = .05;\r\n  var cpOffset = KAPPA * .05;\r\n  var centerx = .175;\r\n  var centery = .95;\r\n  var fig4 = new go.PathFigure((centerx - radius) * w, centery * h, true);\r\n  geo.add(fig4);\r\n  // Wheels\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  var radius = .05;\r\n  var cpOffset = KAPPA * .05;\r\n  var centerx = .375;\r\n  var centery = .95;\r\n  var fig5 = new go.PathFigure((centerx - radius) * w, centery * h, true);\r\n  geo.add(fig5);\r\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  var radius = .05;\r\n  var cpOffset = KAPPA * .05;\r\n  var centerx = .625;\r\n  var centery = .95;\r\n  var fig6 = new go.PathFigure((centerx - radius) * w, centery * h, true);\r\n  geo.add(fig6);\r\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig6.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  var radius = .05;\r\n  var cpOffset = KAPPA * .05;\r\n  var centerx = .825;\r\n  var centery = .95;\r\n  var fig7 = new go.PathFigure((centerx - radius) * w, centery * h, true);\r\n  geo.add(fig7);\r\n  fig7.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig7.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig7.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig7.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h).close());\r\n  var fig8 = new go.PathFigure(0, h, false);\r\n  geo.add(fig8);\r\n  fig8.add(new go.PathSegment(go.PathSegment.Line, w, h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Warehouse\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0).close());\r\n  var fig2 = new go.PathFigure(0, 0.2 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0.2 * h).close());\r\n  var fig3 = new go.PathFigure(0.15 * w, h, true);\r\n  geo.add(fig3);\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, 0.5 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.40 * w, 0.5 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.40 * w, h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, h).close());\r\n  var radius = .05;\r\n  var cpOffset = KAPPA * .05;\r\n  var centerx = .35;\r\n  var centery = .775;\r\n  var fig4 = new go.PathFigure((centerx - radius) * w, centery * h, true);\r\n  geo.add(fig4);\r\n  // Door handle\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h).close());;\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"ControlCenter\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0.8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.1 * w, 0.8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.8 * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Bluetooth\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0.75 * h, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.75 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.25 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.75 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.25 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Bookmark\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.2 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.2 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.4 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.4 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Bookmark\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.2 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.2 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.4 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.4 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Globe\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0.5 * w, 0, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, 0.5 * h, 0.75 * w, 0, w, 0.25 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, h, w, 0.75 * h, 0.75 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0.5 * h, 0.25 * w, h, 0, 0.75 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0, 0, 0.25 * h, 0.25 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, h, 0.15 * w, 0.25 * h, 0.15 * w, 0.75 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0, 0.85 * w, 0.75 * h, 0.85 * w, 0.25 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.1675 * w, 0.15 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.8325 * w, 0.15 * h, 0.35 * w, 0.3 * h, 0.65 * w, 0.3 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.1675 * w, 0.85 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.8325 * w, 0.85 * h, 0.35 * w, 0.7 * h, 0.65 * w, 0.7 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Wave\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0.25 * h, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.3 * w, 0.25 * h, 0.10 * w, 0, 0.2 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.7 * w, 0.25 * h, 0.425 * w, 0.5 * h, 0.575 * w, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, 0.25 * h, 0.8 * w, 0, 0.9 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.75 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0, 0.25 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.75 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.3 * w, 0.75 * h, 0.10 * w, 0.5 * h, 0.2 * w, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.7 * w, 0.75 * h, 0.425 * w, h, 0.575 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, 0.75 * h, 0.8 * w, 0.5 * h, 0.9 * w, 0.5 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Operator\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var radius = .3;\r\n  var cpOffset = KAPPA * .3;\r\n  var centerx = .5;\r\n  var centery = .7;\r\n  var fig = new go.PathFigure((centerx - radius) * w, centery * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  var fig2 = new go.PathFigure(0, 0.7 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, w, 0.7 * h, 0, 0, w, 0));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"TripleFanBlades\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0.5 * w, 0, true);\r\n  geo.add(fig);\r\n\r\n  // Top blade\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.65 * h, 0.65 * w, 0.3 * h, 0.65 * w, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0, 0.35 * w, 0.5 * h, 0.35 * w, 0.3 * h));\r\n  // Bottom left blade\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.65 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h, 0.3 * w, 0.6 * h, 0.1 * w, 0.8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.65 * h, 0.2 * w, h, 0.35 * w, 0.95 * h));\r\n  // Bottom right blade\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.65 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, h, 0.7 * w, 0.6 * h, 0.9 * w, 0.8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.65 * h, 0.8 * w, h, 0.65 * w, 0.95 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"CentrifugalPump\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w, 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0.5 * h, 0, 0.075 * h, 0, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.4 * w, h, 0, h, 0.4 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.8 * w, 0.4 * h, 0.8 * w, h, 0.85 * w, 0.6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.4 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Battery\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.4 * w, 0.1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.1 * h));\r\n  var fig2 = new go.PathFigure(0, 0.6 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0, 0.4 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, 0.4 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Delete\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var radius = .5;\r\n  var cpOffset = KAPPA * .5;\r\n  var centerx = .5;\r\n  var centery = .5;\r\n  var fig = new go.PathFigure((centerx - radius) * w, centery * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h));\r\n  var fig2 = new go.PathFigure(0.15 * w, 0.5 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.85 * w, 0.5 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Flag\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0.1 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0, 0.1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.1 * h, 0.15 * w, 0, 0.35 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, 0.1 * h, 0.65 * w, 0.2 * h, 0.85 * w, 0.2 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.5 * h, 0.85 * w, 0.6 * h, 0.65 * w, 0.6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0.5 * h, 0.35 * w, 0.4 * h, 0.15 * w, 0.4 * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Help\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var radius = .5;\r\n  var cpOffset = KAPPA * .5;\r\n  var centerx = .5;\r\n  var centery = .5;\r\n  var fig = new go.PathFigure((centerx - radius) * w, centery * h, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h).close());\r\n  radius = .05;\r\n  cpOffset = KAPPA * .05;\r\n  centerx = .5;\r\n  centery = .8;\r\n  var fig2 = new go.PathFigure((centerx - radius) * w, centery * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery - radius) * h, (centerx - radius) * w, (centery - cpOffset) * h,\r\n    (centerx - cpOffset) * w, (centery - radius) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx + radius) * w, centery * h, (centerx + cpOffset) * w, (centery - radius) * h,\r\n    (centerx + radius) * w, (centery - cpOffset) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, centerx * w, (centery + radius) * h, (centerx + radius) * w, (centery + cpOffset) * h,\r\n    (centerx + cpOffset) * w, (centery + radius) * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, (centerx - radius) * w, centery * h, (centerx - cpOffset) * w, (centery + radius) * h,\r\n    (centerx - radius) * w, (centery + cpOffset) * h).close());\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.7 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.5 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0.2 * h, 0.75 * w, 0.475 * h, 0.75 * w, 0.225 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0.3 * w, 0.35 * h, 0.4 * w, 0.2 * h, 0.3 * w, 0.25 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Location\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0.5 * w, h, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, 0.5 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0.5 * w, 0, .975 * w, 0.025 * h, 0.5 * w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0.25 * w, 0.5 * h, 0.5 * w, 0, 0.025 * w, 0.025 * h).close())\r\n      .add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.2 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Arc, 270, 360, 0.5 * w, 0.3 * h, 0.1 * w, 0.1 * h).close()));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Lock\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0.5 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.5 * h));\r\n  var fig2 = new go.PathFigure(0.2 * w, 0.5 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.5 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, 0.3 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0.8 * w, 0.3 * h, 0.25 * w, 0, 0.75 * w, 0));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.5 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.3 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Unlocked\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0.5 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.5 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, 0.5 * h));\r\n  var fig2 = new go.PathFigure(0.2 * w, 0.5 * h, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.5 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, 0.3 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Bezier, 0.8 * w, 0.3 * h, 0.25 * w, 0, 0.75 * w, 0));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, 0.8 * w, 0.35 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Gear\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0.9375 * w, 0.56246875 * h, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.9375 * w, 0.4375 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.80621875 * w, 0.4375 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0.763 * w, 0.3316875 * h, 0.79840625 * w, 0.39915625 * h, 0.7834375 * w, 0.3635 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.8566875 * w, 0.23796875 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.76825 * w, 0.14959375 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.67596875 * w, 0.24184375 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0.5625 * w, 0.19378125 * h, 0.64228125 * w, 0.2188125 * h, 0.603875 * w, 0.2021875 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.5625 * w, 0.0625 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.4375 * w, 0.0625 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.4375 * w, 0.19378125 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0.32775 * w, 0.239375 * h, 0.39759375 * w, 0.20190625 * h, 0.36053125 * w, 0.2176875 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.2379375 * w, 0.14959375 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.14953125 * w, 0.2379375 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.23934375 * w, 0.3278125 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0.19378125 * w, 0.4375 * h, 0.21765625 * w, 0.36059375 * h, 0.201875 * w, 0.397625 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.0625 * w, 0.4375 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.0625 * w, 0.5625 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.1938125 * w, 0.5625 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0.241875 * w, 0.67596875 * h, 0.20221875 * w, 0.603875 * h, 0.21884375 * w, 0.64228125 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.1495625 * w, 0.76825 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.238 * w, 0.8566875 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.3316875 * w, 0.76296875 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0.43753125 * w, 0.80621875 * h, 0.36353125 * w, 0.78340625 * h, 0.3991875 * w, 0.79840625 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.43753125 * w, 0.9375 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.5625 * w, 0.9375 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.5625 * w, 0.80621875 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0.67225 * w, 0.760625 * h, 0.602375 * w, 0.79809375 * h, 0.63946875 * w, 0.78234375 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.76828125 * w, 0.8566875 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.85671875 * w, 0.76825 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.76065625 * w, 0.67221875 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Bezier, 0.80621875 * w, 0.56246875 * h, 0.78234375 * w, 0.63940625 * h, 0.798125 * w, 0.602375 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.9375 * w, 0.56246875 * h).close())\r\n\r\n      .add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.6 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Arc, 90, 360, 0.5 * w, 0.5 * h, 0.1 * w, 0.1 * h).close()));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Hand\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0.5 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.1 * w, 0.3 * h, 0, 0.375 * h, 0.05 * w, 0.325 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.45 * w, 0.075 * h, 0.3 * w, 0.225 * h, 0.4 * w, 0.175 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.525 * w, 0.075 * h, 0.46 * w, 0.05 * h, 0.525 * w, 0.05 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.3 * w, 0.4 * h, 0.525 * w, 0.275 * h, 0.475 * w, 0.325 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.4 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.9 * w, 0.55 * h, w, 0.4 * h, w, 0.55 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.425 * w, 0.55 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.55 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.6 * w, 0.7 * h, 0.675 * w, 0.55 * h, 0.675 * w, 0.7 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0.7 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.575 * w, 0.7 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.575 * w, 0.85 * h, 0.65 * w, 0.7 * h, 0.65 * w, 0.85 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0.85 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.525 * w, 0.85 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.535 * w, h, 0.61 * w, 0.85 * h, 0.61 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, 0.9 * h, 0.435 * w, h, 0, h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Map\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0.2 * h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.25 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.2 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, 0.2 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, 0.8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.25 * w, 0.8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h).close());\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.25 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.25 * w, 0.8 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.5 * w, 0.2 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.75 * w, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.75 * w, 0.8 * h));\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Eject\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, h, true);\r\n  geo.add(fig);\r\n\r\n  // bottam rectangle section\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h * .7));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * .7).close());\r\n  var fig2 = new go.PathFigure(0, (h * .6), true);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w, (.6 * h)));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .5 * w, 0).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Pencil\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, 0.1 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0.9 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0.2 * h).close()));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Building\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w * 1, h * 1, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * 1)); // bottom part\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * .85));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .046 * w, h * .85));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .046 * w, h * .45));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * .45));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * .30));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .046 * w, h * .30));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .5 * w, h * 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (1 - .046) * w, h * .30));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h * .30));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h * .45));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (1 - .046) * w, h * .45));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, (1 - .046) * w, h * .85));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h * .85).close());\r\n  var fig2 = new go.PathFigure(.126 * w, .85 * h, false); // is filled in our not\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .126 * w, .45 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .322 * w, .45 * h));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, .322 * w, .85 * h).close());\r\n  var fig3 = new go.PathFigure(.402 * w, .85 * h, false); // is filled in our not\r\n  geo.add(fig3);\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .402 * w, .45 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .598 * w, .45 * h));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, .598 * w, .85 * h).close());\r\n  var fig4 = new go.PathFigure(.678 * w, .85 * h, false); // is filled in our not\r\n  geo.add(fig4);\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .678 * w, .45 * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .874 * w, .45 * h));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, .874 * w, .85 * h).close());\r\n  // the top inner triangle\r\n  var fig5 = new go.PathFigure(.5 * w, .1 * h, false); // is filled in our not\r\n  geo.add(fig5);\r\n  fig5.add(new go.PathSegment(go.PathSegment.Line, (.046 + .15) * w, .30 * h));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Line, (1 - (.046 + .15)) * w, .30 * h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Staircase\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, h * 1, true);\r\n  geo.add(fig);\r\n\r\n  // Bottom part\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .20, h * 1)); // bottom left part\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .20, h * .80));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .40, h * .80));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .40, h * .60));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * .60));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * .40));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .80, h * .40));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .80, h * .20));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .20));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .15));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * .15));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * .35));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, h * .35));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, h * .55));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .35, h * .55));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .35, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .15, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .15, h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * .95).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"5Bars\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, h * 1, true); // bottom left\r\n  geo.add(fig);\r\n\r\n  // Width of each bar is .184\r\n  // space in between each bar is .2\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .184, h * 1)); // bottom left part\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .184, h * (1 - .184)).close());\r\n  var fig3 = new go.PathFigure(w * .204, h, true); // is filled in our not\r\n  geo.add(fig3);\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .204, h * (1 - .184)));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .388, h * (1 - (.184 * 2))));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .388, h * 1).close());\r\n  var fig4 = new go.PathFigure(w * .408, h, true); // is filled in our not\r\n  geo.add(fig4);\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .408, h * (1 - (.184 * 2))));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .592, h * (1 - (.184 * 3))));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .592, h * 1).close());\r\n  var fig5 = new go.PathFigure(w * .612, h, true); // is filled in our not\r\n  geo.add(fig5);\r\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * .612, h * (1 - (.184 * 3))));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * .796, h * (1 - (.184 * 4))));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * .796, h * 1).close());\r\n  var fig6 = new go.PathFigure(w * .816, h, true); // is filled in our not\r\n  geo.add(fig6);\r\n  fig6.add(new go.PathSegment(go.PathSegment.Line, w * .816, h * (1 - (.184 * 4))));\r\n  fig6.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * (1 - (.184 * 5))));\r\n  fig6.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"PC\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, true); // top right\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .3, h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .3, 0).close());\r\n  // Drive looking rectangle 1\r\n  var fig2 = new go.PathFigure(w * .055, .07 * h, true); // is filled in our not\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .245, h * .07));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .245, h * .1));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .055, h * .1).close());\r\n  // Drive looking rectangle 2\r\n  var fig3 = new go.PathFigure(w * .055, .13 * h, true); // is filled in our not\r\n  geo.add(fig3);\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .245, h * .13));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .245, h * .16));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .055, h * .16).close());\r\n  // Drive/cd rom looking rectangle 3\r\n  var fig4 = new go.PathFigure(w * .055, .18 * h, true); // is filled in our not\r\n  geo.add(fig4);\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .245, h * .18));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .245, h * .21));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .055, h * .21).close());\r\n  var fig5 = new go.PathFigure(w * 1, 0, true); // is filled in our not\r\n  geo.add(fig5);\r\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * .4, 0));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * .4, h * .65));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .65).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Plane\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0.55 * w, h, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0.7 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, .1 * w, 0.475 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.35 * w, 0.525 * h, 0, 0.4 * h, 0.225 * w, 0.45 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0.475 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.15 * w, 0.35 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, 0.325 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.325 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.85 * w, 0.1 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0.9 * w, 0.2 * h, 0.975 * w, 0, w, .08 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.7 * w, 0.45 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.6 * w, 0.95 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0.55 * w, h).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Key\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w * 1, h * .5, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .90, .40 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .50, .40 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .50, .35 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .45, .35 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .30, .20 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .15, .20 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .35 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, .65 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .15, .80 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .30, .80 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .45, .65 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .50, .65 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .50, .6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .60, .6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .65, .55 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .70, .6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, .55 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .80, .6 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .85, .575 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .9, 0.60 * h).close());\r\n  fig.add(new go.PathSegment(go.PathSegment.Move, 0.17 * w, 0.425 * h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 270, 360, 0.17 * w, 0.5 * h, 0.075 * w, 0.075 * h).close());\r\n  return geo;\r\n});\r\n\r\n// movie like logo\r\ngo.Shape.defineFigureGenerator(\"FilmTape\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(0, 0, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Arc, 270, 180, w * 0, w * 0.3, w * 0.055)); // left semi-circle\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .08, h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .08, h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 1), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 1), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 2), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 2), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 3), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 3), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 4), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 4), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 5), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 5), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 6), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 6), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 7), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 7), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 8), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 8), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 9), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 9), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 10), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 10), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 11), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 11), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 12), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 12), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 13), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 13), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 14), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 14), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 15), h * .95));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (.08 + .056 * 15), h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1));\r\n  var fig2 = new go.PathFigure(0, 0, false); // is filled in our not\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 0));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Arc, 270, -180, w * 1, w * 0.3, w * 0.055)); // right semi circle\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1));\r\n  // Each of the little square boxes on the tape\r\n  var fig3 = new go.PathFigure(w * .11, h * .1, false); // is filled in our not\r\n  geo.add(fig3);\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + (.24133333 * 1) + (.028 * 0)), h * .1));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + (.24133333 * 1) + (.028 * 0)), h * .8));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .11, h * .8).close());\r\n  var fig4 = new go.PathFigure(w * (.11 + (.24133333 * 1) + (.028 * 1)), h * .1, false); // is filled in our not\r\n  geo.add(fig4);\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + (.24133333 * 2) + (.028 * 1)), h * .1));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + (.24133333 * 2) + (.028 * 1)), h * .8));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + (.24133333 * 1) + (.028 * 1)), h * .8).close());\r\n  var fig5 = new go.PathFigure(w * (.11 + (.24133333 * 2) + (.028 * 2)), h * .1, false); // is filled in our not\r\n  geo.add(fig5);\r\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + (.24133333 * 3) + (.028 * 2)), h * .1));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + (.24133333 * 3) + (.028 * 2)), h * .8));\r\n  fig5.add(new go.PathSegment(go.PathSegment.Line, w * (.11 + (.24133333 * 2) + (.028 * 2)), h * .8).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"FloppyDisk\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var roundValue = 8;\r\n  var cpOffset = roundValue * KAPPA;\r\n  var fig = new go.PathFigure(roundValue, 0, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .86, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .14));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h - roundValue));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w - roundValue, h, w, h - cpOffset, w - cpOffset, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, roundValue, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h - roundValue, cpOffset, h, 0, h - cpOffset));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, roundValue));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, roundValue, 0, 0, cpOffset, cpOffset, 0).close());\r\n  // interior slightly  rectangle\r\n  var fig2 = new go.PathFigure(w * .83, 0, false);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .83, h * .3));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .17, h * .3));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .17, h * 0).close());\r\n  var fig3 = new go.PathFigure(w * .83, h * 1, false);\r\n  geo.add(fig3);\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .83, h * .5));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .17, h * .5));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .17, h * 1).close());\r\n  var fig4 = new go.PathFigure(w * .78, h * .05, false);\r\n  geo.add(fig4);\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * .05));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * .25));\r\n  fig4.add(new go.PathSegment(go.PathSegment.Line, w * .78, h * .25).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"SpeechBubble\", function (shape, w, h) {\r\n  var param1 = shape ? shape.parameter1 : NaN;\r\n  if (isNaN(param1) || param1 < 0) param1 = 15;  // default corner\r\n  param1 = Math.min(param1, w / 3);\r\n  param1 = Math.min(param1, h / 3);\r\n\r\n  var cpOffset = param1 * KAPPA;\r\n  var bubbleH = h * .8; // leave some room at bottom for pointer\r\n\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(param1, 0, true);\r\n  geo.add(fig);\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w - param1, 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w, param1, w - cpOffset, 0, w, cpOffset));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, bubbleH - param1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w - param1, bubbleH, w, bubbleH - cpOffset, w - cpOffset, bubbleH));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .70, bubbleH));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .70, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, bubbleH));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1, bubbleH));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, bubbleH - param1, cpOffset, bubbleH, 0, bubbleH - cpOffset));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, 0, param1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, param1, 0, 0, cpOffset, cpOffset, 0).close());\r\n  if (cpOffset > 1) {\r\n    geo.spot1 = new go.Spot(0, 0, cpOffset, cpOffset);\r\n    geo.spot2 = new go.Spot(1, .8, -cpOffset, -cpOffset);\r\n  } else {\r\n    geo.spot1 = go.Spot.TopLeft;\r\n    geo.spot2 = new go.Spot(1, .8);\r\n  }\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Repeat\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w * 0, h * .45, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .25, h * 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .50, h * .45));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .30, h * .45));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .30, h * .90));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * .90));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .65, h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .20, h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .20, h * .45).close());\r\n  var fig2 = new go.PathFigure(w * 1, h * .55, true); // is filled in our not\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * 1));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .50, h * .55));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .70, h * .55));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .70, h * .10));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .40, h * .10));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .35, h * 0));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .80, h * 0));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .80, h * .55).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Windows\", function (shape, w, h) {\r\n  return new go.Geometry()\r\n    .add(new go.PathFigure(0, 0, true)\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, 0))\r\n      .add(new go.PathSegment(go.PathSegment.Line, w, h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0, h).close())\r\n      .add(new go.PathSegment(go.PathSegment.Move, 0.4 * w, 0.4 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.4 * w, 0.8 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.8 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.9 * w, 0.4 * h).close())\r\n      .add(new go.PathSegment(go.PathSegment.Move, 0.2 * w, 0.1 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.2 * w, 0.6 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.7 * w, 0.6 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.7 * w, 0.1 * h).close())\r\n      .add(new go.PathSegment(go.PathSegment.Move, 0.1 * w, 0.6 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.1 * w, 0.9 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.9 * h))\r\n      .add(new go.PathSegment(go.PathSegment.Line, 0.5 * w, 0.6 * h).close()));\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Terminal\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w * 0, h * .10, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .10));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .90));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 0, h * .90).close());\r\n  var fig2 = new go.PathFigure(w * .10, h * .20, true); // is filled in our not\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .10, h * .25));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .22, h * .285)); // midpoint\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .10, h * .32));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .10, h * .37));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .275, h * .32));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .275, h * .25).close());\r\n  var fig3 = new go.PathFigure(w * .28, h * .37, true); // is filled in our not\r\n  geo.add(fig3);\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .45, h * .37));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .45, h * .41));\r\n  fig3.add(new go.PathSegment(go.PathSegment.Line, w * .28, h * .41).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Beaker\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var param1 = 15;\r\n  var cpOffset = param1 * KAPPA;\r\n  var fig = new go.PathFigure(w * .62, h * .475, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w, h - param1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, w - param1, h, w, h - cpOffset, w - cpOffset, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, param1, h));\r\n  fig.add(new go.PathSegment(go.PathSegment.Bezier, 0, h - param1, cpOffset, h, 0, h - cpOffset));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .38, h * .475));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .38, h * .03));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .36, h * 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .64, h * 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .62, h * .03).close());\r\n  if (cpOffset > 1) {\r\n    geo.spot1 = new go.Spot(0, 0, cpOffset, cpOffset);\r\n    geo.spot2 = new go.Spot(1, 1, -cpOffset, -cpOffset);\r\n  } else {\r\n    geo.spot1 = go.Spot.TopLeft;\r\n    geo.spot2 = go.Spot.BottomRight;\r\n  }\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Download\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w * 0, h * 1, true);\r\n  geo.add(fig);\r\n\r\n  var third = .1 / .3; // just to keep values consistent\r\n  // outer frame\r\n  // starts bottom left\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .8, h * 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * .055));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .755, h * .055));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .93, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .64, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .61, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .5, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .39, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .36, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .07, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .755), h * (.055)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .66), h * (.055)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .66), h * (0)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .8), h * (0)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 0, h * (1 - third)).close());\r\n  // arrow pointing down\r\n  var fig2 = new go.PathFigure(w * .40, h * 0, true);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .40, h * .44));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .26, h * .44));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .5, h * .66));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .26), h * .44));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * .44));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * 0).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Bin\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w * 0, h * 1, true);\r\n  geo.add(fig);\r\n\r\n  var third = .1 / .3; // just to keep values consistent\r\n  // outer frame\r\n  // starts bottom left\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .8, h * 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * .055));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .755, h * .055));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .93, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .64, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .61, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .5, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .39, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .36, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .07, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .755), h * (.055)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .66), h * (.055)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .66), h * (0)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .8), h * (0)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 0, h * (1 - third)).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Upload\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w * 0, h * 1, true);\r\n  geo.add(fig);\r\n\r\n  var third = .1 / .3; // just to keep values consistent\r\n  // outer frame\r\n  // starts bottom left\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .8, h * 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .66, h * .055));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .755, h * .055));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .93, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .64, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .61, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .5, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .39, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .36, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .07, h * (1 - third)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .755), h * (.055)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .66), h * (.055)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .66), h * (0)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * (1 - .8), h * (0)));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 0, h * (1 - third)).close());\r\n  var fig2 = new go.PathFigure(w * .5, h * 0, true);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .26, h * .25));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .40, h * .25));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .40, h * .63));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * .63));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .60, h * .25));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .74, h * .25).close());\r\n\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"EmptyDrink\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w * .15, h * 0, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .85, h * 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .70, h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .30, h * 1).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Drink\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w * .15, h * 0, false);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .85, h * 0));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .70, h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .30, h * 1).close());\r\n  var fig2 = new go.PathFigure(w * .235, h * .28, true);\r\n  geo.add(fig2);\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .765, h * .28));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .655, h * .97));\r\n  fig2.add(new go.PathSegment(go.PathSegment.Line, w * .345, h * .97).close());\r\n\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"4Arrows\", function (shape, w, h) {\r\n  var geo = new go.Geometry();\r\n  var fig = new go.PathFigure(w * .5, h * 0, true);\r\n  geo.add(fig);\r\n\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .65, h * .25));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, h * .25));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, h * .45));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * .45));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * .35));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 1, h * .5));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * .65));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .75, h * .55));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, h * .55));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .55, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .65, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .5, h * 1));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .35, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .45, h * .75));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .45, h * .55));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .25, h * .55));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .25, h * .65));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * 0, h * .5));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .25, h * .35));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .25, h * .45));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .45, h * .45));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .45, h * .25));\r\n  fig.add(new go.PathSegment(go.PathSegment.Line, w * .35, h * .25).close());\r\n  return geo;\r\n});\r\n\r\ngo.Shape.defineFigureGenerator(\"Connector\", \"Ellipse\");\r\ngo.Shape.defineFigureGenerator(\"Alternative\", \"TriangleUp\");\r\ngo.Shape.defineFigureGenerator(\"Merge\", \"TriangleUp\");\r\ngo.Shape.defineFigureGenerator(\"Decision\", \"Diamond\");\r\ngo.Shape.defineFigureGenerator(\"DataTransmissions\", \"Hexagon\");\r\ngo.Shape.defineFigureGenerator(\"Gate\", \"Crescent\");\r\ngo.Shape.defineFigureGenerator(\"Delay\", \"HalfEllipse\");\r\ngo.Shape.defineFigureGenerator(\"Input\", \"Parallelogram1\");\r\ngo.Shape.defineFigureGenerator(\"ManualLoop\", \"ManualOperation\");\r\ngo.Shape.defineFigureGenerator(\"ISOProcess\", \"Chevron\");\r\ngo.Shape.defineFigureGenerator(\"MessageToUser\", \"SquareArrow\");\r\ngo.Shape.defineFigureGenerator(\"MagneticData\", \"Cylinder1\");\r\ngo.Shape.defineFigureGenerator(\"DirectData\", \"Cylinder4\");\r\ngo.Shape.defineFigureGenerator(\"StoredData\", \"DataStorage\");\r\ngo.Shape.defineFigureGenerator(\"SequentialData\", \"MagneticTape\");\r\ngo.Shape.defineFigureGenerator(\"Subroutine\", \"Procedure\");\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}