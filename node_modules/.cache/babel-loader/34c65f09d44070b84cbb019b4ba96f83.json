{"ast":null,"code":"import * as go from 'gojs';\nimport { FigureParameter } from './Figures';\nexport function Diagrama() {\n  /*const userStory = [\r\n      {\r\n          \"id\": \"SI-1\",\r\n          \"name\": \"Iniciar sesión\",\r\n          \"actor\": \"User\",\r\n          \"points\": 1,\r\n          \"project\": \"Old project\",\r\n          \"purpose\": \"\",\r\n          \"priority\": \"Baja\",\r\n          \"dependencias\": [\r\n              {\r\n                  \"id\": \"SI-21\",\r\n                  \"name\": \"Verificar si esta autenticado\"\r\n              }\r\n          ],\r\n          \"restrictions\": \"\",\r\n          \"acceptanceCriteria\": \"\"\r\n      }\r\n  ]*/\n  var json = [{\n    \"id\": \"MS1\",\n    \"calls\": 3,\n    \"requests\": 1,\n    \"puntos_historia\": 19,\n    \"complejidad\": 19.00,\n    \"acoplamiento\": {\n      \"AIS\": 2.00,\n      \"ADS\": 0.00,\n      \"SIY\": 0.00\n    },\n    \"cohesion\": {\n      \"lack\": 2.00,\n      \"grade\": 0.67\n    },\n    \"similitud_semantica\": 0.70,\n    \"historias\": [{\n      \"id\": \"hu1\",\n      \"dependencias\": [\"hu3\", \"hu4\"]\n    }, {\n      \"id\": \"hu2\",\n      \"dependencias\": [\"hu4\"]\n    }, {\n      \"id\": \"hu5\",\n      \"dependencias\": []\n    }]\n  }, {\n    \"id\": \"MS2\",\n    \"calls\": 1,\n    \"requests\": 1,\n    \"puntos_historia\": 9,\n    \"complejidad\": 9.00,\n    \"acoplamiento\": {\n      \"AIS\": 1.00,\n      \"ADS\": 1.00,\n      \"SIY\": 0.00\n    },\n    \"cohesion\": {\n      \"lack\": 2.00,\n      \"grade\": 0.67\n    },\n    \"similitud_semantica\": 0.70,\n    \"historias\": [{\n      \"id\": \"hu3\",\n      \"dependencias\": [\"hu1\"]\n    }]\n  }, {\n    \"id\": \"MS3\",\n    \"calls\": 0,\n    \"requests\": 2,\n    \"puntos_historia\": 23,\n    \"complejidad\": 23.00,\n    \"acoplamiento\": {\n      \"AIS\": 0.00,\n      \"ADS\": 2.00,\n      \"SIY\": 0.00\n    },\n    \"cohesion\": {\n      \"lack\": 2.00,\n      \"grade\": 0.67\n    },\n    \"similitud_semantica\": 0.73,\n    \"historias\": [{\n      \"id\": \"hu4\",\n      \"dependencias\": []\n    }, {\n      \"id\": \"hu8\",\n      \"dependencias\": []\n    }]\n  }, {\n    \"id\": \"MS4\",\n    \"calls\": 4,\n    \"requests\": 0,\n    \"puntos_historia\": 15,\n    \"complejidad\": 15.00,\n    \"acoplamiento\": {\n      \"AIS\": 0.00,\n      \"ADS\": 2.00,\n      \"SIY\": 0.00\n    },\n    \"cohesion\": {\n      \"lack\": 2.00,\n      \"grade\": 0.67\n    },\n    \"similitud_semantica\": 0.73,\n    \"historias\": [{\n      \"id\": \"hu6\",\n      \"dependencias\": [\"hu1\", \"hu4\"]\n    }, {\n      \"id\": \"hu7\",\n      \"dependencias\": [\"hu4\"]\n    }, {\n      \"id\": \"hu9\",\n      \"dependencias\": [\"hu3\"]\n    }, {\n      \"id\": \"hu10\",\n      \"dependencias\": []\n    }, {\n      \"id\": \"hu11\",\n      \"dependencias\": []\n    }, {\n      \"id\": \"hu12\",\n      \"dependencias\": []\n    }, {\n      \"id\": \"hu13\",\n      \"dependencias\": []\n    }\n    /*,\r\n    {\r\n    \"id\": \"hu14\",\r\n    \"dependencias\": []\r\n    }/*,\r\n    {\r\n    \"id\": \"hu15\",\r\n    \"dependencias\": []\r\n    }/*,\r\n    {\r\n    \"id\": \"hu16\",\r\n    \"dependencias\": []\r\n    }*/\n    ]\n  }];\n  var myDiagram;\n  var lastStroked = null; // Recuerda la última forma resaltada\n\n  function init() {\n    var $ = go.GraphObject.make; // Para abreviar la definición de plantillas\n\n    var myToolTip = $(go.HTMLInfo, {\n      show: showToolTip // No hacer nada al ocultar: esta información sobre herramientas no \n\n    }); //se oculta a menos que el mouse abandone el diagrama\n\n    myDiagram = $(go.Diagram, \"myDiagramDiv\", {\n      \"undoManager.isEnabled\": true,\n      // Para hacer debug en consola del navegador\n      contentAlignment: go.Spot.Center,\n      // Centra el contenido en el viewport (ventana gráfica)\n      \"toolManager.hoverDelay\": 10,\n      // Qué tan rápido aparece el tooltip\n      isReadOnly: false,\n      // No permite modificar\n      mouseOver: doMouseOver,\n      // Este manejador de eventos se define abajo\n      click: doMouseOver // Este manejador de eventos se define abajo\n\n    });\n    var nodos = [];\n    var aristas = [];\n\n    var _loop = function _loop(i) {\n      nodos = nodos.concat({\n        acoplamiento_AIS: json[i].acoplamiento.AIS,\n        acoplamiento_ADS: json[i].acoplamiento.ADS,\n        acoplamiento_SIY: json[i].acoplamiento.SIY,\n        cohesion_lack: json[i].cohesion.lack,\n        cohesion_grade: json[i].cohesion.grade,\n        columnas: Math.ceil(Math.sqrt(json[i].historias.length)),\n        complejidad: json[i].complejidad,\n        isGroup: true,\n        key: json[i].id,\n        puntos_historia: json[i].puntos_historia,\n        size: 55 + json[i].historias.length * 12,\n        similitud_semantica: json[i].similitud_semantica\n      });\n\n      var _loop2 = function _loop2(j) {\n        nodos = nodos.concat({\n          group: json[i].id,\n          key: json[i].historias[j].id\n        });\n\n        var _loop3 = function _loop3(k) {\n          aristas = aristas.concat({\n            from: json[i].id,\n            to: function () {\n              for (var l = 0; l < json.length; l++) {\n                for (var m = 0; m < json[l].historias.length; m++) {\n                  if (json[i].historias[j].dependencias[k] === json[l].historias[m].id) {\n                    return json[l].id;\n                  }\n                }\n              }\n            }()\n          });\n        };\n\n        for (var k = 0; k < json[i].historias[j].dependencias.length; k++) {\n          _loop3(k);\n        }\n      };\n\n      for (var j = 0; j < json[i].historias.length; j++) {\n        _loop2(j);\n      }\n    };\n\n    for (var i = 0; i < json.length; i++) {\n      _loop(i);\n    }\n\n    ;\n    myDiagram.groupTemplate = // Define una plantilla simple de grupos\n    $(go.Group, \"Vertical\", {\n      // 'Vertical' Pone el id del nodo abajo\n      selectable: true,\n      deletable: false,\n      // No permite borrar el grupo\n      toolTip: myToolTip,\n      copyable: false\n    }, new go.Binding(\"layout\", \"columnas\", function (c) {\n      return $(go.GridLayout, {\n        wrappingColumn: c,\n        // Determina cantidad de columnas\n        cellSize: new go.Size(0, 0),\n        // Determina ancho de columnas\n        spacing: new go.Size(0, 0) // Determina espacio entre columnas\n\n      });\n    }), $(go.Panel, \"Spot\", $(go.Shape, \"RoundedRectangle\", {\n      name: \"MICROSERVICIO\",\n      strokeWidth: 4,\n      // Ancho del borde\n      stroke: null,\n      // Sin borde\n      fill: \"rgba(125, 200, 120, .6)\"\n    }, new go.Binding(\"width\", \"size\"), // Asigna al ancho el valor de size\n    new go.Binding(\"height\", \"size\") // Asigna a la altura el valor de size\n    ), $(go.TextBlock, \"text\", {\n      alignment: new go.Spot(0.5, 0.23) // valores de 0,0 (izquierda,arriba) a 1,1 (derecha, abajo)\n\n    }, new go.Binding(\"text\", \"key\") // Asigna al texto el valor de key\n    ), $(go.Placeholder, {\n      // Centra las HUs en el hexágono del microservicio\n      padding: 1\n    })));\n    myDiagram.nodeTemplate = $(go.Node, \"Auto\", {\n      // 'Auto' Ajusta el tamaño del elemento según sus subelementos. \n      //locationSpot: go.Spot.Center,\n      selectable: false,\n      deletable: false // No permite borrar el nodo\n\n    }, $(go.Shape, \"RoundedRectangle\", {\n      fill: \"white\"\n    }), $(go.TextBlock, \"text\", new go.Binding(\"text\", \"key\") // Asigna al texto el valor de key\n    ));\n    myDiagram.linkTemplate = $(go.Link, {\n      curve: go.Link.Bezier,\n      reshapable: true,\n      deletable: false // No permite borrar la flecha\n\n    }, // No necesita guardar Link.points, por lo que no necesita TwoWay Binding en \"puntos\"\n    new go.Binding(\"curviness\", \"curviness\").makeTwoWay(), // pero guarda \"curvas\" automáticamente\n    $(go.Shape, {\n      // Características del cuerpo de la flecha       \n      strokeWidth: 2\n    }), $(go.Shape, {\n      // Características de la cabeza de la flecha  \n      toArrow: \"standard\",\n      // Forma de la cabeza de la flecha  \n      stroke: \"white\" // Borde de la cabeza de flecha\n\n    }));\n    myDiagram.model = new go.GraphLinksModel(nodos, aristas); // Crea el modelo del diagrama a mostrar\n\n    function doMouseOver(e) {\n      // Llamado cuando el mouse está sobre el fondo del diagrama\n      if (e === undefined) {\n        e = myDiagram.lastInput;\n      }\n\n      var doc = e.documentPoint; // Encuentra todos los nodos que están a 1 unidad de distancia\n\n      var list = myDiagram.findObjectsNear(doc, 1, null, function (x) {\n        return x instanceof go.Node;\n      }); // Encuentra el que está más cerca de e.documentPoint\n\n      var closest = null;\n      var closestDist = 999999999;\n      list.each(function (node) {\n        var dist = doc.distanceSquaredPoint(node.getDocumentPoint(go.Spot.Center));\n\n        if (dist < closestDist) {\n          closestDist = dist;\n          closest = node;\n        }\n      });\n      showToolTip(closest, myDiagram);\n    } // Llamado con un Nodo (o nulo) cerca o sobre el que está el mouse\n\n\n    function showToolTip(obj, diagram) {\n      if (obj !== null) {\n        var node = obj.part;\n        var e = diagram.lastInput;\n        var shape = node.findObject(\"MICROSERVICIO\");\n\n        if (shape != null) {\n          shape.stroke = \"white\"; // Pone borde al elemento seleccionado\n        }\n\n        if (lastStroked !== null && lastStroked !== shape) {\n          lastStroked.stroke = null; // Quita el borde del elemento que ya no está seleccionado\n        }\n\n        lastStroked = shape;\n        updateInfoBox(e.viewPoint, node.data);\n      } else {\n        if (lastStroked !== null) {\n          lastStroked.stroke = null;\n        }\n\n        lastStroked = null;\n        document.getElementById(\"infoBoxHolder\").innerHTML = \"\";\n      }\n    } // Se asegura de que el cuadro de información esté oculto si el usuario intenta pasar el mouse sobre él\n\n\n    var infoBoxH = document.getElementById(\"infoBoxHolder\");\n    infoBoxH.addEventListener(\"mousemove\", function () {\n      var box = document.getElementById(\"infoBoxHolder\");\n      box.style.left = parseInt(box.style.left)\n      /* + \"px\"*/\n      ;\n      box.style.top = parseInt(box.style.top)\n      /* + 30 + \"px\"*/\n      ;\n    }, false);\n    var diagramDiv = document.getElementById(\"myDiagramDiv\"); // Se asegura de que el cuadro de información esté oculto cuando el mouse no esté sobre el Diagrama\n\n    diagramDiv.addEventListener(\"mouseout\", function (e) {\n      if (lastStroked !== null) lastStroked.stroke = null;\n      lastStroked = null;\n      var infoBox = document.getElementById(\"infoBox\");\n      var box = document.getElementById(\"infoBoxHolder\");\n      var elem = document.elementFromPoint(e.clientX, e.clientY);\n\n      if (elem !== null && (elem === infoBox || elem.parentNode === infoBox)) {\n        box.style.left = parseInt(box.style.left) + \"px\";\n        box.style.top = parseInt(box.style.top) + 30 + \"px\";\n      } else {\n        box.innerHTML = \"\";\n      }\n    }, false);\n  } // end init  \n  // Función que actualiza la información en el tooltip\n\n\n  function updateInfoBox(mousePt, data) {\n    var box = document.getElementById(\"infoBoxHolder\");\n    box.innerHTML = \"\";\n    var infobox = document.createElement(\"div\");\n    infobox.id = \"infoBox\";\n    box.appendChild(infobox);\n\n    for (var i = 0; i < 17; i++) {\n      var child = document.createElement(\"div\");\n\n      switch (i) {\n        case 0:\n          child.className = \"infoTitle\";\n          child.textContent = data.key;\n          break;\n\n        case 1:\n          child.className = \"infoKey\";\n          child.textContent = \"Acoplamiento (AIS)\";\n          break;\n\n        case 2:\n          child.className = \"infoValue\";\n          child.textContent = data.acoplamiento_AIS;\n          break;\n\n        case 3:\n          child.className = \"infoKey\";\n          child.textContent = \"Acoplamiento (ADS)\";\n          break;\n\n        case 4:\n          child.className = \"infoValue\";\n          child.textContent = data.acoplamiento_ADS;\n          break;\n\n        case 5:\n          child.className = \"infoKey\";\n          child.textContent = \"Acoplamiento (SIY)\";\n          break;\n\n        case 6:\n          child.className = \"infoValue\";\n          child.textContent = data.acoplamiento_SIY;\n          break;\n\n        case 7:\n          child.className = \"infoKey\";\n          child.textContent = \"Cohesión (Lack)\";\n          break;\n\n        case 8:\n          child.className = \"infoValue\";\n          child.textContent = data.cohesion_lack;\n          break;\n\n        case 9:\n          child.className = \"infoKey\";\n          child.textContent = \"Cohesión (Grade)\";\n          break;\n\n        case 10:\n          child.className = \"infoValue\";\n          child.textContent = data.cohesion_grade;\n          break;\n\n        case 11:\n          child.className = \"infoKey\";\n          child.textContent = \"Complejidad cognitiva\";\n          break;\n\n        case 12:\n          child.className = \"infoValue\";\n          child.textContent = data.complejidad;\n          break;\n\n        case 13:\n          child.className = \"infoKey\";\n          child.textContent = \"Similitud semántica\";\n          break;\n\n        case 14:\n          child.className = \"infoValue\";\n          child.textContent = data.similitud_semantica;\n          break;\n\n        case 15:\n          child.className = \"infoKey\";\n          child.textContent = \"Puntos de historia\";\n          break;\n\n        case 16:\n          child.className = \"infoValue\";\n          child.textContent = data.puntos_historia;\n          break;\n\n        default:\n          child.textContent = \"\";\n          break;\n      }\n\n      infobox.appendChild(child);\n    }\n\n    box.style.left = mousePt.x + 30 + \"px\";\n    box.style.top = mousePt.y + 20 + \"px\";\n  }\n\n  window.addEventListener('DOMContentLoaded', init);\n}","map":{"version":3,"names":["go","FigureParameter","Diagrama","json","myDiagram","lastStroked","init","$","GraphObject","make","myToolTip","HTMLInfo","show","showToolTip","Diagram","contentAlignment","Spot","Center","isReadOnly","mouseOver","doMouseOver","click","nodos","aristas","i","concat","acoplamiento_AIS","acoplamiento","AIS","acoplamiento_ADS","ADS","acoplamiento_SIY","SIY","cohesion_lack","cohesion","lack","cohesion_grade","grade","columnas","Math","ceil","sqrt","historias","length","complejidad","isGroup","key","id","puntos_historia","size","similitud_semantica","j","group","k","from","to","l","m","dependencias","groupTemplate","Group","selectable","deletable","toolTip","copyable","Binding","c","GridLayout","wrappingColumn","cellSize","Size","spacing","Panel","Shape","name","strokeWidth","stroke","fill","TextBlock","alignment","Placeholder","padding","nodeTemplate","Node","linkTemplate","Link","curve","Bezier","reshapable","makeTwoWay","toArrow","model","GraphLinksModel","e","undefined","lastInput","doc","documentPoint","list","findObjectsNear","x","closest","closestDist","each","node","dist","distanceSquaredPoint","getDocumentPoint","obj","diagram","part","shape","findObject","updateInfoBox","viewPoint","data","document","getElementById","innerHTML","infoBoxH","addEventListener","box","style","left","parseInt","top","diagramDiv","infoBox","elem","elementFromPoint","clientX","clientY","parentNode","mousePt","infobox","createElement","appendChild","child","className","textContent","y","window"],"sources":["C:/visualizacion_microservicios/src/Diagrama.js"],"sourcesContent":["import * as go from 'gojs';\r\nimport { FigureParameter } from './Figures'\r\nexport function Diagrama() {\r\n    /*const userStory = [\r\n        {\r\n            \"id\": \"SI-1\",\r\n            \"name\": \"Iniciar sesión\",\r\n            \"actor\": \"User\",\r\n            \"points\": 1,\r\n            \"project\": \"Old project\",\r\n            \"purpose\": \"\",\r\n            \"priority\": \"Baja\",\r\n            \"dependencias\": [\r\n                {\r\n                    \"id\": \"SI-21\",\r\n                    \"name\": \"Verificar si esta autenticado\"\r\n                }\r\n            ],\r\n            \"restrictions\": \"\",\r\n            \"acceptanceCriteria\": \"\"\r\n        }\r\n    ]*/\r\n\r\n    const json = [\r\n        {\r\n            \"id\": \"MS1\",\r\n            \"calls\": 3,\r\n            \"requests\": 1,\r\n            \"puntos_historia\": 19,\r\n            \"complejidad\": 19.00,\r\n            \"acoplamiento\": {\r\n                \"AIS\": 2.00,\r\n                \"ADS\": 0.00,\r\n                \"SIY\": 0.00\r\n            },\r\n            \"cohesion\": {\r\n                \"lack\": 2.00,\r\n                \"grade\": 0.67\r\n            },\r\n            \"similitud_semantica\": 0.70,\r\n            \"historias\": [\r\n                {\r\n                    \"id\": \"hu1\",\r\n                    \"dependencias\": [\"hu3\", \"hu4\"]\r\n                },\r\n                {\r\n                    \"id\": \"hu2\",\r\n                    \"dependencias\": [\"hu4\"]\r\n                },\r\n                {\r\n                    \"id\": \"hu5\",\r\n                    \"dependencias\": []\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"id\": \"MS2\",\r\n            \"calls\": 1,\r\n            \"requests\": 1,\r\n            \"puntos_historia\": 9,\r\n            \"complejidad\": 9.00,\r\n            \"acoplamiento\": {\r\n                \"AIS\": 1.00,\r\n                \"ADS\": 1.00,\r\n                \"SIY\": 0.00\r\n            },\r\n            \"cohesion\": {\r\n                \"lack\": 2.00,\r\n                \"grade\": 0.67\r\n            },\r\n            \"similitud_semantica\": 0.70,\r\n            \"historias\": [\r\n                {\r\n                    \"id\": \"hu3\",\r\n                    \"dependencias\": [\"hu1\"]\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"id\": \"MS3\",\r\n            \"calls\": 0,\r\n            \"requests\": 2,\r\n            \"puntos_historia\": 23,\r\n            \"complejidad\": 23.00,\r\n            \"acoplamiento\": {\r\n                \"AIS\": 0.00,\r\n                \"ADS\": 2.00,\r\n                \"SIY\": 0.00\r\n            },\r\n            \"cohesion\": {\r\n                \"lack\": 2.00,\r\n                \"grade\": 0.67\r\n            },\r\n            \"similitud_semantica\": 0.73,\r\n            \"historias\": [\r\n                {\r\n                    \"id\": \"hu4\",\r\n                    \"dependencias\": []\r\n                },\r\n                {\r\n                    \"id\": \"hu8\",\r\n                    \"dependencias\": []\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            \"id\": \"MS4\",\r\n            \"calls\": 4,\r\n            \"requests\": 0,\r\n            \"puntos_historia\": 15,\r\n            \"complejidad\": 15.00,\r\n            \"acoplamiento\": {\r\n                \"AIS\": 0.00,\r\n                \"ADS\": 2.00,\r\n                \"SIY\": 0.00\r\n            },\r\n            \"cohesion\": {\r\n                \"lack\": 2.00,\r\n                \"grade\": 0.67\r\n            },\r\n            \"similitud_semantica\": 0.73,\r\n            \"historias\": [\r\n                {\r\n                    \"id\": \"hu6\",\r\n                    \"dependencias\": [\"hu1\", \"hu4\"]\r\n                },\r\n                {\r\n                    \"id\": \"hu7\",\r\n                    \"dependencias\": [\"hu4\"]\r\n                },\r\n                {\r\n                    \"id\": \"hu9\",\r\n                    \"dependencias\": [\"hu3\"]\r\n                },\r\n                {\r\n                    \"id\": \"hu10\",\r\n                    \"dependencias\": []\r\n                },\r\n                {\r\n                    \"id\": \"hu11\",\r\n                    \"dependencias\": []\r\n                },\r\n                {\r\n                    \"id\": \"hu12\",\r\n                    \"dependencias\": []\r\n                },\r\n                {\r\n                    \"id\": \"hu13\",\r\n                    \"dependencias\": []\r\n                }/*,\r\n            {\r\n                \"id\": \"hu14\",\r\n                \"dependencias\": []\r\n            }/*,\r\n            {\r\n                \"id\": \"hu15\",\r\n                \"dependencias\": []\r\n            }/*,\r\n            {\r\n                \"id\": \"hu16\",\r\n                \"dependencias\": []\r\n            }*/\r\n            ]\r\n        }\r\n    ]\r\n\r\n    var myDiagram;\r\n    var lastStroked = null;  // Recuerda la última forma resaltada\r\n\r\n    function init() {\r\n\r\n        var $ = go.GraphObject.make;  // Para abreviar la definición de plantillas\r\n\r\n        var myToolTip = $(go.HTMLInfo, {\r\n            show: showToolTip,  // No hacer nada al ocultar: esta información sobre herramientas no \r\n        })                      //se oculta a menos que el mouse abandone el diagrama\r\n\r\n        myDiagram = $(go.Diagram, \"myDiagramDiv\", {\r\n            \"undoManager.isEnabled\": true, // Para hacer debug en consola del navegador\r\n            contentAlignment: go.Spot.Center,  // Centra el contenido en el viewport (ventana gráfica)\r\n            \"toolManager.hoverDelay\": 10,  // Qué tan rápido aparece el tooltip\r\n            isReadOnly: false,  // No permite modificar\r\n            mouseOver: doMouseOver,  // Este manejador de eventos se define abajo\r\n            click: doMouseOver  // Este manejador de eventos se define abajo\r\n        });\r\n\r\n        let nodos = [];\r\n        let aristas = [];\r\n\r\n        for (let i = 0; i < json.length; i++) {\r\n            nodos = nodos.concat({\r\n                acoplamiento_AIS: json[i].acoplamiento.AIS,\r\n                acoplamiento_ADS: json[i].acoplamiento.ADS,\r\n                acoplamiento_SIY: json[i].acoplamiento.SIY,\r\n                cohesion_lack: json[i].cohesion.lack,\r\n                cohesion_grade: json[i].cohesion.grade,\r\n                columnas: Math.ceil(Math.sqrt(json[i].historias.length)),\r\n                complejidad: json[i].complejidad,\r\n                isGroup: true,\r\n                key: json[i].id,\r\n                puntos_historia: json[i].puntos_historia,\r\n                size: 55 + (json[i].historias.length * 12),\r\n                similitud_semantica: json[i].similitud_semantica\r\n            });\r\n            for (let j = 0; j < json[i].historias.length; j++) {\r\n                nodos = nodos.concat({\r\n                    group: json[i].id,\r\n                    key: json[i].historias[j].id\r\n                });\r\n                for (let k = 0; k < json[i].historias[j].dependencias.length; k++) {\r\n                    aristas = aristas.concat({\r\n                        from: json[i].id,\r\n                        to: (function () {\r\n                            for (let l = 0; l < json.length; l++) {\r\n                                for (let m = 0; m < json[l].historias.length; m++) {\r\n                                    if (json[i].historias[j].dependencias[k] === json[l].historias[m].id) {\r\n                                        return json[l].id;\r\n                                    }\r\n                                }\r\n                            }\r\n                        })()\r\n                    });\r\n                }\r\n            }\r\n        };\r\n\r\n        myDiagram.groupTemplate = // Define una plantilla simple de grupos\r\n            $(go.Group, \"Vertical\", { // 'Vertical' Pone el id del nodo abajo\r\n                selectable: true,\r\n                deletable: false, // No permite borrar el grupo\r\n                toolTip: myToolTip,\r\n                copyable: false\r\n            },\r\n                new go.Binding(\"layout\", \"columnas\", function (c) {\r\n                    return $(go.GridLayout, {\r\n                        wrappingColumn: c, // Determina cantidad de columnas\r\n                        cellSize: new go.Size(0, 0), // Determina ancho de columnas\r\n                        spacing: new go.Size(0, 0) // Determina espacio entre columnas\r\n                    });\r\n                }),\r\n                $(go.Panel, \"Spot\",\r\n                    $(go.Shape, \"RoundedRectangle\", {\r\n                        name: \"MICROSERVICIO\",\r\n                        strokeWidth: 4, // Ancho del borde\r\n                        stroke: null, // Sin borde\r\n                        fill: \"rgba(125, 200, 120, .6)\"\r\n                    },\r\n                        new go.Binding(\"width\", \"size\"), // Asigna al ancho el valor de size\r\n                        new go.Binding(\"height\", \"size\") // Asigna a la altura el valor de size\r\n                    ), $(go.TextBlock, \"text\", {\r\n                        alignment: new go.Spot(0.5, 0.23) // valores de 0,0 (izquierda,arriba) a 1,1 (derecha, abajo)\r\n                    },\r\n                        new go.Binding(\"text\", \"key\") // Asigna al texto el valor de key\r\n                    ),\r\n                    $(go.Placeholder, { // Centra las HUs en el hexágono del microservicio\r\n                        padding: 1\r\n                    })\r\n                )\r\n            );\r\n\r\n        myDiagram.nodeTemplate =\r\n            $(go.Node, \"Auto\", { // 'Auto' Ajusta el tamaño del elemento según sus subelementos. \r\n                //locationSpot: go.Spot.Center,\r\n                selectable: false,\r\n                deletable: false // No permite borrar el nodo\r\n            },\r\n                $(go.Shape, \"RoundedRectangle\", {\r\n                    fill: \"white\"\r\n                }),\r\n                $(go.TextBlock, \"text\",\r\n                    new go.Binding(\"text\", \"key\") // Asigna al texto el valor de key\r\n                )\r\n            );\r\n\r\n        myDiagram.linkTemplate =\r\n            $(go.Link, {\r\n                curve: go.Link.Bezier,\r\n                reshapable: true,\r\n                deletable: false // No permite borrar la flecha\r\n            },\r\n                // No necesita guardar Link.points, por lo que no necesita TwoWay Binding en \"puntos\"\r\n                new go.Binding(\"curviness\", \"curviness\").makeTwoWay(),  // pero guarda \"curvas\" automáticamente\r\n                $(go.Shape, { // Características del cuerpo de la flecha       \r\n                    strokeWidth: 2\r\n                }),\r\n                $(go.Shape, { // Características de la cabeza de la flecha  \r\n                    toArrow: \"standard\", // Forma de la cabeza de la flecha  \r\n                    stroke: \"white\" // Borde de la cabeza de flecha\r\n                })\r\n            );\r\n\r\n        myDiagram.model = new go.GraphLinksModel(nodos, aristas); // Crea el modelo del diagrama a mostrar\r\n\r\n        function doMouseOver(e) { // Llamado cuando el mouse está sobre el fondo del diagrama\r\n            if (e === undefined) {\r\n                e = myDiagram.lastInput;\r\n            }\r\n            var doc = e.documentPoint;\r\n\r\n            // Encuentra todos los nodos que están a 1 unidad de distancia\r\n            var list = myDiagram.findObjectsNear(doc, 1, null, x => x instanceof go.Node);\r\n\r\n            // Encuentra el que está más cerca de e.documentPoint\r\n            var closest = null;\r\n            var closestDist = 999999999;\r\n            list.each(node => {\r\n                var dist = doc.distanceSquaredPoint(node.getDocumentPoint(go.Spot.Center));\r\n                if (dist < closestDist) {\r\n                    closestDist = dist;\r\n                    closest = node;\r\n                }\r\n            });\r\n            showToolTip(closest, myDiagram);\r\n        }\r\n\r\n        // Llamado con un Nodo (o nulo) cerca o sobre el que está el mouse\r\n        function showToolTip(obj, diagram) {\r\n            if (obj !== null) {\r\n                var node = obj.part;\r\n                var e = diagram.lastInput;\r\n                var shape = node.findObject(\"MICROSERVICIO\");\r\n                if (shape != null) {\r\n                    shape.stroke = \"white\"; // Pone borde al elemento seleccionado\r\n                }\r\n                if (lastStroked !== null && lastStroked !== shape) {\r\n                    lastStroked.stroke = null; // Quita el borde del elemento que ya no está seleccionado\r\n                }\r\n                lastStroked = shape;\r\n                updateInfoBox(e.viewPoint, node.data);\r\n            } else {\r\n                if (lastStroked !== null) {\r\n                    lastStroked.stroke = null;\r\n                }\r\n                lastStroked = null;\r\n                document.getElementById(\"infoBoxHolder\").innerHTML = \"\";\r\n            }\r\n        }\r\n\r\n        // Se asegura de que el cuadro de información esté oculto si el usuario intenta pasar el mouse sobre él\r\n        var infoBoxH = document.getElementById(\"infoBoxHolder\");\r\n        infoBoxH.addEventListener(\"mousemove\", () => {\r\n            var box = document.getElementById(\"infoBoxHolder\");\r\n            box.style.left = parseInt(box.style.left)/* + \"px\"*/;\r\n            box.style.top = parseInt(box.style.top)/* + 30 + \"px\"*/;\r\n        }, false);\r\n\r\n        var diagramDiv = document.getElementById(\"myDiagramDiv\");\r\n\r\n        // Se asegura de que el cuadro de información esté oculto cuando el mouse no esté sobre el Diagrama\r\n        diagramDiv.addEventListener(\"mouseout\", e => {\r\n            if (lastStroked !== null) lastStroked.stroke = null;\r\n            lastStroked = null;\r\n            var infoBox = document.getElementById(\"infoBox\");\r\n            var box = document.getElementById(\"infoBoxHolder\");\r\n            var elem = document.elementFromPoint(e.clientX, e.clientY);\r\n            if (elem !== null && (elem === infoBox || elem.parentNode === infoBox)) {\r\n                box.style.left = parseInt(box.style.left) + \"px\";\r\n                box.style.top = parseInt(box.style.top) + 30 + \"px\";\r\n            } else {\r\n                box.innerHTML = \"\";\r\n            }\r\n        }, false);\r\n\r\n    } // end init  \r\n\r\n    // Función que actualiza la información en el tooltip\r\n    function updateInfoBox(mousePt, data) {\r\n        var box = document.getElementById(\"infoBoxHolder\");\r\n        box.innerHTML = \"\";\r\n        var infobox = document.createElement(\"div\");\r\n        infobox.id = \"infoBox\";\r\n        box.appendChild(infobox);\r\n        for (var i = 0; i < 17; i++) {\r\n            var child = document.createElement(\"div\");\r\n            switch (i) {\r\n                case 0: child.className = \"infoTitle\"; child.textContent = data.key; break;\r\n                case 1: child.className = \"infoKey\"; child.textContent = \"Acoplamiento (AIS)\"; break;\r\n                case 2: child.className = \"infoValue\"; child.textContent = data.acoplamiento_AIS; break;\r\n                case 3: child.className = \"infoKey\"; child.textContent = \"Acoplamiento (ADS)\"; break;\r\n                case 4: child.className = \"infoValue\"; child.textContent = data.acoplamiento_ADS; break;\r\n                case 5: child.className = \"infoKey\"; child.textContent = \"Acoplamiento (SIY)\"; break;\r\n                case 6: child.className = \"infoValue\"; child.textContent = data.acoplamiento_SIY; break;\r\n                case 7: child.className = \"infoKey\"; child.textContent = \"Cohesión (Lack)\"; break;\r\n                case 8: child.className = \"infoValue\"; child.textContent = data.cohesion_lack; break;\r\n                case 9: child.className = \"infoKey\"; child.textContent = \"Cohesión (Grade)\"; break;\r\n                case 10: child.className = \"infoValue\"; child.textContent = data.cohesion_grade; break;\r\n                case 11: child.className = \"infoKey\"; child.textContent = \"Complejidad cognitiva\"; break;\r\n                case 12: child.className = \"infoValue\"; child.textContent = data.complejidad; break;\r\n                case 13: child.className = \"infoKey\"; child.textContent = \"Similitud semántica\"; break;\r\n                case 14: child.className = \"infoValue\"; child.textContent = data.similitud_semantica; break;\r\n                case 15: child.className = \"infoKey\"; child.textContent = \"Puntos de historia\"; break;\r\n                case 16: child.className = \"infoValue\"; child.textContent = data.puntos_historia; break;\r\n                default : child.textContent = \"\"; break;\r\n            }\r\n            infobox.appendChild(child);\r\n        }\r\n        box.style.left = mousePt.x + 30 + \"px\";\r\n        box.style.top = mousePt.y + 20 + \"px\";\r\n    }\r\n    window.addEventListener('DOMContentLoaded', init);\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}